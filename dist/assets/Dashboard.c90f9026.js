import{S as C,e as w,M as l,f as _,D as g,B as Y,L,a as Z}from"./index.3277bc57.js";import{n as b,C as P,V as S,c as A}from"./vendor.4be520cf.js";import{v as G,a as tt,D as et}from"./DraggableContainer.cce84be9.js";import{C as at,T as rt}from"./TradesLog.de59ac3c.js";import{P as ot}from"./GestureTap.1e432692.js";import{T as st}from"./TradeList.7dbd6e10.js";import"./install.4ca6e0c9.js";import"./install.d2933d0c.js";var it=Object.defineProperty,lt=Object.getOwnPropertyDescriptor,y=(t,r,a,e)=>{for(var o=e>1?void 0:e?lt(r,a):r,d=t.length-1,p;d>=0;d--)(p=t[d])&&(o=(e?p(r,a,o):p(o))||o);return e&&o&&it(r,a,o),o},$,k,I,R,j,z;const m=b(C.ftbot);let u=class extends S{constructor(){super(...arguments);this.formatPrice=w,this.tableFields=[{key:"botId",label:"Bot"},{key:"trades",label:"Trades"},{key:"profitOpen",label:"Open Profit"},{key:"profitClosed",label:"Closed Profit"},{key:"balance",label:"Balance"},{key:"winVsLoss",label:"W/L"}]}get tableItems(){console.log("tableItems called");const t=[],r={botId:"Summary",profitClosed:0,profitClosedRatio:0,profitOpen:0,profitOpenRatio:0,stakeCurrency:"USDT",wins:0,losses:0};return Object.entries(this.allProfit).forEach(([a,e])=>{var v,D,O,T;const o=this.allOpenTrades[a].reduce((h,c)=>h+c.stake_amount,0),d=this.allOpenTrades[a].reduce((h,c)=>h+c.profit_ratio*c.stake_amount,0)/o,p=this.allOpenTrades[a].reduce((h,c)=>h+c.profit_abs,0);t.push({botId:this.allAvailableBots[a].botName,trades:`${this.allOpenTradeCount[a]} / ${((v=this.allBotState[a])==null?void 0:v.max_open_trades)||"N/A"}`,profitClosed:e.profit_closed_coin,profitClosedRatio:e.profit_closed_ratio||0,stakeCurrency:((D=this.allBotState[a])==null?void 0:D.stake_currency)||"",profitOpenRatio:d,profitOpen:p,wins:e.winning_trades,losses:e.losing_trades,balance:(O=this.allBalance[a])==null?void 0:O.total,stakeCurrencyDecimals:((T=this.allBotState[a])==null?void 0:T.stake_currency_decimals)||3}),e.profit_closed_coin!==void 0&&(r.profitClosed+=e.profit_closed_coin,r.profitOpen+=e.profit_all_coin,r.wins+=e.winning_trades,r.losses+=e.losing_trades)}),t.push(r),t}};$=l.allProfit,k=l.allOpenTradeCount,I=l.allOpenTrades,R=l.allBotState,j=l.allBalance,z=l.allAvailableBots;y([m.Getter],u.prototype,$,2);y([m.Getter],u.prototype,k,2);y([m.Getter],u.prototype,I,2);y([m.Getter],u.prototype,R,2);y([m.Getter],u.prototype,j,2);y([m.Getter],u.prototype,z,2);u=y([P({components:{ProfitPill:ot}})],u);var M=function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("b-table",{ref:"tradesTable",attrs:{small:"",hover:"","show-empty":"","primary-key":"botId",items:t.tableItems,fields:t.tableFields},scopedSlots:t._u([{key:"cell(profitOpen)",fn:function(e){return[e.item.profitOpen&&e.item.botId!="Summary"?a("profit-pill",{attrs:{"profit-ratio":e.item.profitOpenRatio,"profit-abs":e.item.profitOpen,"stake-currency":e.item.stakeCurrency}}):t._e()]}},{key:"cell(profitClosed)",fn:function(e){return[e.item.profitClosed&&e.item.botId!="Summary"?a("profit-pill",{attrs:{"profit-ratio":e.item.profitClosedRatio,"profit-abs":e.item.profitClosed,"stake-currency":e.item.stakeCurrency}}):t._e()]}},{key:"cell(balance)",fn:function(e){return[e.item.balance?a("div",[a("span",{attrs:{title:e.item.stakeCurrency}},[t._v(t._s(t.formatPrice(e.item.balance,e.item.stakeCurrencyDecimals))+" ")]),a("span",{attrs:{clas:"text-small"}},[t._v(t._s(e.item.stakeCurrency))])]):t._e()]}},{key:"cell(winVsLoss)",fn:function(e){return[e.item.losses!==void 0?a("div",[a("span",{staticClass:"text-profit"},[t._v(t._s(e.item.wins))]),t._v(" / "),a("span",{staticClass:"text-loss"},[t._v(t._s(e.item.losses))])]):t._e()]}}])})},nt=[];M._withStripped=!0;const B={};var F=A(u,M,nt,!1,dt,"7d24a198",null,null);function dt(t){for(let r in B)this[r]=B[r]}F.options.__file="src/components/ftbot/BotComparisonList.vue";var pt=function(){return F.exports}(),ut=Object.defineProperty,yt=Object.getOwnPropertyDescriptor,i=(t,r,a,e)=>{for(var o=e>1?void 0:e?yt(r,a):r,d=t.length-1,p;d>=0;d--)(p=t[d])&&(o=(e?p(r,a,o):p(o))||o);return e&&o&&ut(r,a,o),o},V,E,N,U,W,q,H,J,K;const n=b(C.ftbot),f=b(C.layout);let s=class extends S{constructor(){super(...arguments);this.formatPrice=w,this.localGridLayout=[],this.currentBreakpoint=""}get isLayoutLocked(){return this.getLayoutLocked||!this.isResizableLayout}get isResizableLayout(){return["","sm","md","lg","xl"].includes(this.currentBreakpoint)}get gridLayout(){return this.isResizableLayout?this.getDashboardLayout:this.localGridLayout}set gridLayout(t){}layoutUpdated(t){this.isResizableLayout&&(console.log("newlayout",t),console.log("saving dashboard"),this.setDashboardLayout(t))}get gridLayoutDaily(){return _(this.gridLayout,g.dailyChart)}get gridLayoutBotComparison(){return _(this.gridLayout,g.botComparison)}get gridLayoutAllOpenTrades(){return _(this.gridLayout,g.allOpenTrades)}get gridLayoutCumChart(){return _(this.gridLayout,g.cumChartChart)}get gridLayoutTradesLogChart(){return _(this.gridLayout,g.tradesLogChart)}get responsiveGridLayouts(){return{sm:this.getDashboardLayoutSm}}mounted(){this.allGetDaily({timescale:30}),this.getTrades(),this.getOpenTrades(),this.getPerformance(),this.getProfit(),this.localGridLayout=[...this.getDashboardLayoutSm]}breakpointChanged(t){this.currentBreakpoint=t}};V=l.botCount,E=l.allOpenTradesAllBots,N=l.allTradesAllBots,U=l.allDailyStatsAllBots,W=Y.performanceStats,q=L.getDashboardLayoutSm,H=L.getDashboardLayout,J=Z.setDashboardLayout,K=L.getLayoutLocked;i([n.Getter],s.prototype,V,2);i([n.Getter],s.prototype,E,2);i([n.Getter],s.prototype,N,2);i([n.Getter],s.prototype,U,2);i([n.Getter],s.prototype,W,2);i([n.Action],s.prototype,"getPerformance",2);i([n.Action],s.prototype,"allGetDaily",2);i([n.Action],s.prototype,"getTrades",2);i([n.Action],s.prototype,"getOpenTrades",2);i([n.Action],s.prototype,"getProfit",2);i([f.Getter],s.prototype,q,2);i([f.Getter],s.prototype,H,2);i([f.Action],s.prototype,J,2);i([f.Getter],s.prototype,K,2);s=i([P({components:{GridLayout:G.exports.GridLayout,GridItem:G.exports.GridItem,DailyChart:tt,CumProfitChart:at,TradesLogChart:rt,BotComparisonList:pt,TradeList:st,DraggableContainer:et}})],s);var Q=function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("GridLayout",{staticClass:"h-100 w-100",attrs:{"row-height":50,layout:t.gridLayout,"vertical-compact":!1,margin:[5,5],"responsive-layouts":t.responsiveGridLayouts,"is-resizable":!t.isLayoutLocked,"is-draggable":!t.isLayoutLocked,responsive:!0,"prevent-collision":!0,cols:{lg:12,md:12,sm:12,xs:4,xxs:2}},on:{"update:layout":function(e){t.gridLayout=e},"layout-updated":t.layoutUpdated,"breakpoint-changed":t.breakpointChanged}},[a("GridItem",{attrs:{i:t.gridLayoutDaily.i,x:t.gridLayoutDaily.x,y:t.gridLayoutDaily.y,w:t.gridLayoutDaily.w,h:t.gridLayoutDaily.h,"min-w":3,"min-h":4,"drag-allow-from":".drag-header"}},[a("DraggableContainer",{attrs:{header:"Daily Profit "+(t.botCount>1?"combined":"")}},[t.allDailyStatsAllBots?a("DailyChart",{attrs:{"daily-stats":t.allDailyStatsAllBots,"show-title":!1}}):t._e()],1)],1),a("GridItem",{attrs:{i:t.gridLayoutBotComparison.i,x:t.gridLayoutBotComparison.x,y:t.gridLayoutBotComparison.y,w:t.gridLayoutBotComparison.w,h:t.gridLayoutBotComparison.h,"min-w":3,"min-h":4,"drag-allow-from":".drag-header"}},[a("DraggableContainer",{attrs:{header:"Bot comparison"}},[a("bot-comparison-list")],1)],1),a("GridItem",{attrs:{i:t.gridLayoutAllOpenTrades.i,x:t.gridLayoutAllOpenTrades.x,y:t.gridLayoutAllOpenTrades.y,w:t.gridLayoutAllOpenTrades.w,h:t.gridLayoutAllOpenTrades.h,"min-w":3,"min-h":4,"drag-allow-from":".drag-header"}},[a("DraggableContainer",{attrs:{header:"Open Trades"}},[a("trade-list",{attrs:{"active-trades":!0,trades:t.allOpenTradesAllBots,"multi-bot-view":""}})],1)],1),a("GridItem",{attrs:{i:t.gridLayoutCumChart.i,x:t.gridLayoutCumChart.x,y:t.gridLayoutCumChart.y,w:t.gridLayoutCumChart.w,h:t.gridLayoutCumChart.h,"min-w":3,"min-h":4,"drag-allow-from":".drag-header"}},[a("DraggableContainer",{attrs:{header:"Trades Log"}},[a("TradesLogChart",{attrs:{trades:t.allTradesAllBots,"show-title":!1}})],1)],1),a("GridItem",{attrs:{i:t.gridLayoutTradesLogChart.i,x:t.gridLayoutTradesLogChart.x,y:t.gridLayoutTradesLogChart.y,w:t.gridLayoutTradesLogChart.w,h:t.gridLayoutTradesLogChart.h,"min-w":3,"min-h":4,"drag-allow-from":".drag-header"}})],1)},ct=[];Q._withStripped=!0;const x={};var X=A(s,Q,ct,!1,mt,"22ba47ca",null,null);function mt(t){for(let r in x)this[r]=x[r]}X.options.__file="src/views/Dashboard.vue";var Dt=function(){return X.exports}();export{Dt as default};
//# sourceMappingURL=Dashboard.c90f9026.js.map
