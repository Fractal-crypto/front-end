{"version":3,"file":"FTBotAPIPairList.489f00dd.js","sources":["../../src/components/ftbot/FTBotAPIPairList.vue","../../src/components/ftbot/FTBotAPIPairList.vue?vue&type=template&lang.js"],"sourcesContent":["<template>\n  <!-- TODO We could move the list into a component since we are reusing the same code for both lists. -->\n  <div>\n    <div>\n      <h3>Whitelist Methods</h3>\n\n      <div v-if=\"pairlistMethods.length\" class=\"list\">\n        <b-list-group v-for=\"(method, key) in pairlistMethods\" :key=\"key\">\n          <b-list-group-item href=\"#\" class=\"pair white\">{{ method }}</b-list-group-item>\n        </b-list-group>\n      </div>\n    </div>\n    <!-- Show Whitelist -->\n    <h3>Whitelist</h3>\n    <div v-if=\"whitelist.length\" class=\"list\">\n      <b-list-group v-for=\"(pair, key) in whitelist\" :key=\"key\">\n        <b-list-group-item class=\"pair white\">{{ pair }}</b-list-group-item>\n      </b-list-group>\n    </div>\n    <p v-else>List Unavailable. Please Login and make sure server is running.</p>\n    <hr />\n\n    <!-- Blacklsit -->\n    <div>\n      <label\n        class=\"mr-auto h3\"\n        title=\"Blacklist - Select (followed by a click on '-') to remove pairs\"\n        >Blacklist</label\n      >\n      <div class=\"float-right d-flex d-flex-columns pr-1\">\n        <b-button\n          id=\"blacklist-add-btn\"\n          class=\"mr-1\"\n          :class=\"botApiVersion >= 1.12 ? 'col-6' : ''\"\n          size=\"sm\"\n          >+</b-button\n        >\n        <b-button\n          v-if=\"botApiVersion >= 1.12\"\n          size=\"sm\"\n          class=\"col-6\"\n          title=\"Select pairs to delete pairs from your blacklist.\"\n          :disabled=\"blacklistSelect.length === 0\"\n          @click=\"deletePairs\"\n        >\n          <DeleteIcon :size=\"16\" title=\"Delete Bot\" />\n        </b-button>\n      </div>\n      <b-popover\n        title=\"Add to blacklist\"\n        target=\"blacklist-add-btn\"\n        triggers=\"click blur\"\n        :show.sync=\"blackListShow\"\n      >\n        <form ref=\"form\" @submit.prevent>\n          <div>\n            <b-form-group label-cols=\"2\" label=\"Pair\" label-for=\"pair-input\">\n              <b-form-input\n                id=\"pair-input\"\n                v-model=\"newblacklistpair\"\n                required\n                autofocus\n              ></b-form-input>\n            </b-form-group>\n            <b-button\n              id=\"blacklist-submit\"\n              class=\"float-right mb-2\"\n              size=\"sm\"\n              type=\"submit\"\n              @click=\"addBlacklistPair\"\n              >Add</b-button\n            >\n          </div>\n        </form>\n      </b-popover>\n    </div>\n    <div v-if=\"blacklist.length\" class=\"list\">\n      <b-list-group v-for=\"(pair, key) in blacklist\" :key=\"key\">\n        <b-list-group-item\n          class=\"pair black\"\n          :active=\"blacklistSelect.indexOf(key) > -1\"\n          @click=\"blacklistSelectClick(key)\"\n          ><span class=\"check\">&#x2714;</span>{{ pair }}</b-list-group-item\n        >\n      </b-list-group>\n    </div>\n    <p v-else>BlackList Unavailable. Please Login and make sure server is running.</p>\n    <!-- Pagination -->\n    <!-- TODO Add pagination support -->\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from 'vue-property-decorator';\nimport { namespace } from 'vuex-class';\nimport { BlacklistPayload, BlacklistResponse } from '@/types';\nimport { BotStoreGetters } from '@/store/modules/ftbot';\nimport DeleteIcon from 'vue-material-design-icons/Delete.vue';\nimport StoreModules from '@/store/storeSubModules';\n\nconst ftbot = namespace(StoreModules.ftbot);\n\n@Component({ components: { DeleteIcon } })\nexport default class FTBotAPIPairList extends Vue {\n  newblacklistpair = '';\n\n  blackListShow = false;\n\n  blacklistSelect: number[] = [];\n\n  @ftbot.Action getWhitelist;\n\n  @ftbot.Action getBlacklist;\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  @ftbot.Action addBlacklist!: (payload: BlacklistPayload) => Promise<BlacklistResponse>;\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  @ftbot.Action deleteBlacklist!: (payload: string[]) => Promise<BlacklistResponse>;\n\n  @ftbot.Getter [BotStoreGetters.whitelist]!: string[];\n\n  @ftbot.Getter [BotStoreGetters.blacklist]!: string[];\n\n  @ftbot.Getter [BotStoreGetters.pairlistMethods]!: string[];\n\n  @ftbot.Getter [BotStoreGetters.botApiVersion]: number;\n\n  created() {\n    this.initBlacklist();\n  }\n\n  initBlacklist() {\n    if (this.whitelist.length === 0) {\n      this.getWhitelist();\n    }\n    if (this.blacklist.length === 0) {\n      this.getBlacklist();\n    }\n  }\n\n  addBlacklistPair() {\n    if (this.newblacklistpair) {\n      this.blackListShow = false;\n\n      this.addBlacklist({ blacklist: [this.newblacklistpair] });\n      this.newblacklistpair = '';\n    }\n  }\n\n  blacklistSelectClick(key) {\n    console.log(key);\n    const index = this.blacklistSelect.indexOf(key);\n    if (index > -1) {\n      this.blacklistSelect.splice(index, 1);\n    } else {\n      this.blacklistSelect.push(key);\n    }\n  }\n\n  deletePairs() {\n    if (this.blacklistSelect.length === 0) {\n      console.log('nothing to delete');\n      return;\n    }\n    // const pairlist = this.blacklistSelect;\n    const pairlist = this.blacklist.filter(\n      (value, index) => this.blacklistSelect.indexOf(index) > -1,\n    );\n    console.log('Deleting pairs: ', pairlist);\n    this.deleteBlacklist(pairlist);\n    this.blacklistSelect = [];\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.check {\n  // Hidden checkbox on blacklist selection\n  background: #41b883;\n  opacity: 0;\n  border-radius: 50%;\n  z-index: 5;\n  width: 1.3em;\n  height: 1.3em;\n  top: -0.2em;\n  left: -0.2em;\n  position: absolute;\n  transition: opacity 0.2s;\n}\n.list-group-item.active .check {\n  opacity: 1;\n}\n.list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));\n  grid-gap: 0.5rem;\n  padding-bottom: 1rem;\n}\n.pair {\n  border: 1px solid #ccc;\n  background: #41b883;\n  padding: 0.5rem;\n  border-radius: 5px;\n  text-align: center;\n  position: relative;\n  cursor: pointer;\n}\n.white {\n  background: white;\n  color: black;\n}\n\n.black {\n  background: black;\n  color: white;\n}\n</style>\n","\n<!-- TODO We could move the list into a component since we are reusing the same code for both lists. -->\n<div>\n  <div>\n    <h3>Whitelist Methods</h3>\n\n    <div v-if=\"pairlistMethods.length\" class=\"list\">\n      <b-list-group v-for=\"(method, key) in pairlistMethods\" :key=\"key\">\n        <b-list-group-item href=\"#\" class=\"pair white\">{{ method }}</b-list-group-item>\n      </b-list-group>\n    </div>\n  </div>\n  <!-- Show Whitelist -->\n  <h3>Whitelist</h3>\n  <div v-if=\"whitelist.length\" class=\"list\">\n    <b-list-group v-for=\"(pair, key) in whitelist\" :key=\"key\">\n      <b-list-group-item class=\"pair white\">{{ pair }}</b-list-group-item>\n    </b-list-group>\n  </div>\n  <p v-else>List Unavailable. Please Login and make sure server is running.</p>\n  <hr />\n\n  <!-- Blacklsit -->\n  <div>\n    <label\n      class=\"mr-auto h3\"\n      title=\"Blacklist - Select (followed by a click on '-') to remove pairs\"\n      >Blacklist</label\n    >\n    <div class=\"float-right d-flex d-flex-columns pr-1\">\n      <b-button\n        id=\"blacklist-add-btn\"\n        class=\"mr-1\"\n        :class=\"botApiVersion >= 1.12 ? 'col-6' : ''\"\n        size=\"sm\"\n        >+</b-button\n      >\n      <b-button\n        v-if=\"botApiVersion >= 1.12\"\n        size=\"sm\"\n        class=\"col-6\"\n        title=\"Select pairs to delete pairs from your blacklist.\"\n        :disabled=\"blacklistSelect.length === 0\"\n        @click=\"deletePairs\"\n      >\n        <DeleteIcon :size=\"16\" title=\"Delete Bot\" />\n      </b-button>\n    </div>\n    <b-popover\n      title=\"Add to blacklist\"\n      target=\"blacklist-add-btn\"\n      triggers=\"click blur\"\n      :show.sync=\"blackListShow\"\n    >\n      <form ref=\"form\" @submit.prevent>\n        <div>\n          <b-form-group label-cols=\"2\" label=\"Pair\" label-for=\"pair-input\">\n            <b-form-input\n              id=\"pair-input\"\n              v-model=\"newblacklistpair\"\n              required\n              autofocus\n            ></b-form-input>\n          </b-form-group>\n          <b-button\n            id=\"blacklist-submit\"\n            class=\"float-right mb-2\"\n            size=\"sm\"\n            type=\"submit\"\n            @click=\"addBlacklistPair\"\n            >Add</b-button\n          >\n        </div>\n      </form>\n    </b-popover>\n  </div>\n  <div v-if=\"blacklist.length\" class=\"list\">\n    <b-list-group v-for=\"(pair, key) in blacklist\" :key=\"key\">\n      <b-list-group-item\n        class=\"pair black\"\n        :active=\"blacklistSelect.indexOf(key) > -1\"\n        @click=\"blacklistSelectClick(key)\"\n        ><span class=\"check\">&#x2714;</span>{{ pair }}</b-list-group-item\n      >\n    </b-list-group>\n  </div>\n  <p v-else>BlackList Unavailable. Please Login and make sure server is running.</p>\n  <!-- Pagination -->\n  <!-- TODO Add pagination support -->\n</div>\n"],"names":["FTBotAPIPairList"],"mappings":"4TAoGA,mBAGA,sBAAA,0nCAAAA,qCAAAA,GCvGA,GAAI,GAAS,UAAY,CAAC,GAAI,GAAI,KAAS,EAAG,EAAI,eAAmB,EAAG,EAAI,MAAM,IAAI,EAAG,MAAO,GAAG,MAAM,CAAC,EAAG,MAAM,CAAC,EAAG,KAAK,CAAC,EAAI,GAAG,uBAAwB,EAAI,gBAAgB,OAAQ,EAAG,MAAM,CAAC,YAAY,QAAQ,EAAI,GAAI,EAAI,gBAAiB,SAAS,EAAO,EAAI,CAAC,MAAO,GAAG,eAAe,CAAC,IAAI,GAAK,CAAC,EAAG,oBAAoB,CAAC,YAAY,aAAa,MAAM,CAAC,KAAO,MAAM,CAAC,EAAI,GAAG,EAAI,GAAG,OAAY,KAAK,GAAG,EAAI,OAAO,EAAG,KAAK,CAAC,EAAI,GAAG,eAAgB,EAAI,UAAU,OAAQ,EAAG,MAAM,CAAC,YAAY,QAAQ,EAAI,GAAI,EAAI,UAAW,SAAS,EAAK,EAAI,CAAC,MAAO,GAAG,eAAe,CAAC,IAAI,GAAK,CAAC,EAAG,oBAAoB,CAAC,YAAY,cAAc,CAAC,EAAI,GAAG,EAAI,GAAG,OAAU,KAAK,GAAG,EAAG,IAAI,CAAC,EAAI,GAAG,qEAAqE,EAAG,MAAM,EAAG,MAAM,CAAC,EAAG,QAAQ,CAAC,YAAY,aAAa,MAAM,CAAC,MAAQ,oEAAoE,CAAC,EAAI,GAAG,eAAe,EAAG,MAAM,CAAC,YAAY,0CAA0C,CAAC,EAAG,WAAW,CAAC,YAAY,OAAO,MAAM,EAAI,eAAiB,KAAO,QAAU,GAAG,MAAM,CAAC,GAAK,oBAAoB,KAAO,OAAO,CAAC,EAAI,GAAG,OAAQ,EAAI,eAAiB,KAAM,EAAG,WAAW,CAAC,YAAY,QAAQ,MAAM,CAAC,KAAO,KAAK,MAAQ,oDAAoD,SAAW,EAAI,gBAAgB,SAAW,GAAG,GAAG,CAAC,MAAQ,EAAI,cAAc,CAAC,EAAG,aAAa,CAAC,MAAM,CAAC,KAAO,GAAG,MAAQ,iBAAiB,GAAG,EAAI,MAAM,GAAG,EAAG,YAAY,CAAC,MAAM,CAAC,MAAQ,mBAAmB,OAAS,oBAAoB,SAAW,aAAa,KAAO,EAAI,eAAe,GAAG,CAAC,cAAc,SAAS,EAAO,CAAC,EAAI,cAAc,KAAU,CAAC,EAAG,OAAO,CAAC,IAAI,OAAO,GAAG,CAAC,OAAS,SAAS,EAAO,CAAC,EAAO,oBAAqB,CAAC,EAAG,MAAM,CAAC,EAAG,eAAe,CAAC,MAAM,CAAC,aAAa,IAAI,MAAQ,OAAO,YAAY,eAAe,CAAC,EAAG,eAAe,CAAC,MAAM,CAAC,GAAK,aAAa,SAAW,GAAG,UAAY,IAAI,MAAM,CAAC,MAAO,EAAI,iBAAkB,SAAS,SAAU,EAAK,CAAC,EAAI,iBAAiB,GAAK,WAAW,uBAAuB,GAAG,EAAG,WAAW,CAAC,YAAY,mBAAmB,MAAM,CAAC,GAAK,mBAAmB,KAAO,KAAK,KAAO,UAAU,GAAG,CAAC,MAAQ,EAAI,mBAAmB,CAAC,EAAI,GAAG,UAAU,QAAQ,GAAI,EAAI,UAAU,OAAQ,EAAG,MAAM,CAAC,YAAY,QAAQ,EAAI,GAAI,EAAI,UAAW,SAAS,EAAK,EAAI,CAAC,MAAO,GAAG,eAAe,CAAC,IAAI,GAAK,CAAC,EAAG,oBAAoB,CAAC,YAAY,aAAa,MAAM,CAAC,OAAS,EAAI,gBAAgB,QAAQ,GAAO,IAAI,GAAG,CAAC,MAAQ,SAAS,EAAO,CAAC,MAAO,GAAI,qBAAqB,MAAQ,CAAC,EAAG,OAAO,CAAC,YAAY,SAAS,CAAC,EAAI,GAAG,YAAO,EAAI,GAAG,EAAI,GAAG,OAAU,KAAK,GAAG,EAAG,IAAI,CAAC,EAAI,GAAG,6EAC3+E,EAAkB,GACtB,EAAO,cAAgB"}