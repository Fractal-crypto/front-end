import{b as c,C as f,G as v,V as b,c as g}from"./vendor.4be520cf.js";import{u as C,U as y,i as $,a as x,b as T,c as P,d as w}from"./install.4ca6e0c9.js";import{i as O,a as L,j as I,c as A,k as G}from"./install.d2933d0c.js";import{t as F}from"./index.3277bc57.js";var z=Object.defineProperty,H=Object.getOwnPropertyDescriptor,p=(e,t,o,a)=>{for(var s=a>1?void 0:a?H(t,o):t,i=e.length-1,r;i>=0;i--)(r=e[i])&&(s=(a?r(t,o,s):r(s))||s);return a&&s&&z(t,o,s),s};C([O,L,$,x,I,T,P,w]);const u="Profit";let n=class extends b{constructor(){super(...arguments);this.botList=[]}get cumulativeData(){this.botList=[];const e=[],t={},o=this.trades.slice().sort((s,i)=>s.close_timestamp>i.close_timestamp?1:-1);let a=0;for(let s=0,i=o.length;s<i;s+=1){const r=o[s];r.close_timestamp&&r[this.profitColumn]&&(a+=r[this.profitColumn],t[r.close_timestamp]?(t[r.close_timestamp].profit+=r[this.profitColumn],t[r.close_timestamp][r.botId]?t[r.close_timestamp][r.botId]+=r[this.profitColumn]:t[r.close_timestamp][r.botId]=a):t[r.close_timestamp]={profit:a,[r.botId]:a},e.push({date:r.close_timestamp,profit:a,[r.botId]:a}),this.botList.includes(r.botId)||this.botList.push(r.botId))}return Object.entries(t).map(([s,i])=>({date:parseInt(s,10),profit:i.profit}))}get chartOptions(){return{title:{text:"Cumulative Profit",show:this.showTitle},backgroundColor:"rgba(0, 0, 0, 0)",dataset:{dimensions:["date","profit"],source:this.cumulativeData},tooltip:{trigger:"axis",axisPointer:{type:"line",label:{backgroundColor:"#6a7985"}}},legend:{data:[u],right:"5%"},useUTC:!1,xAxis:{type:"time"},yAxis:[{type:"value",name:u,splitLine:{show:!1},nameRotate:90,nameLocation:"middle",nameGap:40}],grid:{bottom:80},dataZoom:[{type:"inside",start:0,end:100},{show:!0,type:"slider",bottom:10,start:0,end:100}],series:[{type:"line",name:u,animation:!0,step:"end",lineStyle:{color:this.getChartTheme==="dark"?"#c2c2c2":"black"},itemStyle:{color:this.getChartTheme==="dark"?"#c2c2c2":"black"}}]}}};p([c({required:!0})],n.prototype,"trades",2);p([c({default:!0,type:Boolean})],n.prototype,"showTitle",2);p([c({default:"close_profit_abs"})],n.prototype,"profitColumn",2);p([v],n.prototype,"getChartTheme",2);n=p([f({components:{"v-chart":y}})],n);var j=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.trades?o("v-chart",{attrs:{option:e.chartOptions,autoresize:"",theme:e.getChartTheme}}):e._e()},M=[];j._withStripped=!0;const d={};var R=g(n,j,M,!1,q,"c05b190e",null,null);function q(e){for(let t in d)this[t]=d[t]}R.options.__file="src/components/charts/CumProfitChart.vue";var Q=function(){return R.exports}(),B=Object.defineProperty,E=Object.getOwnPropertyDescriptor,m=(e,t,o,a)=>{for(var s=a>1?void 0:a?E(t,o):t,i=e.length-1,r;i>=0;i--)(r=e[i])&&(s=(a?r(t,o,s):r(s))||s);return a&&s&&B(t,o,s),s};C([O,L,$,x,I,T,P,w,A,G]);const h="Profit %",U="#9be0a8";let l=class extends b{get chartData(){const e=[],t=this.trades.slice(0).sort((o,a)=>o.close_timestamp>a.close_timestamp?1:-1);for(let o=0,a=t.length;o<a;o+=1){const s=t[o],i=[o,(s.profit_ratio*100).toFixed(2),s.pair,s.botName,F(s.close_timestamp)];e.push(i)}return e}get chartOptions(){const{chartData:e}=this,t=e.length>0?(1-50/e.length)*100:100;return{title:{text:"Trades log",show:this.showTitle},backgroundColor:"rgba(0, 0, 0, 0)",dataset:{dimensions:["date","profit"],source:e},tooltip:{trigger:"axis",formatter:o=>o[0].data[3]?`${o[0].data[2]} | ${o[0].data[3]}<br>${o[0].data[4]}<br>Profit ${o[0].data[1]} %`:`${o[0].data[2]}<br>${o[0].data[4]}<br>Profit ${o[0].data[1]} %`,axisPointer:{type:"line",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"value",show:!1},yAxis:[{type:"value",name:h,splitLine:{show:!1},nameRotate:90,nameLocation:"middle",nameGap:30}],grid:{bottom:80},dataZoom:[{type:"inside",start:t,end:100},{show:!0,type:"slider",bottom:10,start:t,end:100}],visualMap:[{show:!0,seriesIndex:0,pieces:[{max:0,color:"#f84960"},{min:0,color:"#2ed191"}]}],series:[{type:"bar",name:h,barGap:"0%",barCategoryGap:"0%",animation:!1,label:{show:!0,position:"top",rotate:90,offset:[7.5,7.5],formatter:"{@[1]} %",color:this.getChartTheme==="dark"?"#c2c2c2":"#3c3c3c"},encode:{x:0,y:1},itemStyle:{color:U}}]}}};m([c({required:!0})],l.prototype,"trades",2);m([c({default:!0,type:Boolean})],l.prototype,"showTitle",2);m([v],l.prototype,"getChartTheme",2);l=m([f({components:{"v-chart":y}})],l);var D=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.trades.length>0?o("v-chart",{attrs:{option:e.chartOptions,autoresize:"",theme:e.getChartTheme}}):e._e()},V=[];D._withStripped=!0;const _={};var S=g(l,D,V,!1,Z,"db8c3b2a",null,null);function Z(e){for(let t in _)this[t]=_[t]}S.options.__file="src/components/charts/TradesLog.vue";var W=function(){return S.exports}();export{Q as C,W as T};
//# sourceMappingURL=TradesLog.de59ac3c.js.map
