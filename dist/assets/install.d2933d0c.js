import{aR as Q,bf as Me,C as A,aV as et,bg as ri,bh as ha,p as tt,a6 as Yt,ao as ai,bi as ii,bj as ni,a_ as oi,M as G,aZ as si,bk as li,O as N,an as ui,o as Pe,bl as ca,bm as ee,aO as hi,bn as ci,bo as va,L as R,bp as rt,_ as P,a2 as Y,ac as ht,aa as Oe,bq as Xe,aI as vi,aJ as fi,I as it,V as fa,G as ct,$ as re,bc as pi,br as pa,R as Vt,Y as ke,X as Ut,t as at,bs as Ye,bb as di,ap as da,ar as nt,bt as Kt,au as _t,P as gi,bu as Ue,j as ae,bv as Ke,aj as j,a1 as Ee,bw as qe,g as gt,W as Ae,N as ga,bx as je,a4 as Zt,by as Je,Z as pt,bz as mi,F as ma,bA as ya,S as Qe,bB as yi,as as xi,az as kt,a$ as Et,bC as tr,bD as qt,a3 as er,bE as bi,bF as Si,bG as _i,bH as Mi,aw as ie,aq as Ai,ae as q,bI as wi,av as xa,ay as Ii,bJ as Di,x as Ci,h as Li,bK as rr,B as Ti,b8 as Vi,bL as Pi,bM as ne,bN as Oi,bO as ar,K as Re,bP as ki,H as Lt,bQ as Ei,bR as ir,bS as nr,bT as Ri,a0 as zi,bU as Ni,s as ba,bV as we,bW as or,bX as Bi,bY as Gi,bZ as Hi,b_ as Fi,b4 as sr,aD as ze,aQ as Zi,b$ as Sa,a5 as k,af as X,c0 as lr,c1 as mt,ah as Wi,c2 as oe,c3 as se,c4 as le,c5 as $i,ad as jt,c6 as Xi,u as Mt,be as Yi,c7 as Ui,c8 as Ki,c9 as qi,b6 as ft,ca as ji,cb as Ji,cc as _a,cd as Qi,ce as tn,cf as en,v as ur,b5 as rn,aB as an,al as Wt,ak as Ma,b7 as Tt,e as nn,ai as Aa,f as on,cg as sn,ch as ln,ci as un,Q as hr,cj as hn,ck as cn,cl as vn,cm as cr,cn as fn}from"./install.4ca6e0c9.js";var pn=function(){function i(e){this.coordSysDims=[],this.axisMap=et(),this.categoryAxisMap=et(),this.coordSysName=e}return i}();function dn(i){var e=i.get("coordinateSystem"),t=new pn(e),r=gn[e];if(r)return r(i,t,t.axisMap,t.categoryAxisMap),t}var gn={cartesian2d:function(i,e,t,r){var a=i.getReferringComponents("xAxis",Q).models[0],n=i.getReferringComponents("yAxis",Q).models[0];{if(!a)throw new Error('xAxis "'+Me(i.get("xAxisIndex"),i.get("xAxisId"),0)+'" not found');if(!n)throw new Error('yAxis "'+Me(i.get("xAxisIndex"),i.get("yAxisId"),0)+'" not found')}e.coordSysDims=["x","y"],t.set("x",a),t.set("y",n),yt(a)&&(r.set("x",a),e.firstCategoryDimIndex=0),yt(n)&&(r.set("y",n),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(i,e,t,r){var a=i.getReferringComponents("singleAxis",Q).models[0];if(!a)throw new Error("singleAxis should be specified.");e.coordSysDims=["single"],t.set("single",a),yt(a)&&(r.set("single",a),e.firstCategoryDimIndex=0)},polar:function(i,e,t,r){var a=i.getReferringComponents("polar",Q).models[0],n=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");{if(!o)throw new Error("angleAxis option not found");if(!n)throw new Error("radiusAxis option not found")}e.coordSysDims=["radius","angle"],t.set("radius",n),t.set("angle",o),yt(n)&&(r.set("radius",n),e.firstCategoryDimIndex=0),yt(o)&&(r.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(i,e,t,r){e.coordSysDims=["lng","lat"]},parallel:function(i,e,t,r){var a=i.ecModel,n=a.getComponent("parallel",i.get("parallelIndex")),o=e.coordSysDims=n.dimensions.slice();A(n.parallelAxisIndex,function(s,l){var u=a.getComponent("parallelAxis",s),c=o[l];t.set(c,u),yt(u)&&(r.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function yt(i){return i.get("type")==="category"}function mn(i,e){var t=i.get("coordinateSystem"),r=li.get(t),a;return e&&e.coordSysDims&&(a=N(e.coordSysDims,function(n){var o={name:n},s=e.axisMap.get(n);if(s){var l=s.get("type");o.type=ui(l)}return o})),a||(a=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),a}function yn(i,e,t){var r,a;return t&&A(i,function(n,o){var s=n.coordDim,l=t.categoryAxisMap.get(s);l&&(r==null&&(r=o),n.ordinalMeta=l.getOrdinalMeta(),e&&(n.createInvertedIndices=!0)),n.otherDims.itemName!=null&&(a=!0)}),!a&&r!=null&&(i[r].otherDims.itemName=0),r}function Ne(i,e,t){t=t||{};var r=e.getSourceManager(),a,n=!1;i?(n=!0,a=ri(i)):(a=r.getSource(),n=a.sourceFormat===ha);var o=dn(e),s=mn(e,o),l=t.useEncodeDefaulter,u=tt(l)?l:l?Yt(ai,s,e):null,c={coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!n},h=ii(a,c),f=yn(h.dimensions,t.createInvertedIndices,o),v=n?null:r.getSharedDataStore(h),p=ni(e,{schema:h,store:v}),d=new oi(h,e);d.setCalculationInfo(p);var m=f!=null&&xn(a)?function(g,y,x,S){return S===f?x:this.defaultDimValueGetter(g,y,x,S)}:null;return d.hasItemOption=!1,d.initData(n?a:v,null,m),d}function xn(i){if(i.sourceFormat===ha){var e=bn(i.data||[]);return!G(si(e))}}function bn(i){for(var e=0;e<i.length&&i[e]==null;)e++;return i[e]}var Sn=function(){function i(){}return i.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},i.prototype.getCoordSysModel=function(){},i}(),Pt=Pe();function _n(i){return i.type==="category"?An(i):In(i)}function Mn(i,e){return i.type==="category"?wn(i,e):{ticks:N(i.scale.getTicks(),function(t){return t.value})}}function An(i){var e=i.getLabelModel(),t=wa(i,e);return!e.get("show")||i.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function wa(i,e){var t=Ia(i,"labels"),r=ca(e),a=Da(t,r);if(a)return a;var n,o;return tt(r)?n=Ta(i,r):(o=r==="auto"?Dn(i):r,n=La(i,o)),Ca(t,r,{labels:n,labelCategoryInterval:o})}function wn(i,e){var t=Ia(i,"ticks"),r=ca(e),a=Da(t,r);if(a)return a;var n,o;if((!e.get("show")||i.scale.isBlank())&&(n=[]),tt(r))n=Ta(i,r,!0);else if(r==="auto"){var s=wa(i,i.getLabelModel());o=s.labelCategoryInterval,n=N(s.labels,function(l){return l.tickValue})}else o=r,n=La(i,o,!0);return Ca(t,r,{ticks:n,tickCategoryInterval:o})}function In(i){var e=i.scale.getTicks(),t=ee(i);return{labels:N(e,function(r,a){return{level:r.level,formattedLabel:t(r,a),rawLabel:i.scale.getLabel(r),tickValue:r.value}})}}function Ia(i,e){return Pt(i)[e]||(Pt(i)[e]=[])}function Da(i,e){for(var t=0;t<i.length;t++)if(i[t].key===e)return i[t].value}function Ca(i,e,t){return i.push({key:e,value:t}),t}function Dn(i){var e=Pt(i).autoInterval;return e!=null?e:Pt(i).autoInterval=i.calculateCategoryInterval()}function Cn(i){var e=Ln(i),t=ee(i),r=(e.axisRotate-e.labelRotate)/180*Math.PI,a=i.scale,n=a.getExtent(),o=a.count();if(n[1]-n[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=n[0],u=i.dataToCoord(l+1)-i.dataToCoord(l),c=Math.abs(u*Math.cos(r)),h=Math.abs(u*Math.sin(r)),f=0,v=0;l<=n[1];l+=s){var p=0,d=0,m=hi(t({value:l}),e.font,"center","top");p=m.width*1.3,d=m.height*1.3,f=Math.max(f,p,7),v=Math.max(v,d,7)}var g=f/c,y=v/h;isNaN(g)&&(g=1/0),isNaN(y)&&(y=1/0);var x=Math.max(0,Math.floor(Math.min(g,y))),S=Pt(i.model),_=i.getExtent(),b=S.lastAutoInterval,M=S.lastTickCount;return b!=null&&M!=null&&Math.abs(b-x)<=1&&Math.abs(M-o)<=1&&b>x&&S.axisExtent0===_[0]&&S.axisExtent1===_[1]?x=b:(S.lastTickCount=o,S.lastAutoInterval=x,S.axisExtent0=_[0],S.axisExtent1=_[1]),x}function Ln(i){var e=i.getLabelModel();return{axisRotate:i.getRotate?i.getRotate():i.isHorizontal&&!i.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function La(i,e,t){var r=ee(i),a=i.scale,n=a.getExtent(),o=i.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=n[0],c=a.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var h=ci(i),f=o.get("showMinLabel")||h,v=o.get("showMaxLabel")||h;f&&u!==n[0]&&d(n[0]);for(var p=u;p<=n[1];p+=l)d(p);v&&p-l!==n[1]&&d(n[1]);function d(m){var g={value:m};s.push(t?m:{formattedLabel:r(g),rawLabel:a.getLabel(g),tickValue:m})}return s}function Ta(i,e,t){var r=i.scale,a=ee(i),n=[];return A(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;e(o.value,s)&&n.push(t?l:{formattedLabel:a(o),rawLabel:s,tickValue:l})}),n}var vr=[0,1],Tn=function(){function i(e,t,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=r||[0,0]}return i.prototype.contain=function(e){var t=this._extent,r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]);return e>=r&&e<=a},i.prototype.containData=function(e){return this.scale.contain(e)},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.getPixelPrecision=function(e){return va(e||this.scale.getExtent(),this._extent)},i.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e,r[1]=t},i.prototype.dataToCoord=function(e,t){var r=this._extent,a=this.scale;return e=a.normalize(e),this.onBand&&a.type==="ordinal"&&(r=r.slice(),fr(r,a.count())),R(e,vr,r,t)},i.prototype.coordToData=function(e,t){var r=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(r=r.slice(),fr(r,a.count()));var n=R(e,r,vr,t);return this.scale.scale(n)},i.prototype.pointToData=function(e,t){},i.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),r=Mn(this,t),a=r.ticks,n=N(a,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=t.get("alignWithLabel");return Vn(this,n,o,e.clamp),n},i.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var r=this.scale.getMinorTicks(t),a=N(r,function(n){return N(n,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return a},i.prototype.getViewLabels=function(){return _n(this).labels},i.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},i.prototype.getTickModel=function(){return this.model.getModel("axisTick")},i.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);r===0&&(r=1);var a=Math.abs(e[1]-e[0]);return Math.abs(a)/r},i.prototype.calculateCategoryInterval=function(){return Cn(this)},i}();function fr(i,e){var t=i[1]-i[0],r=e,a=t/r/2;i[0]+=a,i[1]-=a}function Vn(i,e,t,r){var a=e.length;if(!i.onBand||t||!a)return;var n=i.getExtent(),o,s;if(a===1)e[0].coord=n[0],o=e[1]={coord:n[0]};else{var l=e[a-1].tickValue-e[0].tickValue,u=(e[a-1].coord-e[0].coord)/l;A(e,function(v){v.coord-=u/2});var c=i.scale.getExtent();s=1+c[1]-e[a-1].tickValue,o={coord:e[a-1].coord+u*s},e.push(o)}var h=n[0]>n[1];f(e[0].coord,n[0])&&(r?e[0].coord=n[0]:e.shift()),r&&f(n[0],e[0].coord)&&e.unshift({coord:n[0]}),f(n[1],o.coord)&&(r?o.coord=n[1]:e.pop()),r&&f(o.coord,n[1])&&e.push({coord:n[1]});function f(v,p){return v=rt(v),p=rt(p),h?v>p:v<p}}var Pn=Tn,On=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){{var r=t.coordinateSystem;if(r!=="polar"&&r!=="cartesian2d")throw new Error("Line not support coordinateSystem besides cartesian and polar")}return Ne(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var r=new Y,a=ht("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);r.add(a),a.setStyle(t.lineStyle);var n=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=n==="none"?"circle":n,l=t.itemHeight*.8,u=ht(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);r.add(u),u.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?o:t.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),r},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Oe),kn=On;function Be(i,e){var t=i.mapDimensionsAll("defaultedLabel"),r=t.length;if(r===1){var a=Xe(i,e,t[0]);return a!=null?a+"":null}else if(r){for(var n=[],o=0;o<t.length;o++)n.push(Xe(i,e,t[o]));return n.join(" ")}}function Va(i,e){var t=i.mapDimensionsAll("defaultedLabel");if(!G(e))return e+"";for(var r=[],a=0;a<t.length;a++){var n=i.getDimensionIndex(t[a]);n>=0&&r.push(e[n])}return r.join(" ")}var En=function(i){P(e,i);function e(t,r,a,n){var o=i.call(this)||this;return o.updateData(t,r,a,n),o}return e.prototype._createSymbol=function(t,r,a,n,o){this.removeAll();var s=ht(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:n[0]/2,scaleY:n[1]/2}),s.drift=Rn,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){vi(this.childAt(0))},e.prototype.downplay=function(){fi(this.childAt(0))},e.prototype.setZ=function(t,r){var a=this.childAt(0);a.zlevel=t,a.z=r},e.prototype.setDraggable=function(t){var r=this.childAt(0);r.draggable=t,r.cursor=t?"move":r.cursor},e.prototype.updateData=function(t,r,a,n){this.silent=!1;var o=t.getItemVisual(r,"symbol")||"circle",s=t.hostModel,l=e.getSymbolSize(t,r),u=o!==this._symbolType,c=n&&n.disableAnimation;if(u){var h=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,t,r,l,h)}else{var f=this.childAt(0);f.silent=!1;var v={scaleX:l[0]/2,scaleY:l[1]/2};c?f.attr(v):it(f,v,s,r),fa(f)}if(this._updateCommon(t,r,l,a,n),u){var f=this.childAt(0);if(!c){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,ct(f,v,s,r)}}c&&this.childAt(0).stopAnimation("leave"),this._seriesModel=s},e.prototype._updateCommon=function(t,r,a,n,o){var s=this.childAt(0),l=t.hostModel,u,c,h,f,v,p,d,m,g;if(n&&(u=n.emphasisItemStyle,c=n.blurItemStyle,h=n.selectItemStyle,f=n.focus,v=n.blurScope,d=n.labelStatesModels,m=n.hoverScale,g=n.cursorStyle,p=n.emphasisDisabled),!n||t.hasItemOption){var y=n&&n.itemModel?n.itemModel:t.getItemModel(r),x=y.getModel("emphasis");u=x.getModel("itemStyle").getItemStyle(),h=y.getModel(["select","itemStyle"]).getItemStyle(),c=y.getModel(["blur","itemStyle"]).getItemStyle(),f=x.get("focus"),v=x.get("blurScope"),p=x.get("disabled"),d=re(y),m=x.getShallow("scale"),g=y.getShallow("cursor")}var S=t.getItemVisual(r,"symbolRotate");s.attr("rotation",(S||0)*Math.PI/180||0);var _=pi(t.getItemVisual(r,"symbolOffset"),a);_&&(s.x=_[0],s.y=_[1]),g&&s.attr("cursor",g);var b=t.getItemVisual(r,"style"),M=b.fill;if(s instanceof pa){var I=s.style;s.useStyle(Vt({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},b))}else s.__isEmptyBrush?s.useStyle(Vt({},b)):s.useStyle(b),s.style.decal=null,s.setColor(M,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var D=t.getItemVisual(r,"liftZ"),C=this._z2;D!=null?C==null&&(this._z2=s.z2,s.z2+=D):C!=null&&(s.z2=C,this._z2=null);var w=o&&o.useNameLabel;ke(s,d,{labelFetcher:l,labelDataIndex:r,defaultText:L,inheritColor:M,defaultOpacity:b.opacity});function L(O){return w?t.getName(O):Be(t,O)}this._sizeX=a[0]/2,this._sizeY=a[1]/2;var T=s.ensureState("emphasis");if(T.style=u,s.ensureState("select").style=h,s.ensureState("blur").style=c,m){var E=Math.max(1.1,3/this._sizeY);T.scaleX=this._sizeX*E,T.scaleY=this._sizeY*E}this.setSymbolScale(1),Ut(this,f,v,p)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,r){var a=this.childAt(0),n=this._seriesModel,o=at(this).dataIndex,s=r&&r.animation;if(this.silent=a.silent=!0,r&&r.fadeLabel){var l=a.getTextContent();l&&Ye(l,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Ye(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:t,removeOpt:s})},e.getSymbolSize=function(t,r){return di(t.getItemVisual(r,"symbolSize"))},e}(Y);function Rn(i,e){this.parent.drift(i,e)}var Ge=En;function ue(i,e,t,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(t))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&i.getItemVisual(t,"symbol")!=="none"}function pr(i){return i!=null&&!nt(i)&&(i={isIgnore:i}),i||{}}function dr(i){var e=i.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:re(e),cursorStyle:e.get("cursor")}}var zn=function(){function i(e){this.group=new Y,this._SymbolCtor=e||Ge}return i.prototype.updateData=function(e,t){this._progressiveEls=null,t=pr(t);var r=this.group,a=e.hostModel,n=this._data,o=this._SymbolCtor,s=t.disableAnimation,l=dr(e),u={disableAnimation:s},c=t.getSymbolPoint||function(h){return e.getItemLayout(h)};n||r.removeAll(),e.diff(n).add(function(h){var f=c(h);if(ue(e,f,h,t)){var v=new o(e,h,l,u);v.setPosition(f),e.setItemGraphicEl(h,v),r.add(v)}}).update(function(h,f){var v=n.getItemGraphicEl(f),p=c(h);if(!ue(e,p,h,t)){r.remove(v);return}var d=e.getItemVisual(h,"symbol")||"circle",m=v&&v.getSymbolType&&v.getSymbolType();if(!v||m&&m!==d)r.remove(v),v=new o(e,h,l,u),v.setPosition(p);else{v.updateData(e,h,l,u);var g={x:p[0],y:p[1]};s?v.attr(g):it(v,g,a)}r.add(v),e.setItemGraphicEl(h,v)}).remove(function(h){var f=n.getItemGraphicEl(h);f&&f.fadeOut(function(){r.remove(f)})}).execute(),this._getSymbolPoint=c,this._data=e},i.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(r,a){var n=e._getSymbolPoint(a);r.setPosition(n),r.markRedraw()})},i.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=dr(e),this._data=null,this.group.removeAll()},i.prototype.incrementalUpdate=function(e,t,r){this._progressiveEls=[],r=pr(r);function a(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var n=e.start;n<e.end;n++){var o=t.getItemLayout(n);if(ue(t,o,n,r)){var s=new this._SymbolCtor(t,n,this._seriesScope);s.traverse(a),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(n,s),this._progressiveEls.push(s)}}},i.prototype.eachRendered=function(e){da(this._progressiveEls||this.group,e)},i.prototype.remove=function(e){var t=this.group,r=this._data;r&&e?r.eachItemGraphicEl(function(a){a.fadeOut(function(){t.remove(a)})}):t.removeAll()},i}(),Nn=zn;function Pa(i,e,t){var r=i.getBaseAxis(),a=i.getOtherAxis(r),n=Bn(a,t),o=r.dim,s=a.dim,l=e.mapDimension(s),u=e.mapDimension(o),c=s==="x"||s==="radius"?1:0,h=N(i.dimensions,function(p){return e.mapDimension(p)}),f=!1,v=e.getCalculationInfo("stackResultDimension");return Kt(e,h[0])&&(f=!0,h[0]=v),Kt(e,h[1])&&(f=!0,h[1]=v),{dataDimsForPoint:h,valueStart:n,valueAxisDim:s,baseAxisDim:o,stacked:!!f,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Bn(i,e){var t=0,r=i.scale.getExtent();return e==="start"?t=r[0]:e==="end"?t=r[1]:r[0]>0?t=r[0]:r[1]<0&&(t=r[1]),t}function Oa(i,e,t,r){var a=NaN;i.stacked&&(a=t.get(t.getCalculationInfo("stackedOverDimension"),r)),isNaN(a)&&(a=i.valueStart);var n=i.baseDataOffset,o=[];return o[n]=t.get(i.baseDim,r),o[1-n]=a,e.dataToPoint(o)}function Gn(i,e){var t=[];return e.diff(i).add(function(r){t.push({cmd:"+",idx:r})}).update(function(r,a){t.push({cmd:"=",idx:a,idx1:r})}).remove(function(r){t.push({cmd:"-",idx:r})}).execute(),t}function Hn(i,e,t,r,a,n,o,s){for(var l=Gn(i,e),u=[],c=[],h=[],f=[],v=[],p=[],d=[],m=Pa(a,e,o),g=i.getLayout("points")||[],y=e.getLayout("points")||[],x=0;x<l.length;x++){var S=l[x],_=!0,b=void 0,M=void 0;switch(S.cmd){case"=":b=S.idx*2,M=S.idx1*2;var I=g[b],D=g[b+1],C=y[M],w=y[M+1];(isNaN(I)||isNaN(D))&&(I=C,D=w),u.push(I,D),c.push(C,w),h.push(t[b],t[b+1]),f.push(r[M],r[M+1]),d.push(e.getRawIndex(S.idx1));break;case"+":var L=S.idx,T=m.dataDimsForPoint,E=a.dataToPoint([e.get(T[0],L),e.get(T[1],L)]);M=L*2,u.push(E[0],E[1]),c.push(y[M],y[M+1]);var O=Oa(m,a,e,L);h.push(O[0],O[1]),f.push(r[M],r[M+1]),d.push(e.getRawIndex(L));break;case"-":_=!1}_&&(v.push(S),p.push(p.length))}p.sort(function(zt,B){return d[zt]-d[B]});for(var F=u.length,Z=_t(F),V=_t(F),z=_t(F),W=_t(F),$=[],x=0;x<p.length;x++){var At=p[x],U=x*2,K=At*2;Z[U]=u[K],Z[U+1]=u[K+1],V[U]=c[K],V[U+1]=c[K+1],z[U]=h[K],z[U+1]=h[K+1],W[U]=f[K],W[U+1]=f[K+1],$[x]=v[At]}return{current:Z,next:V,stackedOnCurrent:z,stackedOnNext:W,status:$}}var ot=Math.min,st=Math.max;function dt(i,e){return isNaN(i)||isNaN(e)}function Ie(i,e,t,r,a,n,o,s,l){for(var u,c,h,f,v,p,d=t,m=0;m<r;m++){var g=e[d*2],y=e[d*2+1];if(d>=a||d<0)break;if(dt(g,y)){if(l){d+=n;continue}break}if(d===t)i[n>0?"moveTo":"lineTo"](g,y),h=g,f=y;else{var x=g-u,S=y-c;if(x*x+S*S<.5){d+=n;continue}if(o>0){for(var _=d+n,b=e[_*2],M=e[_*2+1];b===g&&M===y&&m<r;)m++,_+=n,d+=n,b=e[_*2],M=e[_*2+1],g=e[d*2],y=e[d*2+1],x=g-u,S=y-c;var I=m+1;if(l)for(;dt(b,M)&&I<r;)I++,_+=n,b=e[_*2],M=e[_*2+1];var D=.5,C=0,w=0,L=void 0,T=void 0;if(I>=r||dt(b,M))v=g,p=y;else{C=b-u,w=M-c;var E=g-u,O=b-g,F=y-c,Z=M-y,V=void 0,z=void 0;if(s==="x"){V=Math.abs(E),z=Math.abs(O);var W=C>0?1:-1;v=g-W*V*o,p=y,L=g+W*z*o,T=y}else if(s==="y"){V=Math.abs(F),z=Math.abs(Z);var $=w>0?1:-1;v=g,p=y-$*V*o,L=g,T=y+$*z*o}else V=Math.sqrt(E*E+F*F),z=Math.sqrt(O*O+Z*Z),D=z/(z+V),v=g-C*o*(1-D),p=y-w*o*(1-D),L=g+C*o*D,T=y+w*o*D,L=ot(L,st(b,g)),T=ot(T,st(M,y)),L=st(L,ot(b,g)),T=st(T,ot(M,y)),C=L-g,w=T-y,v=g-C*V/z,p=y-w*V/z,v=ot(v,st(u,g)),p=ot(p,st(c,y)),v=st(v,ot(u,g)),p=st(p,ot(c,y)),C=g-v,w=y-p,L=g+C*z/V,T=y+w*z/V}i.bezierCurveTo(h,f,v,p,g,y),h=L,f=T}else i.lineTo(g,y)}u=g,c=y,d+=n}return m}var ka=function(){function i(){this.smooth=0,this.smoothConstraint=!0}return i}(),Fn=function(i){P(e,i);function e(t){var r=i.call(this,t)||this;return r.type="ec-polyline",r}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ka},e.prototype.buildPath=function(t,r){var a=r.points,n=0,o=a.length/2;if(r.connectNulls){for(;o>0&&dt(a[o*2-2],a[o*2-1]);o--);for(;n<o&&dt(a[n*2],a[n*2+1]);n++);}for(;n<o;)n+=Ie(t,a,n,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},e.prototype.getPointOn=function(t,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a=this.path,n=a.data,o=gi.CMD,s,l,u=r==="x",c=[],h=0;h<n.length;){var f=n[h++],v=void 0,p=void 0,d=void 0,m=void 0,g=void 0,y=void 0,x=void 0;switch(f){case o.M:s=n[h++],l=n[h++];break;case o.L:if(v=n[h++],p=n[h++],x=u?(t-s)/(v-s):(t-l)/(p-l),x<=1&&x>=0){var S=u?(p-l)*x+l:(v-s)*x+s;return u?[t,S]:[S,t]}s=v,l=p;break;case o.C:v=n[h++],p=n[h++],d=n[h++],m=n[h++],g=n[h++],y=n[h++];var _=u?Ue(s,v,d,g,t,c):Ue(l,p,m,y,t,c);if(_>0)for(var b=0;b<_;b++){var M=c[b];if(M<=1&&M>=0){var S=u?Ke(l,p,m,y,M):Ke(s,v,d,g,M);return u?[t,S]:[S,t]}}s=g,l=y;break}}},e}(ae),Zn=function(i){P(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(ka),Wn=function(i){P(e,i);function e(t){var r=i.call(this,t)||this;return r.type="ec-polygon",r}return e.prototype.getDefaultShape=function(){return new Zn},e.prototype.buildPath=function(t,r){var a=r.points,n=r.stackedOnPoints,o=0,s=a.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&dt(a[s*2-2],a[s*2-1]);s--);for(;o<s&&dt(a[o*2],a[o*2+1]);o++);}for(;o<s;){var u=Ie(t,a,o,s,s,1,r.smooth,l,r.connectNulls);Ie(t,n,o+u-1,u,s,-1,r.stackedOnSmooth,l,r.connectNulls),o+=u+1,t.closePath()}},e}(ae);function Ea(i,e,t,r,a){var n=i.getArea(),o=n.x,s=n.y,l=n.width,u=n.height,c=t.get(["lineStyle","width"])||2;o-=c/2,s-=c/2,l+=c,u+=c,o=Math.floor(o),l=Math.round(l);var h=new j({shape:{x:o,y:s,width:l,height:u}});if(e){var f=i.getBaseAxis(),v=f.isHorizontal(),p=f.inverse;v?(p&&(h.shape.x+=l),h.shape.width=0):(p||(h.shape.y+=u),h.shape.height=0);var d=tt(a)?function(m){a(m,h)}:null;ct(h,{shape:{width:l,height:u,x:o,y:s}},t,null,r,d)}return h}function Ra(i,e,t){var r=i.getArea(),a=rt(r.r0,1),n=rt(r.r,1),o=new Ee({shape:{cx:rt(i.cx,1),cy:rt(i.cy,1),r0:a,r:n,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var s=i.getBaseAxis().dim==="angle";s?o.shape.endAngle=r.startAngle:o.shape.r=a,ct(o,{shape:{endAngle:r.endAngle,r:n}},t)}return o}function $n(i,e,t,r,a){if(i){if(i.type==="polar")return Ra(i,e,t);if(i.type==="cartesian2d")return Ea(i,e,t,r,a)}else return null;return null}function He(i,e){return i.type===e}function gr(i,e){if(i.length===e.length){for(var t=0;t<i.length;t++)if(i[t]!==e[t])return;return!0}}function mr(i){for(var e=1/0,t=1/0,r=-1/0,a=-1/0,n=0;n<i.length;){var o=i[n++],s=i[n++];isNaN(o)||(e=Math.min(o,e),r=Math.max(o,r)),isNaN(s)||(t=Math.min(s,t),a=Math.max(s,a))}return[[e,t],[r,a]]}function yr(i,e){var t=mr(i),r=t[0],a=t[1],n=mr(e),o=n[0],s=n[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(a[0]-s[0]),Math.abs(a[1]-s[1]))}function xr(i){return ga(i)?i:i?.5:0}function Xn(i,e,t){if(!t.valueDim)return[];for(var r=e.count(),a=_t(r*2),n=0;n<r;n++){var o=Oa(t,i,e,n);a[n*2]=o[0],a[n*2+1]=o[1]}return a}function lt(i,e,t){for(var r=e.getBaseAxis(),a=r.dim==="x"||r.dim==="radius"?0:1,n=[],o=0,s=[],l=[],u=[];o<i.length-2;o+=2)switch(u[0]=i[o+2],u[1]=i[o+3],l[0]=i[o],l[1]=i[o+1],n.push(l[0],l[1]),t){case"end":s[a]=u[a],s[1-a]=l[1-a],n.push(s[0],s[1]);break;case"middle":var c=(l[a]+u[a])/2,h=[];s[a]=h[a]=c,s[1-a]=l[1-a],h[1-a]=u[1-a],n.push(s[0],s[1]),n.push(h[0],h[1]);break;default:s[a]=l[a],s[1-a]=u[1-a],n.push(s[0],s[1])}return n.push(i[o++],i[o++]),n}function Yn(i,e){var t=[],r=i.length,a,n;function o(c,h,f){var v=c.coord,p=(f-v)/(h.coord-v),d=yi(p,[c.color,h.color]);return{coord:f,color:d}}for(var s=0;s<r;s++){var l=i[s],u=l.coord;if(u<0)a=l;else if(u>e){n?t.push(o(n,l,e)):a&&t.push(o(a,l,0),o(a,l,e));break}else a&&(t.push(o(a,l,0)),a=null),t.push(l),n=l}return t}function Un(i,e,t){var r=i.getVisual("visualMeta");if(!(!r||!r.length||!i.count())){if(e.type!=="cartesian2d"){console.warn("Visual map on line style is only supported on cartesian2d.");return}for(var a,n,o=r.length-1;o>=0;o--){var s=i.getDimensionInfo(r[o].dimension);if(a=s&&s.coordDim,a==="x"||a==="y"){n=r[o];break}}if(!n){console.warn("Visual map on line style only support x or y dimension.");return}var l=e.getAxis(a),u=N(n.stops,function(x){return{coord:l.toGlobalCoord(l.dataToCoord(x.value)),color:x.color}}),c=u.length,h=n.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),h.reverse());var f=Yn(u,a==="x"?t.getWidth():t.getHeight()),v=f.length;if(!v&&c)return u[0].coord<0?h[1]?h[1]:u[c-1].color:h[0]?h[0]:u[0].color;var p=10,d=f[0].coord-p,m=f[v-1].coord+p,g=m-d;if(g<.001)return"transparent";A(f,function(x){x.offset=(x.coord-d)/g}),f.push({offset:v?f[v-1].offset:.5,color:h[1]||"transparent"}),f.unshift({offset:v?f[0].offset:.5,color:h[0]||"transparent"});var y=new ya(0,0,0,0,f,!0);return y[a]=d,y[a+"2"]=m,y}}function Kn(i,e,t){var r=i.get("showAllSymbol"),a=r==="auto";if(!(r&&!a)){var n=t.getAxesByScale("ordinal")[0];if(!!n&&!(a&&qn(n,e))){var o=e.mapDimension(n.dim),s={};return A(n.getViewLabels(),function(l){var u=n.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(o,l))}}}}function qn(i,e){var t=i.getExtent(),r=Math.abs(t[1]-t[0])/i.scale.count();isNaN(r)&&(r=0);for(var a=e.count(),n=Math.max(1,Math.round(a/5)),o=0;o<a;o+=n)if(Ge.getSymbolSize(e,o)[i.isHorizontal()?1:0]*1.5>r)return!1;return!0}function jn(i,e){return isNaN(i)||isNaN(e)}function Jn(i){for(var e=i.length/2;e>0&&jn(i[e*2-2],i[e*2-1]);e--);return e-1}function br(i,e){return[i[e*2],i[e*2+1]]}function Qn(i,e,t){for(var r=i.length/2,a=t==="x"?0:1,n,o,s=0,l=-1,u=0;u<r;u++)if(o=i[u*2+a],!(isNaN(o)||isNaN(i[u*2+1-a]))){if(u===0){n=o;continue}if(n<=e&&o>=e||n>=e&&o<=e){l=u;break}s=u,n=o}return{range:[s,l],t:(e-n)/(o-n)}}function za(i){if(i.get(["endLabel","show"]))return!0;for(var e=0;e<Qe.length;e++)if(i.get([Qe[e],"endLabel","show"]))return!0;return!1}function he(i,e,t,r){if(He(e,"cartesian2d")){var a=r.getModel("endLabel"),n=a.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},l=za(r)?function(v,p){i._endLabelOnDuring(v,p,o,s,n,a,e)}:null,u=e.getBaseAxis().isHorizontal(),c=Ea(e,t,r,function(){var v=i._endLabel;v&&t&&s.originalX!=null&&v.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var h=c.shape,f=Math.max(h.width,h.height);u?(h.y-=f,h.height+=f*2):(h.x-=f,h.width+=f*2)}return l&&l(1,c),c}else return r.get(["endLabel","show"])&&console.warn("endLabel is not supported for lines in polar systems."),Ra(e,t,r)}function to(i,e){var t=e.getBaseAxis(),r=t.isHorizontal(),a=t.inverse,n=r?a?"right":"left":"center",o=r?"middle":a?"top":"bottom";return{normal:{align:i.get("align")||n,verticalAlign:i.get("verticalAlign")||o}}}var eo=function(i){P(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=new Y,r=new Nn;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=t},e.prototype.render=function(t,r,a){var n=this,o=t.coordinateSystem,s=this.group,l=t.getData(),u=t.getModel("lineStyle"),c=t.getModel("areaStyle"),h=l.getLayout("points")||[],f=o.type==="polar",v=this._coordSys,p=this._symbolDraw,d=this._polyline,m=this._polygon,g=this._lineGroup,y=t.get("animation"),x=!c.isEmpty(),S=c.get("origin"),_=Pa(o,l,S),b=x&&Xn(o,l,_),M=t.get("showSymbol"),I=M&&!f&&Kn(t,l,o),D=this._data;D&&D.eachItemGraphicEl(function(B,ei){B.__temp&&(s.remove(B),D.setItemGraphicEl(ei,null))}),M||p.remove(),s.add(g);var C=f?!1:t.get("step"),w;o&&o.getArea&&t.get("clip",!0)&&(w=o.getArea(),w.width!=null?(w.x-=.1,w.y-=.1,w.width+=.2,w.height+=.2):w.r0&&(w.r0-=.5,w.r+=.5)),this._clipShapeForSymbol=w;var L=Un(l,o,a)||l.getVisual("style")[l.getVisual("drawType")];if(!(d&&v.type===o.type&&C===this._step))M&&p.updateData(l,{isIgnore:I,clipShape:w,disableAnimation:!0,getSymbolPoint:function(B){return[h[B*2],h[B*2+1]]}}),y&&this._initSymbolLabelAnimation(l,o,w),C&&(h=lt(h,o,C),b&&(b=lt(b,o,C))),d=this._newPolyline(h),x&&(m=this._newPolygon(h,b)),f||this._initOrUpdateEndLabel(t,o,qe(L)),g.setClipPath(he(this,o,!0,t));else{x&&!m?m=this._newPolygon(h,b):m&&!x&&(g.remove(m),m=this._polygon=null),f||this._initOrUpdateEndLabel(t,o,qe(L));var T=g.getClipPath();if(T){var E=he(this,o,!1,t);ct(T,{shape:E.shape},t)}else g.setClipPath(he(this,o,!0,t));M&&p.updateData(l,{isIgnore:I,clipShape:w,disableAnimation:!0,getSymbolPoint:function(B){return[h[B*2],h[B*2+1]]}}),(!gr(this._stackedOnPoints,b)||!gr(this._points,h))&&(y?this._doUpdateAnimation(l,b,o,a,C,S):(C&&(h=lt(h,o,C),b&&(b=lt(b,o,C))),d.setShape({points:h}),m&&m.setShape({points:h,stackedOnPoints:b})))}var O=t.getModel("emphasis"),F=O.get("focus"),Z=O.get("blurScope"),V=O.get("disabled");if(d.useStyle(gt(u.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),Ae(d,t,"lineStyle"),d.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var z=d.getState("emphasis").style;z.lineWidth=+d.style.lineWidth+1}at(d).seriesIndex=t.seriesIndex,Ut(d,F,Z,V);var W=xr(t.get("smooth")),$=t.get("smoothMonotone"),At=t.get("connectNulls");if(d.setShape({smooth:W,smoothMonotone:$,connectNulls:At}),m){var U=l.getCalculationInfo("stackedOnSeries"),K=0;m.useStyle(gt(c.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),U&&(K=xr(U.get("smooth"))),m.setShape({smooth:W,stackedOnSmooth:K,smoothMonotone:$,connectNulls:At}),Ae(m,t,"areaStyle"),at(m).seriesIndex=t.seriesIndex,Ut(m,F,Z,V)}var zt=function(B){n._changePolyState(B)};l.eachItemGraphicEl(function(B){B&&(B.onHoverStateChange=zt)}),this._polyline.onHoverStateChange=zt,this._data=l,this._coordSys=o,this._stackedOnPoints=b,this._points=h,this._step=C,this._valueOrigin=S,t.get("triggerLineEvent")&&(this.packEventData(t,d),m&&this.packEventData(t,m))},e.prototype.packEventData=function(t,r){at(r).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,r,a,n){var o=t.getData(),s=je(o,n);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],h=l[s*2+1];if(isNaN(c)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,h))return;var f=t.get("zlevel"),v=t.get("z");u=new Ge(o,s),u.x=c,u.y=h,u.setZ(f,v);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=f,p.z=v,p.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Zt.prototype.highlight.call(this,t,r,a,n)},e.prototype.downplay=function(t,r,a,n){var o=t.getData(),s=je(o,n);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Zt.prototype.downplay.call(this,t,r,a,n)},e.prototype._changePolyState=function(t){var r=this._polygon;Je(this._polyline,t),r&&Je(r,t)},e.prototype._newPolyline=function(t){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new Fn({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},e.prototype._newPolygon=function(t,r){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new Wn({shape:{points:t,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},e.prototype._initSymbolLabelAnimation=function(t,r,a){var n,o,s=r.getBaseAxis(),l=s.inverse;r.type==="cartesian2d"?(n=s.isHorizontal(),o=!1):r.type==="polar"&&(n=s.dim==="angle",o=!0);var u=t.hostModel,c=u.get("animationDuration");tt(c)&&(c=c(null));var h=u.get("animationDelay")||0,f=tt(h)?h(null):h;t.eachItemGraphicEl(function(v,p){var d=v;if(d){var m=[v.x,v.y],g=void 0,y=void 0,x=void 0;if(a)if(o){var S=a,_=r.pointToCoord(m);n?(g=S.startAngle,y=S.endAngle,x=-_[1]/180*Math.PI):(g=S.r0,y=S.r,x=_[0])}else{var b=a;n?(g=b.x,y=b.x+b.width,x=v.x):(g=b.y+b.height,y=b.y,x=v.y)}var M=y===g?0:(x-g)/(y-g);l&&(M=1-M);var I=tt(h)?h(p):c*M+f,D=d.getSymbolPath(),C=D.getTextContent();d.attr({scaleX:0,scaleY:0}),d.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:I}),C&&C.animateFrom({style:{opacity:0}},{duration:300,delay:I}),D.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,r,a){var n=t.getModel("endLabel");if(za(t)){var o=t.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new pt({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=Jn(l);c>=0&&(ke(s,re(t,"endLabel"),{inheritColor:a,labelFetcher:t,labelDataIndex:c,defaultText:function(h,f,v){return v!=null?Va(o,v):Be(o,h)},enableTextSetter:!0},to(n,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,r,a,n,o,s,l){var u=this._endLabel,c=this._polyline;if(u){t<1&&n.originalX==null&&(n.originalX=u.x,n.originalY=u.y);var h=a.getLayout("points"),f=a.hostModel,v=f.get("connectNulls"),p=s.get("precision"),d=s.get("distance")||0,m=l.getBaseAxis(),g=m.isHorizontal(),y=m.inverse,x=r.shape,S=y?g?x.x:x.y+x.height:g?x.x+x.width:x.y,_=(g?d:0)*(y?-1:1),b=(g?0:-d)*(y?-1:1),M=g?"x":"y",I=Qn(h,S,M),D=I.range,C=D[1]-D[0],w=void 0;if(C>=1){if(C>1&&!v){var L=br(h,D[0]);u.attr({x:L[0]+_,y:L[1]+b}),o&&(w=f.getRawValue(D[0]))}else{var L=c.getPointOn(S,M);L&&u.attr({x:L[0]+_,y:L[1]+b});var T=f.getRawValue(D[0]),E=f.getRawValue(D[1]);o&&(w=mi(a,p,T,E,I.t))}n.lastFrameIndex=D[0]}else{var O=t===1||n.lastFrameIndex>0?D[0]:0,L=br(h,O);o&&(w=f.getRawValue(O)),u.attr({x:L[0]+_,y:L[1]+b})}o&&ma(u).setLabelText(w)}},e.prototype._doUpdateAnimation=function(t,r,a,n,o,s){var l=this._polyline,u=this._polygon,c=t.hostModel,h=Hn(this._data,t,this._stackedOnPoints,r,this._coordSys,a,this._valueOrigin),f=h.current,v=h.stackedOnCurrent,p=h.next,d=h.stackedOnNext;if(o&&(f=lt(h.current,a,o),v=lt(h.stackedOnCurrent,a,o),p=lt(h.next,a,o),d=lt(h.stackedOnNext,a,o)),yr(f,p)>3e3||u&&yr(v,d)>3e3){l.stopAnimation(),l.setShape({points:p}),u&&(u.stopAnimation(),u.setShape({points:p,stackedOnPoints:d}));return}l.shape.__points=h.current,l.shape.points=f;var m={shape:{points:p}};h.current!==f&&(m.shape.__points=h.next),l.stopAnimation(),it(l,m,c),u&&(u.setShape({points:f,stackedOnPoints:v}),u.stopAnimation(),it(u,{shape:{stackedOnPoints:d}},c),l.shape.points!==u.shape.points&&(u.shape.points=l.shape.points));for(var g=[],y=h.status,x=0;x<y.length;x++){var S=y[x].cmd;if(S==="="){var _=t.getItemGraphicEl(y[x].idx1);_&&g.push({el:_,ptIdx:x})}}l.animators&&l.animators.length&&l.animators[0].during(function(){u&&u.dirtyShape();for(var b=l.shape.__points,M=0;M<g.length;M++){var I=g[M].el,D=g[M].ptIdx*2;I.x=b[D],I.y=b[D+1],I.markRedraw()}})},e.prototype.remove=function(t){var r=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(n,o){n.__temp&&(r.remove(n),a.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Zt),ro=eo;function ao(i,e){return{seriesType:i,plan:xi(),reset:function(t){var r=t.getData(),a=t.coordinateSystem,n=t.pipelineContext,o=e||n.large;if(!!a){var s=N(a.dimensions,function(v){return r.mapDimension(v)}).slice(0,2),l=s.length,u=r.getCalculationInfo("stackResultDimension");Kt(r,s[0])&&(s[0]=u),Kt(r,s[1])&&(s[1]=u);var c=r.getStore(),h=r.getDimensionIndex(s[0]),f=r.getDimensionIndex(s[1]);return l&&{progress:function(v,p){for(var d=v.end-v.start,m=o&&_t(d*l),g=[],y=[],x=v.start,S=0;x<v.end;x++){var _=void 0;if(l===1){var b=c.get(h,x);_=a.dataToPoint(b,null,y)}else g[0]=c.get(h,x),g[1]=c.get(f,x),_=a.dataToPoint(g,null,y);o?(m[S++]=_[0],m[S++]=_[1]):p.setItemLayout(x,_.slice())}o&&p.setLayout("points",m)}}}}}}var io={average:function(i){for(var e=0,t=0,r=0;r<i.length;r++)isNaN(i[r])||(e+=i[r],t++);return t===0?NaN:e/t},sum:function(i){for(var e=0,t=0;t<i.length;t++)e+=i[t]||0;return e},max:function(i){for(var e=-1/0,t=0;t<i.length;t++)i[t]>e&&(e=i[t]);return isFinite(e)?e:NaN},min:function(i){for(var e=1/0,t=0;t<i.length;t++)i[t]<e&&(e=i[t]);return isFinite(e)?e:NaN},nearest:function(i){return i[0]}},no=function(i){return Math.round(i.length/2)};function Na(i){return{seriesType:i,reset:function(e,t,r){var a=e.getData(),n=e.get("sampling"),o=e.coordinateSystem,s=a.count();if(s>10&&o.type==="cartesian2d"&&n){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),h=r.getDevicePixelRatio(),f=Math.abs(c[1]-c[0])*(h||1),v=Math.round(s/f);if(v>1){n==="lttb"&&e.setData(a.lttbDownSample(a.mapDimension(u.dim),1/v));var p=void 0;kt(n)?p=io[n]:tt(n)&&(p=n),p&&e.setData(a.downSample(a.mapDimension(u.dim),1/v,p,no))}}}}}function vl(i){i.registerChartView(ro),i.registerSeriesModel(kn),i.registerLayout(ao("line",!0)),i.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),r=e.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",r)}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,Na("line"))}var Ba=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){return Ne(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t){var r=this.coordinateSystem;if(r&&r.clampData){var a=r.dataToPoint(r.clampData(t)),n=this.getData(),o=n.getLayout("offset"),s=n.getLayout("size"),l=r.getBaseAxis().isHorizontal()?0:1;return a[l]+=o+s/2,a}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Oe);Oe.registerClass(Ba);var Sr=Ba,oo=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return Ne(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>t&&(t=r),t},e.prototype.brushSelector=function(t,r,a){return a.rect(r.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Et(Sr.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(Sr),so=oo,lo=function(){function i(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return i}(),uo=function(i){P(e,i);function e(t){var r=i.call(this,t)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new lo},e.prototype.buildPath=function(t,r){var a=r.cx,n=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-o)*.5,u=o+l,c=r.startAngle,h=r.endAngle,f=r.clockwise,v=Math.PI*2,p=f?h-c<v:c-h<v;p||(c=h-(f?v:-v));var d=Math.cos(c),m=Math.sin(c),g=Math.cos(h),y=Math.sin(h);p?(t.moveTo(d*o+a,m*o+n),t.arc(d*u+a,m*u+n,l,-Math.PI+c,c,!f)):t.moveTo(d*s+a,m*s+n),t.arc(a,n,s,c,h,!f),t.arc(g*u+a,y*u+n,l,h-Math.PI*2,h-Math.PI,!f),o!==0&&t.arc(a,n,o,h,c,f)},e}(ae),_r=uo;function ho(i,e){e=e||{};var t=e.isRoundCap;return function(r,a,n){var o=a.position;if(!o||o instanceof Array)return tr(r,a,n);var s=i(o),l=a.distance!=null?a.distance:5,u=this.shape,c=u.cx,h=u.cy,f=u.r,v=u.r0,p=(f+v)/2,d=u.startAngle,m=u.endAngle,g=(d+m)/2,y=t?Math.abs(f-v)/2:0,x=Math.cos,S=Math.sin,_=c+f*x(d),b=h+f*S(d),M="left",I="top";switch(s){case"startArc":_=c+(v-l)*x(g),b=h+(v-l)*S(g),M="center",I="top";break;case"insideStartArc":_=c+(v+l)*x(g),b=h+(v+l)*S(g),M="center",I="bottom";break;case"startAngle":_=c+p*x(d)+Nt(d,l+y,!1),b=h+p*S(d)+Bt(d,l+y,!1),M="right",I="middle";break;case"insideStartAngle":_=c+p*x(d)+Nt(d,-l+y,!1),b=h+p*S(d)+Bt(d,-l+y,!1),M="left",I="middle";break;case"middle":_=c+p*x(g),b=h+p*S(g),M="center",I="middle";break;case"endArc":_=c+(f+l)*x(g),b=h+(f+l)*S(g),M="center",I="bottom";break;case"insideEndArc":_=c+(f-l)*x(g),b=h+(f-l)*S(g),M="center",I="top";break;case"endAngle":_=c+p*x(m)+Nt(m,l+y,!0),b=h+p*S(m)+Bt(m,l+y,!0),M="left",I="middle";break;case"insideEndAngle":_=c+p*x(m)+Nt(m,-l+y,!0),b=h+p*S(m)+Bt(m,-l+y,!0),M="right",I="middle";break;default:return tr(r,a,n)}return r=r||{},r.x=_,r.y=b,r.align=M,r.verticalAlign=I,r}}function co(i,e,t,r){if(ga(r)){i.setTextConfig({rotation:r});return}else if(G(e)){i.setTextConfig({rotation:0});return}var a=i.shape,n=a.clockwise?a.startAngle:a.endAngle,o=a.clockwise?a.endAngle:a.startAngle,s=(n+o)/2,l,u=t(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=n;break;case"endAngle":case"insideEndAngle":l=o;break;default:i.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),i.setTextConfig({rotation:c})}function Nt(i,e,t){return e*Math.sin(i)*(t?-1:1)}function Bt(i,e,t){return e*Math.cos(i)*(t?1:-1)}var ce=Math.max,ve=Math.min;function vo(i,e){var t=i.getArea&&i.getArea();if(He(i,"cartesian2d")){var r=i.getBaseAxis();if(r.type!=="category"||!r.onBand){var a=e.getLayout("bandWidth");r.isHorizontal()?(t.x-=a,t.width+=a*2):(t.y-=a,t.height+=a*2)}}return t}var fo=function(i){P(e,i);function e(){var t=i.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,r,a,n){this._model=t,this._removeOnRenderedListener(a),this._updateDrawMode(t);var o=t.get("coordinateSystem");o==="cartesian2d"||o==="polar"?(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,r,a):this._renderNormal(t,r,a,n)):qt("Only cartesian2d and polar supported for bar.")},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,r){this._progressiveEls=[],this._incrementalRenderLarge(t,r)},e.prototype.eachRendered=function(t){da(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(t,r,a,n){var o=this.group,s=t.getData(),l=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),h;u.type==="cartesian2d"?h=c.isHorizontal():u.type==="polar"&&(h=c.dim==="angle");var f=t.isAnimationEnabled()?t:null,v=po(t,u);v&&this._enableRealtimeSort(v,s,a);var p=t.get("clip",!0)||v,d=vo(u,s);o.removeClipPath();var m=t.get("roundCap",!0),g=t.get("showBackground",!0),y=t.getModel("backgroundStyle"),x=y.get("borderRadius")||0,S=[],_=this._backgroundEls,b=n&&n.isInitSort,M=n&&n.type==="changeAxisOrder";function I(w){var L=Gt[u.type](s,w),T=_o(u,h,L);return T.useStyle(y.getItemStyle()),u.type==="cartesian2d"&&T.setShape("r",x),S[w]=T,T}s.diff(l).add(function(w){var L=s.getItemModel(w),T=Gt[u.type](s,w,L);if(g&&I(w),!(!s.hasValue(w)||!Dr[u.type](T))){var E=!1;p&&(E=Mr[u.type](d,T));var O=Ar[u.type](t,s,w,T,h,f,c.model,!1,m);v&&(O.forceLabelAnimation=!0),Cr(O,s,w,L,T,t,h,u.type==="polar"),b?O.attr({shape:T}):v?wr(v,f,O,T,w,h,!1,!1):ct(O,{shape:T},t,w),s.setItemGraphicEl(w,O),o.add(O),O.ignore=E}}).update(function(w,L){var T=s.getItemModel(w),E=Gt[u.type](s,w,T);if(g){var O=void 0;_.length===0?O=I(L):(O=_[L],O.useStyle(y.getItemStyle()),u.type==="cartesian2d"&&O.setShape("r",x),S[w]=O);var F=Gt[u.type](s,w),Z=Ha(h,F,u);it(O,{shape:Z},f,w)}var V=l.getItemGraphicEl(L);if(!s.hasValue(w)||!Dr[u.type](E)){o.remove(V);return}var z=!1;if(p&&(z=Mr[u.type](d,E),z&&o.remove(V)),V?fa(V):V=Ar[u.type](t,s,w,E,h,f,c.model,!!V,m),v&&(V.forceLabelAnimation=!0),M){var W=V.getTextContent();if(W){var $=ma(W);$.prevValue!=null&&($.prevValue=$.value)}}else Cr(V,s,w,T,E,t,h,u.type==="polar");b?V.attr({shape:E}):v?wr(v,f,V,E,w,h,!0,M):it(V,{shape:E},t,w,null),s.setItemGraphicEl(w,V),V.ignore=z,o.add(V)}).remove(function(w){var L=l.getItemGraphicEl(w);L&&er(L,t,w)}).execute();var D=this._backgroundGroup||(this._backgroundGroup=new Y);D.removeAll();for(var C=0;C<S.length;++C)D.add(S[C]);o.add(D),this._backgroundEls=S,this._data=s},e.prototype._renderLarge=function(t,r,a){this._clear(),Tr(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,r){this._removeBackground(),Tr(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var r=t.get("clip",!0)&&$n(t.coordinateSystem,!1,t),a=this.group;r?a.setClipPath(r):a.removeClipPath()},e.prototype._enableRealtimeSort=function(t,r,a){var n=this;if(!!r.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,t,a),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){n._updateSortWithinSameData(r,s,o,a)},a.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,r,a){var n=[];return t.each(t.mapDimension(r.dim),function(o,s){var l=a(s);l=l==null?NaN:l,n.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),n.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:N(n,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,r,a){for(var n=a.scale,o=t.mapDimension(a.dim),s=Number.MAX_VALUE,l=0,u=n.getOrdinalMeta().categories.length;l<u;++l){var c=t.rawIndexOf(o,n.getRawOrdinalNumber(l)),h=c<0?Number.MIN_VALUE:r(t.indexOfRawIndex(c));if(h>s)return!0;s=h}return!1},e.prototype._isOrderDifferentInView=function(t,r){for(var a=r.scale,n=a.getExtent(),o=Math.max(0,n[0]),s=Math.min(n[1],a.getOrdinalMeta().categories.length-1);o<=s;++o)if(t.ordinalNumbers[o]!==a.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(t,r,a,n){if(!!this._isOrderChangedWithinSameData(t,r,a)){var o=this._dataSort(t,a,r);this._isOrderDifferentInView(o,a)&&(this._removeOnRenderedListener(n),n.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(t,r,a){var n=r.baseAxis,o=this._dataSort(t,n,function(s){return t.get(t.mapDimension(r.otherAxis.dim),s)});a.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:!0,axisId:n.index,sortInfo:o})},e.prototype.remove=function(t,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(t,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var r=this.group,a=this._data;t&&t.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl(function(n){er(n,t,at(n).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Zt),Mr={cartesian2d:function(i,e){var t=e.width<0?-1:1,r=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var a=i.x+i.width,n=i.y+i.height,o=ce(e.x,i.x),s=ve(e.x+e.width,a),l=ce(e.y,i.y),u=ve(e.y+e.height,n),c=s<o,h=u<l;return e.x=c&&o>a?s:o,e.y=h&&l>n?u:l,e.width=c?0:s-o,e.height=h?0:u-l,t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),c||h},polar:function(i,e){var t=e.r0<=e.r?1:-1;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}var a=ve(e.r,i.r),n=ce(e.r0,i.r0);e.r=a,e.r0=n;var o=a-n<0;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}return o}},Ar={cartesian2d:function(i,e,t,r,a,n,o,s,l){var u=new j({shape:Vt({},r),z2:1});if(u.__dataIndex=t,u.name="item",n){var c=u.shape,h=a?"height":"width";c[h]=0}return u},polar:function(i,e,t,r,a,n,o,s,l){var u=!a&&l?_r:Ee,c=new u({shape:r,z2:1});c.name="item";var h=Ga(a);if(c.calculateTextPosition=ho(h,{isRoundCap:u===_r}),n){var f=c.shape,v=a?"r":"endAngle",p={};f[v]=a?0:r.startAngle,p[v]=r[v],(s?it:ct)(c,{shape:p},n)}return c}};function po(i,e){var t=i.get("realtimeSort",!0),r=e.getBaseAxis();if(t&&(r.type!=="category"&&qt("`realtimeSort` will not work because this bar series is not based on a category axis."),e.type!=="cartesian2d"&&qt("`realtimeSort` will not work because this bar series is not on cartesian2d.")),t&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function wr(i,e,t,r,a,n,o,s){var l,u;n?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?it:ct)(t,{shape:l},e,a,null);var c=e?i.baseAxis.model:null;(o?it:ct)(t,{shape:u},c,a)}function Ir(i,e){for(var t=0;t<e.length;t++)if(!isFinite(i[e[t]]))return!0;return!1}var go=["x","y","width","height"],mo=["cx","cy","r","startAngle","endAngle"],Dr={cartesian2d:function(i){return!Ir(i,go)},polar:function(i){return!Ir(i,mo)}},Gt={cartesian2d:function(i,e,t){var r=i.getItemLayout(e),a=t?xo(t,r):0,n=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+n*a/2,y:r.y+o*a/2,width:r.width-n*a,height:r.height-o*a}},polar:function(i,e,t){var r=i.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function yo(i){return i.startAngle!=null&&i.endAngle!=null&&i.startAngle===i.endAngle}function Ga(i){return function(e){var t=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+t;default:return r}}}(i)}function Cr(i,e,t,r,a,n,o,s){var l=e.getItemVisual(t,"style");s||i.setShape("r",r.get(["itemStyle","borderRadius"])||0),i.useStyle(l);var u=r.getShallow("cursor");u&&i.attr("cursor",u);var c=s?o?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":o?a.height>=0?"bottom":"top":a.width>=0?"right":"left",h=re(r);ke(i,h,{labelFetcher:n,labelDataIndex:t,defaultText:Be(n.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:c});var f=i.getTextContent();if(s&&f){var v=r.get(["label","position"]);i.textConfig.inside=v==="middle"?!0:null,co(i,v==="outside"?c:v,Ga(o),r.get(["label","rotate"]))}bi(f,h,n.getRawValue(t),function(d){return Va(e,d)});var p=r.getModel(["emphasis"]);Ut(i,p.get("focus"),p.get("blurScope"),p.get("disabled")),Ae(i,r),yo(a)&&(i.style.fill="none",i.style.stroke="none",A(i.states,function(d){d.style&&(d.style.fill=d.style.stroke="none")}))}function xo(i,e){var t=i.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var r=i.get(["itemStyle","borderWidth"])||0,a=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),n=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,a,n)}var bo=function(){function i(){}return i}(),Lr=function(i){P(e,i);function e(t){var r=i.call(this,t)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new bo},e.prototype.buildPath=function(t,r){for(var a=r.points,n=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<a.length;c+=3)l[n]=u,l[o]=a[c+2],s[n]=a[c+n],s[o]=a[c+o],t.rect(s[0],s[1],l[0],l[1])},e}(ae);function Tr(i,e,t,r){var a=i.getData(),n=a.getLayout("valueAxisHorizontal")?1:0,o=a.getLayout("largeDataIndices"),s=a.getLayout("size"),l=i.getModel("backgroundStyle"),u=a.getLayout("largeBackgroundPoints");if(u){var c=new Lr({shape:{points:u},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=n,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),e.add(c),t&&t.push(c)}var h=new Lr({shape:{points:a.getLayout("largePoints")},incremental:!!r,z2:1});h.baseDimIdx=n,h.largeDataIndices=o,h.barWidth=s,e.add(h),h.useStyle(a.getVisual("style")),at(h).seriesIndex=i.seriesIndex,i.get("silent")||(h.on("mousedown",Vr),h.on("mousemove",Vr)),t&&t.push(h)}var Vr=Si(function(i){var e=this,t=So(e,i.offsetX,i.offsetY);at(e).dataIndex=t>=0?t:null},30,!1);function So(i,e,t){for(var r=i.baseDimIdx,a=1-r,n=i.shape.points,o=i.largeDataIndices,s=[],l=[],u=i.barWidth,c=0,h=n.length/3;c<h;c++){var f=c*3;if(l[r]=u,l[a]=n[f+2],s[r]=n[f+r],s[a]=n[f+a],l[a]<0&&(s[a]+=l[a],l[a]=-l[a]),e>=s[0]&&e<=s[0]+l[0]&&t>=s[1]&&t<=s[1]+l[1])return o[c]}return-1}function Ha(i,e,t){if(He(t,"cartesian2d")){var r=e,a=t.getArea();return{x:i?r.x:a.x,y:i?a.y:r.y,width:i?r.width:a.width,height:i?a.height:r.height}}else{var a=t.getArea(),n=e;return{cx:a.cx,cy:a.cy,r0:i?a.r0:n.r0,r:i?a.r:n.r,startAngle:i?n.startAngle:0,endAngle:i?n.endAngle:Math.PI*2}}}function _o(i,e,t){var r=i.type==="polar"?Ee:j;return new r({shape:Ha(e,t,i),silent:!0,z2:0})}var Mo=fo;function fl(i){i.registerChartView(Mo),i.registerSeriesModel(so),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,Yt(Mi,"bar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,_i("bar")),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,Na("bar")),i.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var r=e.componentType||"series";t.eachComponent({mainType:r,query:e},function(a){e.sortInfo&&a.axis.setCategorySortInfo(e.sortInfo)})})}var Ao=function(i){P(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(ie),wo=Ao,De=function(i){P(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Q).models[0]},e.type="cartesian2dAxis",e}(ie);Ai(De,Sn);var Fa={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Io=q({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Fa),Fe=q({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Fa),Do=q({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Fe),Co=gt({logBase:10},Fe),Lo={category:Io,value:Fe,time:Do,log:Co},To={value:1,category:1,time:1,log:1};function Pr(i,e,t,r){A(To,function(a,n){var o=q(q({},Lo[n],!0),r,!0),s=function(l){P(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+n,c}return u.prototype.mergeDefaultAndTheme=function(c,h){var f=wi(this),v=f?xa(c):{},p=h.getTheme();q(c,p.get(n+"Axis")),q(c,this.getDefaultOption()),c.type=Or(c),f&&Ii(c,v,f)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=Di.createByAxisModel(this))},u.prototype.getCategories=function(c){var h=this.option;if(h.type==="category")return c?h.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+n,u.defaultOption=o,u}(t);i.registerComponentModel(s)}),i.registerSubTypeDefaulter(e+"Axis",Or)}function Or(i){return i.type||(i.data?"category":"value")}var Vo=function(){function i(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return i.prototype.getAxis=function(e){return this._axes[e]},i.prototype.getAxes=function(){return N(this._dimList,function(e){return this._axes[e]},this)},i.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Ci(this.getAxes(),function(t){return t.scale.type===e})},i.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},i}(),Po=Vo,Ce=["x","y"];function kr(i){return i.type==="interval"||i.type==="time"}var Oo=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=Ce,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!kr(t)||!kr(r))){var a=t.getExtent(),n=r.getExtent(),o=this.dataToPoint([a[0],n[0]]),s=this.dataToPoint([a[1],n[1]]),l=a[1]-a[0],u=n[1]-n[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,h=(s[1]-o[1])/u,f=o[0]-a[0]*c,v=o[1]-n[0]*h,p=this._transform=[c,0,0,h,f,v];this._invTransform=Li([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var r=this.getAxis("x"),a=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&a.contain(a.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.dataToPoint=function(t,r,a){a=a||[];var n=t[0],o=t[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return rr(a,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return a[0]=s.toGlobalCoord(s.dataToCoord(n,r)),a[1]=l.toGlobalCoord(l.dataToCoord(o,r)),a},e.prototype.clampData=function(t,r){var a=this.getAxis("x").scale,n=this.getAxis("y").scale,o=a.getExtent(),s=n.getExtent(),l=a.parse(t[0]),u=n.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},e.prototype.pointToData=function(t,r){var a=[];if(this._invTransform)return rr(a,t,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return a[0]=n.coordToData(n.toLocalCoord(t[0]),r),a[1]=o.coordToData(o.toLocalCoord(t[1]),r),a},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),a=Math.min(t[0],t[1]),n=Math.min(r[0],r[1]),o=Math.max(t[0],t[1])-a,s=Math.max(r[0],r[1])-n;return new Ti(a,n,o,s)},e}(Po),ko=Oo,Eo=function(i){P(e,i);function e(t,r,a,n,o){var s=i.call(this,t,r,a)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Pn),Ro=Eo,fe=Math.log;function zo(i,e,t){var r=Vi.prototype,a=r.getTicks.call(t),n=r.getTicks.call(t,!0),o=a.length-1,s=r.getInterval.call(t),l=Pi(i,e),u=l.extent,c=l.fixMin,h=l.fixMax;if(i.type==="log"){var f=fe(i.base);u=[fe(u[0])/f,fe(u[1])/f]}i.setExtent(u[0],u[1]),i.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:h});var v=r.getExtent.call(i);c&&(u[0]=v[0]),h&&(u[1]=v[1]);var p=r.getInterval.call(i),d=u[0],m=u[1];if(c&&h)p=(m-d)/o;else if(c)for(m=u[0]+p*o;m<u[1]&&isFinite(m)&&isFinite(u[1]);)p=ne(p),m=u[0]+p*o;else if(h)for(d=u[1]-p*o;d>u[0]&&isFinite(d)&&isFinite(u[0]);)p=ne(p),d=u[1]-p*o;else{var g=i.getTicks().length-1;g>o&&(p=ne(p));var y=p*o;m=Math.ceil(u[1]/p)*p,d=rt(m-y),d<0&&u[0]>=0?(d=0,m=rt(y)):m>0&&u[1]<=0&&(m=0,d=-rt(y))}var x=(a[0].value-n[0].value)/s,S=(a[o].value-n[o].value)/s;r.setExtent.call(i,d+p*x,m+p*S),r.setInterval.call(i,p),(x||S)&&r.setNiceExtent.call(i,d+p,m-p);{var _=r.getTicks.call(i);_[1]&&(!Oi(p)||ar(_[1].value)>ar(p))&&qt("The ticks may be not readable when set min: "+e.get("min")+", max: "+e.get("max")+" and alignTicks: true")}}var No=function(){function i(e,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Ce,this._initCartesian(e,t,r),this.model=e}return i.prototype.getRect=function(){return this._rect},i.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model);function a(o){var s,l=ba(o),u=l.length;if(!!u){for(var c=[],h=u-1;h>=0;h--){var f=+l[h],v=o[f],p=v.model,d=v.scale;we(d)&&p.get("alignTicks")&&p.get("interval")==null?c.push(v):(or(d,p),we(d)&&(s=v))}c.length&&(s||(s=c.pop(),or(s.scale,s.model)),A(c,function(m){zo(m.scale,m.model,s.scale)}))}}a(r.x),a(r.y);var n={};A(r.x,function(o){Er(r,"y",o,n)}),A(r.y,function(o){Er(r,"x",o,n)}),this.resize(this.model,t)},i.prototype.resize=function(e,t,r){var a=e.getBoxLayoutParams(),n=!r&&e.get("containLabel"),o=Re(a,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;l(),n&&(A(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=ki(u);if(c){var h=u.isHorizontal()?"height":"width",f=u.model.get(["axisLabel","margin"]);o[h]-=c[h]+f,u.position==="top"?o.y+=c.height+f:u.position==="left"&&(o.x+=c.width+f)}}}),l()),A(this._coordsList,function(u){u.calcAffineTransform()});function l(){A(s,function(u){var c=u.isHorizontal(),h=c?[0,o.width]:[0,o.height],f=u.inverse?1:0;u.setExtent(h[f],h[1-f]),Bo(u,c?o.x:o.y)})}},i.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null)return r[t||0]},i.prototype.getAxes=function(){return this._axesList.slice()},i.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}nt(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var a=0,n=this._coordsList;a<n.length;a++)if(n[a].getAxis("x").index===e||n[a].getAxis("y").index===t)return n[a]},i.prototype.getCartesians=function(){return this._coordsList.slice()},i.prototype.convertToPixel=function(e,t,r){var a=this._findConvertTarget(t);return a.cartesian?a.cartesian.dataToPoint(r):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(r)):null},i.prototype.convertFromPixel=function(e,t,r){var a=this._findConvertTarget(t);return a.cartesian?a.cartesian.pointToData(r):a.axis?a.axis.coordToData(a.axis.toLocalCoord(r)):null},i.prototype._findConvertTarget=function(e){var t=e.seriesModel,r=e.xAxisModel||t&&t.getReferringComponents("xAxis",Q).models[0],a=e.yAxisModel||t&&t.getReferringComponents("yAxis",Q).models[0],n=e.gridModel,o=this._coordsList,s,l;if(t)s=t.coordinateSystem,Lt(o,s)<0&&(s=null);else if(r&&a)s=this.getCartesian(r.componentIndex,a.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(a)l=this.getAxis("y",a.componentIndex);else if(n){var u=n.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},i.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},i.prototype._initCartesian=function(e,t,r){var a=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,A(s.x,function(c,h){A(s.y,function(f,v){var p="x"+h+"y"+v,d=new ko(p);d.master=a,d.model=e,a._coordsMap[p]=d,a._coordsList.push(d),d.addAxis(c),d.addAxis(f)})});function u(c){return function(h,f){if(!!pe(h,e)){var v=h.get("position");c==="x"?v!=="top"&&v!=="bottom"&&(v=o.bottom?"top":"bottom"):v!=="left"&&v!=="right"&&(v=o.left?"right":"left"),o[v]=!0;var p=new Ro(c,Ei(h),[0,0],h.get("type"),v),d=p.type==="category";p.onBand=d&&h.get("boundaryGap"),p.inverse=h.get("inverse"),h.axis=p,p.model=h,p.grid=n,p.index=f,n._axesList.push(p),s[c][f]=p,l[c]++}}}},i.prototype._updateScale=function(e,t){A(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var n=a.model.get("categorySortInfo");a.scale.setSortInfo(n)}}),e.eachSeries(function(a){if(ir(a)){var n=nr(a),o=n.xAxisModel,s=n.yAxisModel;if(!pe(o,t)||!pe(s,t))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=a.getData(),c=l.getAxis("x"),h=l.getAxis("y");r(u,c),r(u,h)}},this);function r(a,n){A(Ri(a,n.dim),function(o){n.scale.unionExtentFromData(a,o)})}},i.prototype.getTooltipAxes=function(e){var t=[],r=[];return A(this.getCartesians(),function(a){var n=e!=null&&e!=="auto"?a.getAxis(e):a.getBaseAxis(),o=a.getOtherAxis(n);Lt(t,n)<0&&t.push(n),Lt(r,o)<0&&r.push(o)}),{baseAxes:t,otherAxes:r}},i.create=function(e,t){var r=[];return e.eachComponent("grid",function(a,n){var o=new i(a,e,t);o.name="grid_"+n,o.resize(a,t,!0),a.coordinateSystem=o,r.push(o)}),e.eachSeries(function(a){if(!!ir(a)){var n=nr(a),o=n.xAxisModel,s=n.yAxisModel,l=o.getCoordSysModel();{if(!l)throw new Error('Grid "'+zi(o.get("gridIndex"),o.get("gridId"),0)+'" not found');if(o.getCoordSysModel()!==s.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid")}var u=l.coordinateSystem;a.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),r},i.dimensions=Ce,i}();function pe(i,e){return i.getCoordSysModel()===e}function Er(i,e,t,r){t.getAxesOnZeroOf=function(){return n?[n]:[]};var a=i[e],n,o=t.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)Rr(a[l])&&(n=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&Rr(a[u])&&!r[c(a[u])]){n=a[u];break}n&&(r[c(n)]=!0);function c(h){return h.dim+"_"+h.index}}function Rr(i){return i&&i.type!=="category"&&i.type!=="time"&&Ni(i)}function Bo(i,e){var t=i.getExtent(),r=t[0]+t[1];i.toGlobalCoord=i.dim==="x"?function(a){return a+e}:function(a){return r-a+e},i.toLocalCoord=i.dim==="x"?function(a){return a-e}:function(a){return r-a+e}}var Go=No,Le=Pe();function Ho(i,e,t,r){var a=t.axis;if(!a.scale.isBlank()){var n=t.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:n,clamp:!0});if(!!u.length){var c=s.length,h=Le(i).splitAreaColors,f=et(),v=0;if(h)for(var p=0;p<u.length;p++){var d=h.get(u[p].tickValue);if(d!=null){v=(d+(c-1)*p)%c;break}}var m=a.toGlobalCoord(u[0].coord),g=o.getAreaStyle();s=G(s)?s:[s];for(var p=1;p<u.length;p++){var y=a.toGlobalCoord(u[p].coord),x=void 0,S=void 0,_=void 0,b=void 0;a.isHorizontal()?(x=m,S=l.y,_=y-x,b=l.height,m=x+_):(x=l.x,S=m,_=l.width,b=y-S,m=S+b);var M=u[p-1].tickValue;M!=null&&f.set(M,v),e.add(new j({anid:M!=null?"area_"+M:null,shape:{x,y:S,width:_,height:b},style:gt({fill:s[v]},g),autoBatch:!0,silent:!0})),v=(v+1)%c}Le(i).splitAreaColors=f}}}function Fo(i){Le(i).splitAreaColors=null}var Zo=["axisLine","axisTickLabel","axisName"],Wo=["splitArea","splitLine","minorSplitLine"],Za=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,r,a,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Y,this.group.add(this._axisGroup),!!t.get("show")){var s=t.getCoordSysModel(),l=Bi(s,t),u=new Gi(t,Vt({handleAutoShown:function(h){for(var f=s.coordinateSystem.getCartesians(),v=0;v<f.length;v++)if(we(f[v].getOtherAxis(t.axis).scale))return!0;return!1}},l));A(Zo,u.add,u),this._axisGroup.add(u.getGroup()),A(Wo,function(h){t.get([h,"show"])&&$o[h](this,this._axisGroup,t,s)},this);var c=n&&n.type==="changeAxisOrder"&&n.isInitSort;c||Hi(o,this._axisGroup,t),i.prototype.render.call(this,t,r,a,n)}},e.prototype.remove=function(){Fo(this)},e.type="cartesianAxis",e}(Fi),$o={splitLine:function(i,e,t,r){var a=t.axis;if(!a.scale.isBlank()){var n=t.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color");s=G(s)?s:[s];for(var l=r.coordinateSystem.getRect(),u=a.isHorizontal(),c=0,h=a.getTicksCoords({tickModel:n}),f=[],v=[],p=o.getLineStyle(),d=0;d<h.length;d++){var m=a.toGlobalCoord(h[d].coord);u?(f[0]=m,f[1]=l.y,v[0]=m,v[1]=l.y+l.height):(f[0]=l.x,f[1]=m,v[0]=l.x+l.width,v[1]=m);var g=c++%s.length,y=h[d].tickValue;e.add(new sr({anid:y!=null?"line_"+h[d].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:v[0],y2:v[1]},style:gt({stroke:s[g]},p),silent:!0}))}}},minorSplitLine:function(i,e,t,r){var a=t.axis,n=t.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=a.isHorizontal(),u=a.getMinorTicksCoords();if(!!u.length)for(var c=[],h=[],f=o.getLineStyle(),v=0;v<u.length;v++)for(var p=0;p<u[v].length;p++){var d=a.toGlobalCoord(u[v][p].coord);l?(c[0]=d,c[1]=s.y,h[0]=d,h[1]=s.y+s.height):(c[0]=s.x,c[1]=d,h[0]=s.x+s.width,h[1]=d),e.add(new sr({anid:"minor_line_"+u[v][p].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:f,silent:!0}))}},splitArea:function(i,e,t,r){Ho(i,e,t,r)}},Wa=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(Za),Xo=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=Wa.type,t}return e.type="yAxis",e}(Za),Yo=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new j({shape:t.coordinateSystem.getRect(),style:gt({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(ze),zr={offset:0};function Uo(i){i.registerComponentView(Yo),i.registerComponentModel(wo),i.registerCoordinateSystem("cartesian2d",Go),Pr(i,"x",De,zr),Pr(i,"y",De,zr),i.registerComponentView(Wa),i.registerComponentView(Xo),i.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var Nr="\0_ec_interaction_mutex";function pl(i,e,t){var r=Ze(i);r[e]=t}function dl(i,e,t){var r=Ze(i),a=r[e];a===t&&(r[e]=null)}function Br(i,e){return!!Ze(i)[e]}function Ze(i){return i[Nr]||(i[Nr]={})}Zi({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Sa);var Ko=function(i){P(e,i);function e(t){var r=i.call(this)||this;r._zr=t;var a=k(r._mousedownHandler,r),n=k(r._mousemoveHandler,r),o=k(r._mouseupHandler,r),s=k(r._mousewheelHandler,r),l=k(r._pinchHandler,r);return r.enable=function(u,c){this.disable(),this._opt=gt(X(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(t.on("mousedown",a),t.on("mousemove",n),t.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(t.on("mousewheel",s),t.on("pinch",l))},r.disable=function(){t.off("mousedown",a),t.off("mousemove",n),t.off("mouseup",o),t.off("mousewheel",s),t.off("pinch",l)},r}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(lr(t)||t.target&&t.target.draggable)){var r=t.offsetX,a=t.offsetY;this.pointerChecker&&this.pointerChecker(t,r,a)&&(this._x=r,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!$t("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||Br(this._zr,"globalPan"))){var r=t.offsetX,a=t.offsetY,n=this._x,o=this._y,s=r-n,l=a-o;this._x=r,this._y=a,this._opt.preventDefaultMouseMove&&mt(t.event),$a(this,"pan","moveOnMouseMove",t,{dx:s,dy:l,oldX:n,oldY:o,newX:r,newY:a,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){lr(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var r=$t("zoomOnMouseWheel",t,this._opt),a=$t("moveOnMouseWheel",t,this._opt),n=t.wheelDelta,o=Math.abs(n),s=t.offsetX,l=t.offsetY;if(!(n===0||!r&&!a)){if(r){var u=o>3?1.4:o>1?1.2:1.1,c=n>0?u:1/u;de(this,"zoom","zoomOnMouseWheel",t,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(a){var h=Math.abs(n),f=(n>0?1:-1)*(h>3?.4:h>1?.15:.05);de(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:f,originX:s,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!Br(this._zr,"globalPan")){var r=t.pinchScale>1?1.1:1/1.1;de(this,"zoom",null,t,{scale:r,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(Wi);function de(i,e,t,r,a){i.pointerChecker&&i.pointerChecker(r,a.originX,a.originY)&&(mt(r.event),$a(i,e,t,r,a))}function $a(i,e,t,r,a){a.isAvailableBehavior=k($t,null,t,r),i.trigger(e,a)}function $t(i,e,t){var r=t[i];return!i||r&&(!kt(r)||e.event[r+"Key"])}var qo=Ko,Ot=A,jo=nt,Jt=-1,We=function(){function i(e){var t=e.mappingMethod,r=e.type,a=this.option=X(e);this.type=r,this.mappingMethod=t,this._normalizeData=ts[t];var n=i.visualHandlers[r];this.applyVisual=n.applyVisual,this.getColorMapper=n.getColorMapper,this._normalizedToVisual=n._normalizedToVisual[t],t==="piecewise"?(ge(a),Jo(a)):t==="category"?a.categories?Qo(a):ge(a,!0):(jt(t!=="linear"||a.dataExtent),ge(a))}return i.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},i.prototype.getNormalizer=function(){return k(this._normalizeData,this)},i.listVisualTypes=function(){return ba(i.visualHandlers)},i.isValidType=function(e){return i.visualHandlers.hasOwnProperty(e)},i.eachVisual=function(e,t,r){nt(e)?A(e,t,r):t.call(r,e)},i.mapVisual=function(e,t,r){var a,n=G(e)?[]:nt(e)?{}:(a=!0,null);return i.eachVisual(e,function(o,s){var l=t.call(r,o,s);a?n=l:n[s]=l}),n},i.retrieveVisuals=function(e){var t={},r;return e&&Ot(i.visualHandlers,function(a,n){e.hasOwnProperty(n)&&(t[n]=e[n],r=!0)}),r?t:null},i.prepareVisualTypes=function(e){if(G(e))e=e.slice();else if(jo(e)){var t=[];Ot(e,function(r,a){t.push(a)}),e=t}else return[];return e.sort(function(r,a){return a==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),e},i.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},i.findPieceIndex=function(e,t,r){for(var a,n=1/0,o=0,s=t.length;o<s;o++){var l=t[o].value;if(l!=null){if(l===e||kt(l)&&l===e+"")return o;r&&f(l,o)}}for(var o=0,s=t.length;o<s;o++){var u=t[o],c=u.interval,h=u.close;if(c){if(c[0]===-1/0){if(Ft(h[1],e,c[1]))return o}else if(c[1]===1/0){if(Ft(h[0],c[0],e))return o}else if(Ft(h[0],c[0],e)&&Ft(h[1],e,c[1]))return o;r&&f(c[0],o),r&&f(c[1],o)}}if(r)return e===1/0?t.length-1:e===-1/0?0:a;function f(v,p){var d=Math.abs(v-e);d<n&&(n=d,a=p)}},i.visualHandlers={color:{applyVisual:wt("color"),getColorMapper:function(){var e=this.option;return k(e.mappingMethod==="category"?function(t,r){return!r&&(t=this._normalizeData(t)),Ct.call(this,t)}:function(t,r,a){var n=!!a;return!r&&(t=this._normalizeData(t)),a=oe(t,e.parsedVisual,a),n?a:se(a,"rgba")},this)},_normalizedToVisual:{linear:function(e){return se(oe(e,this.option.parsedVisual),"rgba")},category:Ct,piecewise:function(e,t){var r=Ve.call(this,t);return r==null&&(r=se(oe(e,this.option.parsedVisual),"rgba")),r},fixed:vt}},colorHue:Ht(function(e,t){return le(e,t)}),colorSaturation:Ht(function(e,t){return le(e,null,t)}),colorLightness:Ht(function(e,t){return le(e,null,null,t)}),colorAlpha:Ht(function(e,t){return $i(e,t)}),decal:{applyVisual:wt("decal"),_normalizedToVisual:{linear:null,category:Ct,piecewise:null,fixed:null}},opacity:{applyVisual:wt("opacity"),_normalizedToVisual:Te([0,1])},liftZ:{applyVisual:wt("liftZ"),_normalizedToVisual:{linear:vt,category:vt,piecewise:vt,fixed:vt}},symbol:{applyVisual:function(e,t,r){var a=this.mapValueToVisual(e);r("symbol",a)},_normalizedToVisual:{linear:Gr,category:Ct,piecewise:function(e,t){var r=Ve.call(this,t);return r==null&&(r=Gr.call(this,e)),r},fixed:vt}},symbolSize:{applyVisual:wt("symbolSize"),_normalizedToVisual:Te([0,1])}},i}();function Jo(i){var e=i.pieceList;i.hasSpecialVisual=!1,A(e,function(t,r){t.originIndex=r,t.visual!=null&&(i.hasSpecialVisual=!0)})}function Qo(i){var e=i.categories,t=i.categoryMap={},r=i.visual;if(Ot(e,function(o,s){t[o]=s}),!G(r)){var a=[];nt(r)?Ot(r,function(o,s){var l=t[s];a[l!=null?l:Jt]=o}):a[Jt]=r,r=Xa(i,a)}for(var n=e.length-1;n>=0;n--)r[n]==null&&(delete t[e[n]],e.pop())}function ge(i,e){var t=i.visual,r=[];nt(t)?Ot(t,function(n){r.push(n)}):t!=null&&r.push(t);var a={color:1,symbol:1};!e&&r.length===1&&!a.hasOwnProperty(i.type)&&(r[1]=r[0]),Xa(i,r)}function Ht(i){return{applyVisual:function(e,t,r){var a=this.mapValueToVisual(e);r("color",i(t("color"),a))},_normalizedToVisual:Te([0,1])}}function Gr(i){var e=this.option.visual;return e[Math.round(R(i,[0,1],[0,e.length-1],!0))]||{}}function wt(i){return function(e,t,r){r(i,this.mapValueToVisual(e))}}function Ct(i){var e=this.option.visual;return e[this.option.loop&&i!==Jt?i%e.length:i]}function vt(){return this.option.visual[0]}function Te(i){return{linear:function(e){return R(e,i,this.option.visual,!0)},category:Ct,piecewise:function(e,t){var r=Ve.call(this,t);return r==null&&(r=R(e,i,this.option.visual,!0)),r},fixed:vt}}function Ve(i){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var r=We.findPieceIndex(i,t),a=t[r];if(a&&a.visual)return a.visual[this.type]}}function Xa(i,e){return i.visual=e,i.type==="color"&&(i.parsedVisual=N(e,function(t){return Xi(t)})),e}var ts={linear:function(i){return R(i,this.option.dataExtent,[0,1],!0)},piecewise:function(i){var e=this.option.pieceList,t=We.findPieceIndex(i,e,!0);if(t!=null)return R(t,[0,e.length-1],[0,1],!0)},category:function(i){var e=this.option.categories?this.option.categoryMap[i]:i;return e==null?Jt:e},fixed:Sa};function Ft(i,e,t){return i?e<=t:e<t}var H=We;function Rt(i,e,t,r,a,n){i=i||0;var o=t[1]-t[0];if(a!=null&&(a=xt(a,[0,o])),n!=null&&(n=Math.max(n,a!=null?a:0)),r==="all"){var s=Math.abs(e[1]-e[0]);s=xt(s,[0,o]),a=n=xt(s,[a,n]),r=0}e[0]=xt(e[0],t),e[1]=xt(e[1],t);var l=me(e,r);e[r]+=i;var u=a||0,c=t.slice();l.sign<0?c[0]+=u:c[1]-=u,e[r]=xt(e[r],c);var h;return h=me(e,r),a!=null&&(h.sign!==l.sign||h.span<a)&&(e[1-r]=e[r]+l.sign*a),h=me(e,r),n!=null&&h.span>n&&(e[1-r]=e[r]+h.sign*n),e}function me(i,e){var t=i[e]-i[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function xt(i,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,i))}function gl(i){Mt(Uo),Mt(Yi)}var Hr=["x","y","radius","angle","single"],es=["cartesian2d","polar","singleAxis"];function rs(i){var e=i.get("coordinateSystem");return Lt(es,e)>=0}function ut(i){return jt(i),i+"Axis"}function as(i,e){var t=et(),r=[],a=et();i.eachComponent({mainType:"dataZoom",query:e},function(c){a.get(c.uid)||s(c)});var n;do n=!1,i.eachComponent("dataZoom",o);while(n);function o(c){!a.get(c.uid)&&l(c)&&(s(c),n=!0)}function s(c){a.set(c.uid,!0),r.push(c),u(c)}function l(c){var h=!1;return c.eachTargetAxis(function(f,v){var p=t.get(f);p&&p[v]&&(h=!0)}),h}function u(c){c.eachTargetAxis(function(h,f){(t.get(h)||t.set(h,[]))[f]=!0})}return r}function Ya(i){var e=i.ecModel,t={infoList:[],infoMap:et()};return i.eachTargetAxis(function(r,a){var n=e.getComponent(ut(r),a);if(!!n){var o=n.getCoordSysModel();if(!!o){var s=o.uid,l=t.infoMap.get(s);l||(l={model:o,axisModels:[]},t.infoList.push(l),t.infoMap.set(s,l)),l.axisModels.push(n)}}}),t}var ye=function(){function i(){this.indexList=[],this.indexMap=[]}return i.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},i}(),is=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,r,a){var n=Fr(t);this.settledOption=n,this.mergeDefaultAndTheme(t,a),this._doInit(n)},e.prototype.mergeOption=function(t){var r=Fr(t);q(this.option,t,!0),q(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(t){var r=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var a=this.settledOption;A([["start","startValue"],["end","endValue"]],function(n,o){this._rangePropMode[o]==="value"&&(r[n[0]]=a[n[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),r=this._targetAxisInfoMap=et(),a=this._fillSpecifiedTargetAxis(r);a?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(n){n.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var r=!1;return A(Hr,function(a){var n=this.getReferringComponents(ut(a),Ui);if(!!n.specified){r=!0;var o=new ye;A(n.models,function(s){o.add(s.componentIndex)}),t.set(a,o)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(t,r){var a=this.ecModel,n=!0;if(n){var o=r==="vertical"?"y":"x",s=a.findComponents({mainType:o+"Axis"});l(s,o)}if(n){var s=a.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===r}});l(s,"single")}function l(u,c){var h=u[0];if(!!h){var f=new ye;if(f.add(h.componentIndex),t.set(c,f),n=!1,c==="x"||c==="y"){var v=h.getReferringComponents("grid",Q).models[0];v&&A(u,function(p){h.componentIndex!==p.componentIndex&&v===p.getReferringComponents("grid",Q).models[0]&&f.add(p.componentIndex)})}}}n&&A(Hr,function(u){if(!!n){var c=a.findComponents({mainType:ut(u),filter:function(f){return f.get("type",!0)==="category"}});if(c[0]){var h=new ye;h.add(c[0].componentIndex),t.set(u,h),n=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(r){!t&&(t=r)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var r=this._rangePropMode,a=this.get("rangeMode");A([["start","startValue"],["end","endValue"]],function(n,o){var s=t[n[0]]!=null,l=t[n[1]]!=null;s&&!l?r[o]="percent":!s&&l?r[o]="value":a?r[o]=a[o]:s&&(r[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(r,a){t==null&&(t=this.ecModel.getComponent(ut(r),a))},this),t},e.prototype.eachTargetAxis=function(t,r){this._targetAxisInfoMap.each(function(a,n){A(a.indexList,function(o){t.call(r,n,o)})})},e.prototype.getAxisProxy=function(t,r){var a=this.getAxisModel(t,r);if(a)return a.__dzAxisProxy},e.prototype.getAxisModel=function(t,r){jt(t&&r!=null);var a=this._targetAxisInfoMap.get(t);if(a&&a.indexMap[r])return this.ecModel.getComponent(ut(t),r)},e.prototype.setRawRange=function(t){var r=this.option,a=this.settledOption;A([["start","startValue"],["end","endValue"]],function(n){(t[n[0]]!=null||t[n[1]]!=null)&&(r[n[0]]=a[n[0]]=t[n[0]],r[n[1]]=a[n[1]]=t[n[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var r=this.option;A(["start","startValue","end","endValue"],function(a){r[a]=t[a]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,r){if(t==null&&r==null){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataValueWindow()}else return this.getAxisProxy(t,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var r,a=this._targetAxisInfoMap.keys(),n=0;n<a.length;n++)for(var o=a[n],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return jt(this._orient),this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(ie);function Fr(i){var e={};return A(["start","end","startValue","endValue","throttle"],function(t){i.hasOwnProperty(t)&&(e[t]=i[t])}),e}var Qt=is,ns=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,a,n){this.dataZoomModel=t,this.ecModel=r,this.api=a},e.type="dataZoom",e}(ze),Ua=ns,St=A,Zr=ft,os=function(){function i(e,t,r,a){this._dimName=e,this._axisIndex=t,this.ecModel=a,this._dataZoomModel=r}return i.prototype.hostedBy=function(e){return this._dataZoomModel===e},i.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},i.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},i.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(rs(t)){var r=ut(this._dimName),a=t.getReferringComponents(r,Q).models[0];a&&this._axisIndex===a.componentIndex&&e.push(t)}},this),e},i.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},i.prototype.getMinMaxSpan=function(){return X(this._minMaxSpan)},i.prototype.calculateDataWindow=function(e){var t=this._dataExtent,r=this.getAxisModel(),a=r.axis.scale,n=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;St(["start","end"],function(f,v){var p=e[f],d=e[f+"Value"];n[v]==="percent"?(p==null&&(p=o[v]),d=a.parse(R(p,o,t))):(u=!0,d=d==null?t[v]:a.parse(d),p=R(d,t,o)),l[v]=d,s[v]=p}),Zr(l),Zr(s);var c=this._minMaxSpan;u?h(l,s,t,o,!1):h(s,l,o,t,!0);function h(f,v,p,d,m){var g=m?"Span":"ValueSpan";Rt(0,f,p,"all",c["min"+g],c["max"+g]);for(var y=0;y<2;y++)v[y]=R(f[y],p,d,!0),m&&(v[y]=a.parse(v[y]))}return{valueWindow:l,percentWindow:s}},i.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=ss(this,this._dimName,t),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},i.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var r=this._dimName,a=this.getTargetSeriesModels(),n=e.get("filterMode"),o=this._valueWindow;if(n==="none")return;St(a,function(l){var u=l.getData(),c=u.mapDimensionsAll(r);if(!!c.length){if(n==="weakFilter"){var h=u.getStore(),f=N(c,function(v){return u.getDimensionIndex(v)},u);u.filterSelf(function(v){for(var p,d,m,g=0;g<c.length;g++){var y=h.get(f[g],v),x=!isNaN(y),S=y<o[0],_=y>o[1];if(x&&!S&&!_)return!0;x&&(m=!0),S&&(p=!0),_&&(d=!0)}return m&&p&&d})}else St(c,function(v){if(n==="empty")l.setData(u=u.map(v,function(d){return s(d)?d:NaN}));else{var p={};p[v]=o,u.selectRange(p)}});St(c,function(v){u.setApproximateExtent(o,v)})}});function s(l){return l>=o[0]&&l<=o[1]}},i.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,r=this._dataExtent;St(["min","max"],function(a){var n=t.get(a+"Span"),o=t.get(a+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?n=R(r[0]+o,r,[0,100],!0):n!=null&&(o=R(n,[0,100],r,!0)-r[0]),e[a+"Span"]=n,e[a+"ValueSpan"]=o},this)},i.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,r=this._valueWindow;if(!!t){var a=va(r,[0,500]);a=Math.min(a,20);var n=e.axis.scale.rawExtentInfo;t[0]!==0&&n.setDeterminedMinMax("min",+r[0].toFixed(a)),t[1]!==100&&n.setDeterminedMinMax("max",+r[1].toFixed(a)),n.freeze()}},i}();function ss(i,e,t){var r=[1/0,-1/0];St(t,function(o){Ki(r,o.getData(),e)});var a=i.getAxisModel(),n=qi(a.axis.scale,a,r).calculate();return[n.min,n.max]}var ls=os,us={getTargetSeries:function(i){function e(a){i.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(o,s){var l=i.getComponent(ut(o),s);a(o,s,l,n)})})}e(function(a,n,o,s){o.__dzAxisProxy=null});var t=[];e(function(a,n,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new ls(a,n,s,i),t.push(o.__dzAxisProxy))});var r=et();return A(t,function(a){A(a.getTargetSeriesModels(),function(n){r.set(n.uid,n)})}),r},overallReset:function(i,e){i.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(r,a){t.getAxisProxy(r,a).reset(t)}),t.eachTargetAxis(function(r,a){t.getAxisProxy(r,a).filterData(t,e)})}),i.eachComponent("dataZoom",function(t){var r=t.findRepresentativeAxisProxy();if(r){var a=r.getDataPercentWindow(),n=r.getDataValueWindow();t.setCalculatedRange({start:a[0],end:a[1],startValue:n[0],endValue:n[1]})}})}},hs=us;function cs(i){i.registerAction("dataZoom",function(e,t){var r=as(t,e);A(r,function(a){a.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var Wr=!1;function Ka(i){Wr||(Wr=!0,i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,hs),cs(i),i.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}var $r=A;function Xr(i){if(i){for(var e in i)if(i.hasOwnProperty(e))return!0}}function Yr(i,e,t){var r={};return $r(e,function(n){var o=r[n]=a();$r(i[n],function(s,l){if(!!H.isValidType(l)){var u={type:l,visual:s};t&&t(u,n),o[l]=new H(u),l==="opacity"&&(u=X(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new H(u))}})}),r;function a(){var n=function(){};n.prototype.__hidden=n.prototype;var o=new n;return o}}function vs(i,e,t){var r;A(t,function(a){e.hasOwnProperty(a)&&Xr(e[a])&&(r=!0)}),r&&A(t,function(a){e.hasOwnProperty(a)&&Xr(e[a])?i[a]=X(e[a]):delete i[a]})}function fs(i,e,t,r){var a={};return A(i,function(n){var o=H.prepareVisualTypes(e[n]);a[n]=o}),{progress:function(o,s){var l;r!=null&&(l=s.getDimensionIndex(r));function u(_){return ji(s,h,_)}function c(_,b){Ji(s,h,_,b)}for(var h,f=s.getStore();(h=o.next())!=null;){var v=s.getRawDataItem(h);if(!(v&&v.visualMap===!1))for(var p=r!=null?f.get(l,h):h,d=t(p),m=e[d],g=a[d],y=0,x=g.length;y<x;y++){var S=g[y];m[S]&&m[S].applyVisual(p,u,c)}}}}}var ps=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=Et(Qt.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(Qt),ds=ps,$e=Pe();function gs(i,e,t){$e(i).coordSysRecordMap.each(function(r){var a=r.dataZoomInfoMap.get(e.uid);a&&(a.getRange=t)})}function ms(i,e){for(var t=$e(i).coordSysRecordMap,r=t.keys(),a=0;a<r.length;a++){var n=r[a],o=t.get(n),s=o.dataZoomInfoMap;if(s){var l=e.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||qa(t,o))}}}function qa(i,e){if(e){i.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function ys(i,e){var t={model:e,containsPoint:Yt(bs,e),dispatchAction:Yt(xs,i),dataZoomInfoMap:null,controller:null},r=t.controller=new qo(i.getZr());return A(["pan","zoom","scrollMove"],function(a){r.on(a,function(n){var o=[];t.dataZoomInfoMap.each(function(s){if(!!n.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[a],u=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,n);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&t.dispatchAction(o)})}),t}function xs(i,e){i.isDisposed()||i.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function bs(i,e,t,r){return i.coordinateSystem.containPoint([t,r])}function Ss(i){var e,t="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return i.each(function(n){var o=n.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;r[t+s]>r[t+e]&&(e=s),a=a&&o.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}}}function _s(i){i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,function(e,t){var r=$e(t),a=r.coordSysRecordMap||(r.coordSysRecordMap=et());a.each(function(n){n.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(n){var o=Ya(n);A(o.infoList,function(s){var l=s.model.uid,u=a.get(l)||a.set(l,ys(t,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=et());c.set(n.uid,{dzReferCoordSysInfo:s,model:n,getRange:null})})}),a.each(function(n){var o=n.controller,s,l=n.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){qa(a,n);return}var c=Ss(l);o.enable(c.controlType,c.opt),o.setPointerChecker(n.containsPoint),_a(n,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var Ms=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,r,a){if(i.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),gs(a,t,{pan:k(xe.pan,this),zoom:k(xe.zoom,this),scrollMove:k(xe.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){ms(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(Ua),xe={zoom:function(i,e,t,r){var a=this.range,n=a.slice(),o=i.axisModels[0];if(!!o){var s=be[e](null,[r.originX,r.originY],o,t,i),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(n[1]-n[0])+n[0],u=Math.max(1/r.scale,0);n[0]=(n[0]-l)*u+l,n[1]=(n[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Rt(0,n,[0,100],0,c.minSpan,c.maxSpan),this.range=n,a[0]!==n[0]||a[1]!==n[1])return n}},pan:Ur(function(i,e,t,r,a,n){var o=be[r]([n.oldX,n.oldY],[n.newX,n.newY],e,a,t);return o.signal*(i[1]-i[0])*o.pixel/o.pixelLength}),scrollMove:Ur(function(i,e,t,r,a,n){var o=be[r]([0,0],[n.scrollDelta,n.scrollDelta],e,a,t);return o.signal*(i[1]-i[0])*n.scrollDelta})};function Ur(i){return function(e,t,r,a){var n=this.range,o=n.slice(),s=e.axisModels[0];if(!!s){var l=i(o,s,e,t,r,a);if(Rt(l,o,[0,100],"all"),this.range=o,n[0]!==o[0]||n[1]!==o[1])return o}}}var be={grid:function(i,e,t,r,a){var n=t.axis,o={},s=a.model.coordinateSystem.getRect();return i=i||[0,0],n.dim==="x"?(o.pixel=e[0]-i[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=n.inverse?1:-1):(o.pixel=e[1]-i[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=n.inverse?-1:1),o},polar:function(i,e,t,r,a){var n=t.axis,o={},s=a.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return i=i?s.pointToCoord(i):[0,0],e=s.pointToCoord(e),t.mainType==="radiusAxis"?(o.pixel=e[0]-i[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=n.inverse?1:-1):(o.pixel=e[1]-i[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=n.inverse?-1:1),o},singleAxis:function(i,e,t,r,a){var n=t.axis,o=a.model.coordinateSystem.getRect(),s={};return i=i||[0,0],n.orient==="horizontal"?(s.pixel=e[0]-i[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=n.inverse?1:-1):(s.pixel=e[1]-i[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=n.inverse?-1:1),s}},As=Ms;function ws(i){Ka(i),i.registerComponentModel(ds),i.registerComponentView(As),_s(i)}var Is=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Et(Qt.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(Qt),Ds=Is,It=j,Kr=7,Cs=1,Se=30,Ls=7,Dt="horizontal",qr="vertical",Ts=5,Vs=["line","bar","candlestick","scatter"],Ps={easing:"cubicOut",duration:100,delay:0},Os=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,r){this.api=r,this._onBrush=k(this._onBrush,this),this._onBrushEnd=k(this._onBrushEnd,this)},e.prototype.render=function(t,r,a,n){if(i.prototype.render.apply(this,arguments),_a(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!n||n.type!=="dataZoom"||n.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Qi(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new Y;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(r),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,r=this.api,a=t.get("brushSelect"),n=a?Ls:0,o=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===Dt?{right:s.width-o.x-o.width,top:s.height-Se-Kr-n,width:o.width,height:Se}:{right:Kr,top:o.y,width:Se,height:o.height},u=xa(t.option);A(["right","top","width","height"],function(h){u[h]==="ph"&&(u[h]=l[h])});var c=Re(u,s);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===qr&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,r=this._location,a=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(a===Dt&&!o?{scaleY:l?1:-1,scaleX:1}:a===Dt&&o?{scaleY:l?1:-1,scaleX:-1}:a===qr&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([s]);t.x=r.x-u.x,t.y=r.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,r=this._size,a=this._displayables.sliderGroup,n=t.get("brushSelect");a.add(new It({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new It({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:k(this._onClickPanel,this)}),s=this.api.getZr();n?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),a.add(o)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var r=this._size,a=this._shadowSize||[],n=t.series,o=n.getRawData(),s=n.getShadowDim?n.getShadowDim():t.otherDim;if(s==null)return;var l=this._shadowPolygonPts,u=this._shadowPolylinePts;if(o!==this._shadowData||s!==this._shadowDim||r[0]!==a[0]||r[1]!==a[1]){var c=o.getDataExtent(s),h=(c[1]-c[0])*.3;c=[c[0]-h,c[1]+h];var f=[0,r[1]],v=[0,r[0]],p=[[r[0],0],[0,0]],d=[],m=v[1]/(o.count()-1),g=0,y=Math.round(o.count()/r[0]),x;o.each([s],function(I,D){if(y>0&&D%y){g+=m;return}var C=I==null||isNaN(I)||I==="",w=C?0:R(I,c,f,!0);C&&!x&&D?(p.push([p[p.length-1][0],0]),d.push([d[d.length-1][0],0])):!C&&x&&(p.push([g,0]),d.push([g,0])),p.push([g,w]),d.push([g,w]),g+=m,x=C}),l=this._shadowPolygonPts=p,u=this._shadowPolylinePts=d}this._shadowData=o,this._shadowDim=s,this._shadowSize=[r[0],r[1]];var S=this.dataZoomModel;function _(I){var D=S.getModel(I?"selectedDataBackground":"dataBackground"),C=new Y,w=new Aa({shape:{points:l},segmentIgnoreThreshold:1,style:D.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),L=new on({shape:{points:u},segmentIgnoreThreshold:1,style:D.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return C.add(w),C.add(L),C}for(var b=0;b<3;b++){var M=_(b===1);this._displayables.sliderGroup.add(M),this._displayables.dataShadowSegs.push(M)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,r=t.get("showDataShadow");if(r!==!1){var a,n=this.ecModel;return t.eachTargetAxis(function(o,s){var l=t.getAxisProxy(o,s).getTargetSeriesModels();A(l,function(u){if(!a&&!(r!==!0&&Lt(Vs,u.get("type"))<0)){var c=n.getComponent(ut(o),s).axis,h=ks(o),f,v=u.coordinateSystem;h!=null&&v.getOtherAxis&&(f=v.getOtherAxis(c).inverse),h=u.getData().mapDimension(h),a={thisAxis:c,series:u,thisDim:o,otherDim:h,otherAxisInverse:f}}},this)},this),a}},e.prototype._renderHandle=function(){var t=this.group,r=this._displayables,a=r.handles=[null,null],n=r.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,h=l.get("brushSelect"),f=r.filler=new It({silent:h,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(f),o.add(new It({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:Cs,fill:"rgba(0,0,0,0)"}})),A([0,1],function(x){var S=l.get("handleIcon");!tn[S]&&S.indexOf("path://")<0&&S.indexOf("image://")<0&&(S="path://"+S,en("handleIcon now needs 'path://' prefix when using a path string"));var _=ht(S,-1,0,2,2,null,!0);_.attr({cursor:jr(this._orient),draggable:!0,drift:k(this._onDragMove,this,x),ondragend:k(this._onDragEnd,this),onmouseover:k(this._showDataInfo,this,!0),onmouseout:k(this._showDataInfo,this,!1),z2:5});var b=_.getBoundingRect(),M=l.get("handleSize");this._handleHeight=ur(M,this._size[1]),this._handleWidth=b.width/b.height*this._handleHeight,_.setStyle(l.getModel("handleStyle").getItemStyle()),_.style.strokeNoScale=!0,_.rectHover=!0,_.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),rn(_);var I=l.get("handleColor");I!=null&&(_.style.fill=I),o.add(a[x]=_);var D=l.getModel("textStyle");t.add(n[x]=new pt({silent:!0,invisible:!0,style:an(D,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:D.getTextColor(),font:D.getFont()}),z2:10}))},this);var v=f;if(h){var p=ur(l.get("moveHandleSize"),s[1]),d=r.moveHandle=new j({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:p}}),m=p*.8,g=r.moveHandleIcon=ht(l.get("moveHandleIcon"),-m/2,-m/2,m,m,"#fff",!0);g.silent=!0,g.y=s[1]+p/2-.5,d.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(s[1]/2,Math.max(p,10));v=r.moveZone=new j({invisible:!0,shape:{y:s[1]-y,height:p+y}}),v.on("mouseover",function(){u.enterEmphasis(d)}).on("mouseout",function(){u.leaveEmphasis(d)}),o.add(d),o.add(g),o.add(v)}v.attr({draggable:!0,cursor:jr(this._orient),drift:k(this._onDragMove,this,"all"),ondragstart:k(this._showDataInfo,this,!0),ondragend:k(this._onDragEnd,this),onmouseover:k(this._showDataInfo,this,!0),onmouseout:k(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[R(t[0],[0,100],r,!0),R(t[1],[0,100],r,!0)]},e.prototype._updateInterval=function(t,r){var a=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),s=a.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Rt(r,n,o,a.get("zoomLock")?"all":t,s.minSpan!=null?R(s.minSpan,l,o,!0):null,s.maxSpan!=null?R(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=ft([R(n[0],o,l,!0),R(n[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},e.prototype._updateView=function(t){var r=this._displayables,a=this._handleEnds,n=ft(a.slice()),o=this._size;A([0,1],function(v){var p=r.handles[v],d=this._handleHeight;p.attr({scaleX:d/2,scaleY:d/2,x:a[v]+(v?-1:1),y:o[1]/2-d/2})},this),r.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]});var s={x:n[0],width:n[1]-n[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,n[0],n[1],o[0]],c=0;c<l.length;c++){var h=l[c],f=h.getClipPath();f||(f=new j,h.setClipPath(f)),f.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var r=this.dataZoomModel,a=this._displayables,n=a.handleLabels,o=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,h=t?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(h[0],u),this._formatLabel(h[1],u)]}}var f=ft(this._handleEnds.slice());v.call(this,0),v.call(this,1);function v(p){var d=Wt(a.handles[p].parent,this.group),m=Ma(p===0?"right":"left",d),g=this._handleWidth/2+Ts,y=Tt([f[p]+(p===0?-g:g),this._size[1]/2],d);n[p].setStyle({x:y[0],y:y[1],verticalAlign:o===Dt?"middle":m,align:o===Dt?m:"center",text:s[p]})}},e.prototype._formatLabel=function(t,r){var a=this.dataZoomModel,n=a.get("labelFormatter"),o=a.get("labelPrecision");(o==null||o==="auto")&&(o=r.getPixelPrecision());var s=t==null||isNaN(t)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return tt(n)?n(t,s):kt(n)?n.replace("{value}",s):s},e.prototype._showDataInfo=function(t){t=this._dragging||t;var r=this._displayables,a=r.handleLabels;a[0].attr("invisible",!t),a[1].attr("invisible",!t),r.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},e.prototype._onDragMove=function(t,r,a,n){this._dragging=!0,mt(n.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=Tt([r,a],o,!0),l=this._updateInterval(t,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var r=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(a[0]<0||a[0]>r[0]||a[1]<0||a[1]>r[1])){var n=this._handleEnds,o=(n[0]+n[1])/2,s=this._updateInterval("all",a[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var r=t.offsetX,a=t.offsetY;this._brushStart=new nn(r,a),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(!!this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var a=r.shape,n=+new Date;if(!(n-this._brushStartTime<200&&Math.abs(a.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=ft([R(a.x,o,s,!0),R(a.x+a.width,o,s,!0)]),this._handleEnds=[a.x,a.x+a.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(mt(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,r){var a=this._displayables,n=this.dataZoomModel,o=a.brushRect;o||(o=a.brushRect=new It({silent:!0,style:n.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,r),c=l.transformCoordToLocal(s.x,s.y),h=this._size;u[0]=Math.max(Math.min(h[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:h[1]})},e.prototype._dispatchZoomAction=function(t){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?Ps:null,start:r[0],end:r[1]})},e.prototype._findCoordRect=function(){var t,r=Ya(this.dataZoomModel).infoList;if(!t&&r.length){var a=r[0].model.coordinateSystem;t=a.getRect&&a.getRect()}if(!t){var n=this.api.getWidth(),o=this.api.getHeight();t={x:n*.2,y:o*.2,width:n*.6,height:o*.6}}return t},e.type="dataZoom.slider",e}(Ua);function ks(i){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[i]}function jr(i){return i==="vertical"?"ns-resize":"ew-resize"}var Es=Os;function Rs(i){i.registerComponentModel(Ds),i.registerComponentView(Es),Ka(i)}function ml(i){Mt(ws),Mt(Rs)}var zs={get:function(i,e,t){var r=X((Ns[i]||{})[e]);return t&&G(r)?r[r.length-1]:r}},Ns={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},ja=zs,Jr=H.mapVisual,Bs=H.eachVisual,Gs=G,Qr=A,Hs=ft,Fs=R,Zs=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a)},e.prototype.optionUpdated=function(t,r){var a=this.option;!r&&vs(a,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var r=this.stateList;t=k(t,this),this.controllerVisuals=Yr(this.option.controller,r,t),this.targetVisuals=Yr(this.option.target,r,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,r=[];return t==null||t==="all"?this.ecModel.eachSeries(function(a,n){r.push(n)}):r=sn(t),r},e.prototype.eachTargetSeries=function(t,r){A(this.getTargetSeriesIndices(),function(a){var n=this.ecModel.getSeriesByIndex(a);n&&t.call(r,n)},this)},e.prototype.isTargetSeries=function(t){var r=!1;return this.eachTargetSeries(function(a){a===t&&(r=!0)}),r},e.prototype.formatValueText=function(t,r,a){var n=this.option,o=n.precision,s=this.dataBound,l=n.formatter,u;a=a||["<",">"],G(t)&&(t=t.slice(),u=!0);var c=r?t:u?[h(t[0]),h(t[1])]:h(t);if(kt(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(tt(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===s[0]?a[0]+" "+c[1]:t[1]===s[1]?a[1]+" "+c[0]:c[0]+" - "+c[1];return c;function h(f){return f===s[0]?"min":f===s[1]?"max":(+f).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var t=this.option,r=Hs([t.min,t.max]);this._dataExtent=r},e.prototype.getDataDimensionIndex=function(t){var r=this.option.dimension;if(r!=null)return t.getDimensionIndex(r);for(var a=t.dimensions,n=a.length-1;n>=0;n--){var o=a[n],s=t.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,r=this.option,a={inRange:r.inRange,outOfRange:r.outOfRange},n=r.target||(r.target={}),o=r.controller||(r.controller={});q(n,a),q(o,a);var s=this.isCategory();l.call(this,n),l.call(this,o),u.call(this,n,"inRange","outOfRange"),c.call(this,o);function l(h){Gs(r.color)&&!h.inRange&&(h.inRange={color:r.color.slice().reverse()}),h.inRange=h.inRange||{color:t.get("gradientColor")}}function u(h,f,v){var p=h[f],d=h[v];p&&!d&&(d=h[v]={},Qr(p,function(m,g){if(!!H.isValidType(g)){var y=ja.get(g,"inactive",s);y!=null&&(d[g]=y,g==="color"&&!d.hasOwnProperty("opacity")&&!d.hasOwnProperty("colorAlpha")&&(d.opacity=[0,0]))}}))}function c(h){var f=(h.inRange||{}).symbol||(h.outOfRange||{}).symbol,v=(h.inRange||{}).symbolSize||(h.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),d=this.getItemSymbol(),m=d||"roundRect";Qr(this.stateList,function(g){var y=this.itemSize,x=h[g];x||(x=h[g]={color:s?p:[p]}),x.symbol==null&&(x.symbol=f&&X(f)||(s?m:[m])),x.symbolSize==null&&(x.symbolSize=v&&X(v)||(s?y[0]:[y[0],y[0]])),x.symbol=Jr(x.symbol,function(b){return b==="none"?m:b});var S=x.symbolSize;if(S!=null){var _=-1/0;Bs(S,function(b){b>_&&(_=b)}),x.symbolSize=Jr(S,function(b){return Fs(b,[0,_],[0,y[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(ie),te=Zs,ta=[20,140],Ws=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,r){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){i.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=ta[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=ta[1])},e.prototype._resetRange=function(){var t=this.getExtent(),r=this.option.range;!r||r.auto?(t.auto=1,this.option.range=t):G(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],t[0]),r[1]=Math.min(r[1],t[1]))},e.prototype.completeVisualOption=function(){i.prototype.completeVisualOption.apply(this,arguments),A(this.stateList,function(t){var r=this.option.controller[t].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),r=ft((this.get("range")||[]).slice());return r[0]>t[1]&&(r[0]=t[1]),r[1]>t[1]&&(r[1]=t[1]),r[0]<t[0]&&(r[0]=t[0]),r[1]<t[0]&&(r[1]=t[0]),r},e.prototype.getValueState=function(t){var r=this.option.range,a=this.getExtent();return(r[0]<=a[0]||r[0]<=t)&&(r[1]>=a[1]||t<=r[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[];return this.eachTargetSeries(function(a){var n=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(s,l){t[0]<=s&&s<=t[1]&&n.push(l)},this),r.push({seriesId:a.id,dataIndex:n})},this),r},e.prototype.getVisualMeta=function(t){var r=ea(this,"outOfRange",this.getExtent()),a=ea(this,"inRange",this.option.range.slice()),n=[];function o(v,p){n.push({value:v,color:t(v,p)})}for(var s=0,l=0,u=a.length,c=r.length;l<c&&(!a.length||r[l]<=a[0]);l++)r[l]<a[s]&&o(r[l],"outOfRange");for(var h=1;s<u;s++,h=0)h&&n.length&&o(a[s],"outOfRange"),o(a[s],"inRange");for(var h=1;l<c;l++)(!a.length||a[a.length-1]<r[l])&&(h&&(n.length&&o(n[n.length-1].value,"outOfRange"),h=0),o(r[l],"outOfRange"));var f=n.length;return{stops:n,outerColors:[f?n[0].color:"transparent",f?n[f-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Et(te.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(te);function ea(i,e,t){if(t[0]===t[1])return t.slice();for(var r=200,a=(t[1]-t[0])/r,n=t[0],o=[],s=0;s<=r&&n<t[1];s++)o.push(n),n+=a;return o.push(t[1]),o}var $s=Ws,Xs=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r},e.prototype.render=function(t,r,a,n){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,r,a,n)},e.prototype.renderBackground=function(t){var r=this.visualMapModel,a=ln(r.get("padding")||0),n=t.getBoundingRect();t.add(new j({z2:-1,silent:!0,shape:{x:n.x-a[3],y:n.y-a[0],width:n.width+a[3]+a[1],height:n.height+a[0]+a[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,r,a){a=a||{};var n=a.forceState,o=this.visualMapModel,s={};if(r==="color"){var l=o.get("contentColor");s.color=l}function u(v){return s[v]}function c(v,p){s[v]=p}var h=o.controllerVisuals[n||o.getValueState(t)],f=H.prepareVisualTypes(h);return A(f,function(v){var p=h[v];a.convertOpacityToAlpha&&v==="opacity"&&(v="colorAlpha",p=h.__alphaForOpacity),H.dependsOn(v,r)&&p&&p.applyVisual(t,u,c)}),s[r]},e.prototype.positionGroup=function(t){var r=this.visualMapModel,a=this.api;un(t,r.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})},e.prototype.doRender=function(t,r,a,n){},e.type="visualMap",e}(ze),Ja=Xs,ra=[["left","right","width"],["top","bottom","height"]];function Qa(i,e,t){var r=i.option,a=r.align;if(a!=null&&a!=="auto")return a;for(var n={width:e.getWidth(),height:e.getHeight()},o=r.orient==="horizontal"?1:0,s=ra[o],l=[0,null,10],u={},c=0;c<3;c++)u[ra[1-o][c]]=l[c],u[s[c]]=c===2?t[0]:r[s[c]];var h=[["x","width",3],["y","height",0]][o],f=Re(u,n,r.padding);return s[(f.margin[h[2]]||0)+f[h[0]]+f[h[1]]*.5<n[h[1]]*.5?0:1]}function Xt(i,e){return A(i||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),i}var J=R,Ys=A,aa=Math.min,_e=Math.max,Us=12,Ks=6,qs=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.doRender=function(t,r,a,n){this._api=a,(!n||n.type!=="selectDataRange"||n.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,r=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(r);var a=t.get("text");this._renderEndsText(r,a,0),this._renderEndsText(r,a,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},e.prototype._renderEndsText=function(t,r,a){if(!!r){var n=r[1-a];n=n!=null?n+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,a===0?-s:l[1]+s],u),h=this._applyTransform(a===0?"bottom":"top",u),f=this._orient,v=this.visualMapModel.textStyleModel;this.group.add(new pt({style:{x:c[0],y:c[1],verticalAlign:f==="horizontal"?"middle":h,align:f==="horizontal"?h:"center",text:n,font:v.getFont(),fill:v.getTextColor()}}))}},e.prototype._renderBar=function(t){var r=this.visualMapModel,a=this._shapes,n=r.itemSize,o=this._orient,s=this._useHandle,l=Qa(r,this.api,n),u=a.mainGroup=this._createBarGroup(l),c=new Y;u.add(c),c.add(a.outOfRange=ia()),c.add(a.inRange=ia(null,s?oa(this._orient):null,k(this._dragHandle,this,"all",!1),k(this._dragHandle,this,"all",!0))),c.setClipPath(new j({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var h=r.textStyleModel.getTextRect("\u56FD"),f=_e(h.width,h.height);s&&(a.handleThumbs=[],a.handleLabels=[],a.handleLabelPoints=[],this._createHandle(r,u,0,n,f,o),this._createHandle(r,u,1,n,f,o)),this._createIndicator(r,u,n,f,o),t.add(u)},e.prototype._createHandle=function(t,r,a,n,o,s){var l=k(this._dragHandle,this,a,!1),u=k(this._dragHandle,this,a,!0),c=hr(t.get("handleSize"),n[0]),h=ht(t.get("handleIcon"),-c/2,-c/2,c,c,null,!0),f=oa(this._orient);h.attr({cursor:f,draggable:!0,drift:l,ondragend:u,onmousemove:function(g){mt(g.event)}}),h.x=n[0]/2,h.useStyle(t.getModel("handleStyle").getItemStyle()),h.setStyle({strokeNoScale:!0,strokeFirst:!0}),h.style.lineWidth*=2,h.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),hn(h,!0),r.add(h);var v=this.visualMapModel.textStyleModel,p=new pt({cursor:f,draggable:!0,drift:l,onmousemove:function(g){mt(g.event)},ondragend:u,style:{x:0,y:0,text:"",font:v.getFont(),fill:v.getTextColor()}});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var d=[c,0],m=this._shapes;m.handleThumbs[a]=h,m.handleLabelPoints[a]=d,m.handleLabels[a]=p},e.prototype._createIndicator=function(t,r,a,n,o){var s=hr(t.get("indicatorSize"),a[0]),l=ht(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:a[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof pa){var c=l.style;l.useStyle(Vt({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);r.add(l);var h=this.visualMapModel.textStyleModel,f=new pt({silent:!0,invisible:!0,style:{x:0,y:0,text:"",font:h.getFont(),fill:h.getTextColor()}});this.group.add(f);var v=[(o==="horizontal"?n/2:Ks)+a[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=f,p.indicatorLabelPoint=v,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,r,a,n){if(!!this._useHandle){if(this._dragging=!r,!r){var o=this._applyTransform([a,n],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():na(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,r=this._dataInterval=t.getSelected(),a=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[J(r[0],a,n,!0),J(r[1],a,n,!0)]},e.prototype._updateInterval=function(t,r){r=r||0;var a=this.visualMapModel,n=this._handleEnds,o=[0,a.itemSize[1]];Rt(r,n,o,t,0);var s=a.getExtent();this._dataInterval=[J(n[0],o,s,!0),J(n[1],o,s,!0)]},e.prototype._updateView=function(t){var r=this.visualMapModel,a=r.getExtent(),n=this._shapes,o=[0,r.itemSize[1]],s=t?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,a,s,"inRange"),u=this._createBarVisual(a,a,o,"outOfRange");n.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),n.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},e.prototype._createBarVisual=function(t,r,a,n){var o={forceState:n,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,o),l=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],u=this._createBarPoints(a,l);return{barColor:new ya(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(t,r){var a=100,n=[],o=(t[1]-t[0])/a;n.push({color:this.getControllerVisual(t[0],"color",r),offset:0});for(var s=1;s<a;s++){var l=t[0]+o*s;if(l>t[1])break;n.push({color:this.getControllerVisual(l,"color",r),offset:s/a})}return n.push({color:this.getControllerVisual(t[1],"color",r),offset:1}),n},e.prototype._createBarPoints=function(t,r){var a=this.visualMapModel.itemSize;return[[a[0]-r[0],t[0]],[a[0],t[0]],[a[0],t[1]],[a[0]-r[1],t[1]]]},e.prototype._createBarGroup=function(t){var r=this._orient,a=this.visualMapModel.get("inverse");return new Y(r==="horizontal"&&!a?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&a?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!a?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,r){if(!!this._useHandle){var a=this._shapes,n=this.visualMapModel,o=a.handleThumbs,s=a.handleLabels,l=n.itemSize,u=n.getExtent();Ys([0,1],function(c){var h=o[c];h.setStyle("fill",r.handlesColor[c]),h.y=t[c];var f=J(t[c],[0,l[1]],u,!0),v=this.getControllerVisual(f,"symbolSize");h.scaleX=h.scaleY=v/l[0],h.x=l[0]-v/2;var p=Tt(a.handleLabelPoints[c],Wt(h,this.group));s[c].setStyle({x:p[0],y:p[1],text:n.formatValueText(this._dataInterval[c]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",a.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,r,a,n){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,h=c.indicator;if(!!h){h.attr("invisible",!1);var f={convertOpacityToAlpha:!0},v=this.getControllerVisual(t,"color",f),p=this.getControllerVisual(t,"symbolSize"),d=J(t,s,u,!0),m=l[0]-p/2,g={x:h.x,y:h.y};h.y=d,h.x=m;var y=Tt(c.indicatorLabelPoint,Wt(h,this.group)),x=c.indicatorLabel;x.attr("invisible",!1);var S=this._applyTransform("left",c.mainGroup),_=this._orient,b=_==="horizontal";x.setStyle({text:(a||"")+o.formatValueText(r),verticalAlign:b?S:"middle",align:b?"center":S});var M={x:m,y:d,style:{fill:v}},I={style:{x:y[0],y:y[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var D={duration:100,easing:"cubicInOut",additive:!0};h.x=g.x,h.y=g.y,h.animateTo(M,D),x.animateTo(I,D)}else h.attr(M),x.attr(I);this._firstShowIndicator=!1;var C=this._shapes.handleLabels;if(C)for(var w=0;w<C.length;w++)this._api.enterBlur(C[w])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(r){if(t._hovering=!0,!t._dragging){var a=t.visualMapModel.itemSize,n=t._applyTransform([r.offsetX,r.offsetY],t._shapes.mainGroup,!0,!0);n[1]=aa(_e(0,n[1]),a[1]),t._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=a[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,r){var a=this.visualMapModel,n=a.itemSize;if(!!a.option.hoverLink){var o=[0,n[1]],s=a.getExtent();t=aa(_e(o[0],t),o[1]);var l=js(a,s,o),u=[t-l,t+l],c=J(t,o,s,!0),h=[J(u[0],o,s,!0),J(u[1],o,s,!0)];u[0]<o[0]&&(h[0]=-1/0),u[1]>o[1]&&(h[1]=1/0),r&&(h[0]===-1/0?this._showIndicator(c,h[1],"< ",l):h[1]===1/0?this._showIndicator(c,h[0],"> ",l):this._showIndicator(c,c,"\u2248 ",l));var f=this._hoverLinkDataIndices,v=[];(r||na(a))&&(v=this._hoverLinkDataIndices=a.findTargetDataIndices(h));var p=cn(f,v);this._dispatchHighDown("downplay",Xt(p[0],a)),this._dispatchHighDown("highlight",Xt(p[1],a))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var r=t.target,a=this.visualMapModel;if(!(!r||at(r).dataIndex==null)){var n=at(r),o=this.ecModel.getSeriesByIndex(n.seriesIndex);if(!!a.isTargetSeries(o)){var s=o.getData(n.dataType),l=s.getStore().get(a.getDataDimensionIndex(s),n.dataIndex);isNaN(l)||this._showIndicator(l,l)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var a=0;a<r.length;a++)this._api.leaveBlur(r[a])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Xt(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,r,a,n){var o=Wt(r,n?null:this.group);return G(t)?Tt(t,o,a):Ma(t,o,a)},e.prototype._dispatchHighDown=function(t,r){r&&r.length&&this.api.dispatchAction({type:t,batch:r})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(Ja);function ia(i,e,t,r){return new Aa({shape:{points:i},draggable:!!t,cursor:e,drift:t,onmousemove:function(a){mt(a.event)},ondragend:r})}function js(i,e,t){var r=Us/2,a=i.get("hoverLinkDataSize");return a&&(r=J(a,e,t,!0)/2),r}function na(i){var e=i.get("hoverLinkOnHandle");return!!(e==null?i.get("realtime"):e)}function oa(i){return i==="vertical"?"ns-resize":"ew-resize"}var Js=qs,Qs={type:"selectDataRange",event:"dataRangeSelected",update:"update"},tl=function(i,e){e.eachComponent({mainType:"visualMap",query:i},function(t){t.setSelected(i.selected)})},el=[{createOnAllSeries:!0,reset:function(i,e){var t=[];return e.eachComponent("visualMap",function(r){var a=i.pipelineContext;!r.isTargetSeries(i)||a&&a.large||t.push(fs(r.stateList,r.targetVisuals,k(r.getValueState,r),r.getDataDimensionIndex(i.getData())))}),t}},{createOnAllSeries:!0,reset:function(i,e){var t=i.getData(),r=[];e.eachComponent("visualMap",function(a){if(a.isTargetSeries(i)){var n=a.getVisualMeta(k(rl,null,i,a))||{stops:[],outerColors:[]},o=a.getDataDimensionIndex(t);o>=0&&(n.dimension=o,r.push(n))}}),i.getData().setVisual("visualMeta",r)}}];function rl(i,e,t,r){for(var a=e.targetVisuals[r],n=H.prepareVisualTypes(a),o={color:vn(i.getData(),"color")},s=0,l=n.length;s<l;s++){var u=n[s],c=a[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(t,h,f)}return o.color;function h(v){return o[v]}function f(v,p){o[v]=p}}var sa=A;function al(i){var e=i&&i.visualMap;G(e)||(e=e?[e]:[]),sa(e,function(t){if(!!t){bt(t,"splitList")&&!bt(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var r=t.pieces;r&&G(r)&&sa(r,function(a){nt(a)&&(bt(a,"start")&&!bt(a,"min")&&(a.min=a.start),bt(a,"end")&&!bt(a,"max")&&(a.max=a.end))})}})}function bt(i,e){return i&&i.hasOwnProperty&&i.hasOwnProperty(e)}var la=!1;function ti(i){la||(la=!0,i.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),i.registerAction(Qs,tl),A(el,function(e){i.registerVisual(i.PRIORITY.VISUAL.COMPONENT,e)}),i.registerPreprocessor(al))}function il(i){i.registerComponentModel($s),i.registerComponentView(Js),ti(i)}var nl=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,r){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var a=this._mode=this._determineMode();this._pieceList=[],ol[this._mode].call(this,this._pieceList),this._resetSelected(t,r);var n=this.option.categories;this.resetVisual(function(o,s){a==="categories"?(o.mappingMethod="category",o.categories=X(n)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=N(this._pieceList,function(l){return l=X(l),s!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,r={},a=H.listVisualTypes(),n=this.isCategory();A(t.pieces,function(s){A(a,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),A(r,function(s,l){var u=!1;A(this.stateList,function(c){u=u||o(t,c,l)||o(t.target,c,l)},this),!u&&A(this.stateList,function(c){(t[c]||(t[c]={}))[l]=ja.get(l,c==="inRange"?"active":"inactive",n)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}i.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,r){var a=this.option,n=this._pieceList,o=(r?a:t).selected||{};if(a.selected=o,A(n,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),a.selectedMode==="single"){var s=!1;A(n,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=X(t)},e.prototype.getValueState=function(t){var r=H.findPieceIndex(t,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[],a=this._pieceList;return this.eachTargetSeries(function(n){var o=[],s=n.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=H.findPieceIndex(l,a);c===t&&o.push(u)},this),r.push({seriesId:n.id,dataIndex:o})},this),r},e.prototype.getRepresentValue=function(t){var r;if(this.isCategory())r=t.value;else if(t.value!=null)r=t.value;else{var a=t.interval||[];r=a[0]===-1/0&&a[1]===1/0?0:(a[0]+a[1])/2}return r},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var r=[],a=["",""],n=this;function o(c,h){var f=n.getRepresentValue({interval:c});h||(h=n.getValueState(f));var v=t(f,h);c[0]===-1/0?a[0]=v:c[1]===1/0?a[1]=v:r.push({value:c[0],color:v},{value:c[1],color:v})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return A(s,function(c){var h=c.interval;h&&(h[0]>u&&o([u,h[0]],"outOfRange"),o(h.slice()),u=h[1])},this),{stops:r,outerColors:a}},e.type="visualMap.piecewise",e.defaultOption=Et(te.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(te),ol={splitNumber:function(i){var e=this.option,t=Math.min(e.precision,20),r=this.getExtent(),a=e.splitNumber;a=Math.max(parseInt(a,10),1),e.splitNumber=a;for(var n=(r[1]-r[0])/a;+n.toFixed(t)!==n&&t<5;)t++;e.precision=t,n=+n.toFixed(t),e.minOpen&&i.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,s=r[0];o<a;s+=n,o++){var l=o===a-1?r[1]:s+n;i.push({interval:[s,l],close:[1,1]})}e.maxOpen&&i.push({interval:[r[1],1/0],close:[0,0]}),cr(i),A(i,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(i){var e=this.option;A(e.categories,function(t){i.push({text:this.formatValueText(t,!0),value:t})},this),ua(e,i)},pieces:function(i){var e=this.option;A(e.pieces,function(t,r){nt(t)||(t={value:t});var a={text:"",index:r};if(t.label!=null&&(a.text=t.label),t.hasOwnProperty("value")){var n=a.value=t.value;a.interval=[n,n],a.close=[1,1]}else{for(var o=a.interval=[],s=a.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],h=0;h<2;h++){for(var f=[["gte","gt","min"],["lte","lt","max"]][h],v=0;v<3&&o[h]==null;v++)o[h]=t[f[v]],s[h]=l[v],c[h]=v===2;o[h]==null&&(o[h]=u[h])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]>o[1]&&console.warn("Piece "+r+"is illegal: "+o+" lower bound should not greater then uppper bound."),o[0]===o[1]&&s[0]&&s[1]&&(a.value=o[0])}a.visual=H.retrieveVisuals(t),i.push(a)},this),ua(e,i),cr(i),A(i,function(t){var r=t.close,a=[["<","\u2264"][r[1]],[">","\u2265"][r[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,a)},this)}};function ua(i,e){var t=i.inverse;(i.orient==="vertical"?!t:t)&&e.reverse()}var sl=nl,ll=function(i){P(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var r=this.visualMapModel,a=r.get("textGap"),n=r.textStyleModel,o=n.getFont(),s=n.getTextColor(),l=this._getItemAlign(),u=r.itemSize,c=this._getViewData(),h=c.endsText,f=Me(r.get("showLabel",!0),!h);h&&this._renderEndsText(t,h[0],u,f,l),A(c.viewPieceList,function(v){var p=v.piece,d=new Y;d.onclick=k(this._onItemClick,this,p),this._enableHoverLink(d,v.indexInModelPieceList);var m=r.getRepresentValue(p);if(this._createItemSymbol(d,m,[0,0,u[0],u[1]]),f){var g=this.visualMapModel.getValueState(m);d.add(new pt({style:{x:l==="right"?-a:u[0]+a,y:u[1]/2,text:p.text,verticalAlign:"middle",align:l,font:o,fill:s,opacity:g==="outOfRange"?.5:1}}))}t.add(d)},this),h&&this._renderEndsText(t,h[1],u,f,l),fn(r.get("orient"),t,r.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,r){var a=this;t.on("mouseover",function(){return n("highlight")}).on("mouseout",function(){return n("downplay")});var n=function(o){var s=a.visualMapModel;s.option.hoverLink&&a.api.dispatchAction({type:o,batch:Xt(s.findTargetDataIndices(r),s)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,r=t.option;if(r.orient==="vertical")return Qa(t,this.api,t.itemSize);var a=r.align;return(!a||a==="auto")&&(a="left"),a},e.prototype._renderEndsText=function(t,r,a,n,o){if(!!r){var s=new Y,l=this.visualMapModel.textStyleModel;s.add(new pt({style:{x:n?o==="right"?a[0]:0:a[0]/2,y:a[1]/2,verticalAlign:"middle",align:n?o:"center",text:r,font:l.getFont(),fill:l.getTextColor()}})),t.add(s)}},e.prototype._getViewData=function(){var t=this.visualMapModel,r=N(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),a=t.get("text"),n=t.get("orient"),o=t.get("inverse");return(n==="horizontal"?o:!o)?r.reverse():a&&(a=a.slice().reverse()),{viewPieceList:r,endsText:a}},e.prototype._createItemSymbol=function(t,r,a){t.add(ht(this.getControllerVisual(r,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(r,"color")))},e.prototype._onItemClick=function(t){var r=this.visualMapModel,a=r.option,n=X(a.selected),o=r.getSelectedMapKey(t);a.selectedMode==="single"?(n[o]=!0,A(n,function(s,l){n[l]=l===o})):n[o]=!n[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})},e.type="visualMap.piecewise",e}(Ja),ul=ll;function hl(i){i.registerComponentModel(sl),i.registerComponentView(ul),ti(i)}function yl(i){Mt(il),Mt(hl)}export{Pn as A,Qt as D,Nn as S,vl as a,gl as b,yl as c,Ne as d,Uo as e,$n as f,Ua as g,Ka as h,fl as i,ml as j,hl as k,ao as p,dl as r,Rt as s,pl as t};
//# sourceMappingURL=install.d2933d0c.js.map
