{"version":3,"file":"CandleChartContainer.1f5607a6.js","sources":["../../node_modules/echarts/lib/chart/scatter/ScatterSeries.js","../../node_modules/echarts/lib/chart/helper/LargeSymbolDraw.js","../../node_modules/echarts/lib/chart/scatter/ScatterView.js","../../node_modules/echarts/lib/chart/scatter/install.js","../../node_modules/echarts/lib/component/helper/cursorHelper.js","../../node_modules/echarts/lib/component/helper/BrushController.js","../../node_modules/echarts/lib/component/helper/brushHelper.js","../../node_modules/echarts/lib/chart/helper/whiskerBoxCommon.js","../../node_modules/echarts/lib/chart/candlestick/CandlestickView.js","../../node_modules/echarts/lib/chart/candlestick/CandlestickSeries.js","../../node_modules/echarts/lib/chart/candlestick/preprocessor.js","../../node_modules/echarts/lib/chart/candlestick/candlestickVisual.js","../../node_modules/echarts/lib/chart/candlestick/candlestickLayout.js","../../node_modules/echarts/lib/chart/candlestick/install.js","../../node_modules/echarts/lib/coord/calendar/CalendarModel.js","../../node_modules/echarts/lib/component/calendar/CalendarView.js","../../node_modules/echarts/lib/coord/calendar/Calendar.js","../../node_modules/echarts/lib/component/calendar/install.js","../../node_modules/echarts/lib/component/dataZoom/SelectZoomModel.js","../../node_modules/echarts/lib/component/dataZoom/SelectZoomView.js","../../node_modules/echarts/lib/component/dataZoom/installDataZoomSelect.js","../../node_modules/echarts/lib/component/toolbox/featureManager.js","../../node_modules/echarts/lib/component/toolbox/ToolboxModel.js","../../node_modules/echarts/lib/component/toolbox/ToolboxView.js","../../node_modules/echarts/lib/component/toolbox/feature/SaveAsImage.js","../../node_modules/echarts/lib/component/toolbox/feature/MagicType.js","../../node_modules/echarts/lib/component/toolbox/feature/DataView.js","../../node_modules/echarts/lib/component/dataZoom/history.js","../../node_modules/echarts/lib/component/toolbox/feature/Restore.js","../../node_modules/echarts/lib/component/helper/BrushTargetManager.js","../../node_modules/echarts/lib/component/toolbox/feature/DataZoom.js","../../node_modules/echarts/lib/component/toolbox/install.js","../../node_modules/echarts/lib/component/timeline/TimelineModel.js","../../node_modules/echarts/lib/component/timeline/SliderTimelineModel.js","../../node_modules/echarts/lib/component/timeline/TimelineView.js","../../node_modules/echarts/lib/component/timeline/TimelineAxis.js","../../node_modules/echarts/lib/component/timeline/SliderTimelineView.js","../../node_modules/echarts/lib/component/timeline/timelineAction.js","../../node_modules/echarts/lib/component/timeline/preprocessor.js","../../node_modules/echarts/lib/component/timeline/install.js","../../src/shared/randomColor.ts","../../src/shared/timemath.ts","../../src/components/charts/CandleChart.vue","../../src/components/charts/CandleChart.vue?vue&type=template&lang.js","../../src/components/charts/PlotIndicator.vue","../../src/components/charts/PlotIndicator.vue?vue&type=template&lang.js","../../src/components/charts/PlotConfigurator.vue","../../src/components/charts/PlotConfigurator.vue?vue&type=template&lang.js","../../node_modules/vue-select/dist/vue-select.js","../../src/components/charts/CandleChartContainer.vue","../../src/components/charts/CandleChartContainer.vue?vue&type=template&lang.js"],"sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport createSeriesData from '../helper/createSeriesData.js';\nimport SeriesModel from '../../model/Series.js';\n\nvar ScatterSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(ScatterSeriesModel, _super);\n\n  function ScatterSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScatterSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n\n  ScatterSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return createSeriesData(null, this, {\n      useEncodeDefaulter: true\n    });\n  };\n\n  ScatterSeriesModel.prototype.getProgressive = function () {\n    var progressive = this.option.progressive;\n\n    if (progressive == null) {\n      // PENDING\n      return this.option.large ? 5e3 : this.get('progressive');\n    }\n\n    return progressive;\n  };\n\n  ScatterSeriesModel.prototype.getProgressiveThreshold = function () {\n    var progressiveThreshold = this.option.progressiveThreshold;\n\n    if (progressiveThreshold == null) {\n      // PENDING\n      return this.option.large ? 1e4 : this.get('progressiveThreshold');\n    }\n\n    return progressiveThreshold;\n  };\n\n  ScatterSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    return selectors.point(data.getItemLayout(dataIndex));\n  };\n\n  ScatterSeriesModel.prototype.getZLevelKey = function () {\n    // Each progressive series has individual key.\n    return this.getData().count() > this.getProgressiveThreshold() ? this.id : '';\n  };\n\n  ScatterSeriesModel.type = 'series.scatter';\n  ScatterSeriesModel.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar'];\n  ScatterSeriesModel.defaultOption = {\n    coordinateSystem: 'cartesian2d',\n    // zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    symbolSize: 10,\n    // symbolRotate: null,  // 图形旋转控制\n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    // cursor: null,\n    itemStyle: {\n      opacity: 0.8 // color: 各异\n\n    },\n    emphasis: {\n      scale: true\n    },\n    // If clip the overflow graphics\n    // Works on cartesian / polar series\n    clip: true,\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    },\n    universalTransition: {\n      divideShape: 'clone'\n    } // progressive: null\n\n  };\n  return ScatterSeriesModel;\n}(SeriesModel);\n\nexport default ScatterSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global Float32Array */\n// TODO Batch by color\n\nimport * as graphic from '../../util/graphic.js';\nimport { createSymbol } from '../../util/symbol.js';\nimport { getECData } from '../../util/innerStore.js';\nvar BOOST_SIZE_THRESHOLD = 4;\n\nvar LargeSymbolPathShape =\n/** @class */\nfunction () {\n  function LargeSymbolPathShape() {}\n\n  return LargeSymbolPathShape;\n}();\n\nvar LargeSymbolPath =\n/** @class */\nfunction (_super) {\n  __extends(LargeSymbolPath, _super);\n\n  function LargeSymbolPath(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this._off = 0;\n    _this.hoverDataIdx = -1;\n    return _this;\n  }\n\n  LargeSymbolPath.prototype.getDefaultShape = function () {\n    return new LargeSymbolPathShape();\n  };\n\n  LargeSymbolPath.prototype.reset = function () {\n    this.notClear = false;\n    this._off = 0;\n  };\n\n  LargeSymbolPath.prototype.buildPath = function (path, shape) {\n    var points = shape.points;\n    var size = shape.size;\n    var symbolProxy = this.symbolProxy;\n    var symbolProxyShape = symbolProxy.shape;\n    var ctx = path.getContext ? path.getContext() : path;\n    var canBoost = ctx && size[0] < BOOST_SIZE_THRESHOLD;\n    var softClipShape = this.softClipShape;\n    var i; // Do draw in afterBrush.\n\n    if (canBoost) {\n      this._ctx = ctx;\n      return;\n    }\n\n    this._ctx = null;\n\n    for (i = this._off; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (softClipShape && !softClipShape.contain(x, y)) {\n        continue;\n      }\n\n      symbolProxyShape.x = x - size[0] / 2;\n      symbolProxyShape.y = y - size[1] / 2;\n      symbolProxyShape.width = size[0];\n      symbolProxyShape.height = size[1];\n      symbolProxy.buildPath(path, symbolProxyShape, true);\n    }\n\n    if (this.incremental) {\n      this._off = i;\n      this.notClear = true;\n    }\n  };\n\n  LargeSymbolPath.prototype.afterBrush = function () {\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var ctx = this._ctx;\n    var softClipShape = this.softClipShape;\n    var i;\n\n    if (!ctx) {\n      return;\n    } // PENDING If style or other canvas status changed?\n\n\n    for (i = this._off; i < points.length;) {\n      var x = points[i++];\n      var y = points[i++];\n\n      if (isNaN(x) || isNaN(y)) {\n        continue;\n      }\n\n      if (softClipShape && !softClipShape.contain(x, y)) {\n        continue;\n      } // fillRect is faster than building a rect path and draw.\n      // And it support light globalCompositeOperation.\n\n\n      ctx.fillRect(x - size[0] / 2, y - size[1] / 2, size[0], size[1]);\n    }\n\n    if (this.incremental) {\n      this._off = i;\n      this.notClear = true;\n    }\n  };\n\n  LargeSymbolPath.prototype.findDataIndex = function (x, y) {\n    // TODO ???\n    // Consider transform\n    var shape = this.shape;\n    var points = shape.points;\n    var size = shape.size;\n    var w = Math.max(size[0], 4);\n    var h = Math.max(size[1], 4); // Not consider transform\n    // Treat each element as a rect\n    // top down traverse\n\n    for (var idx = points.length / 2 - 1; idx >= 0; idx--) {\n      var i = idx * 2;\n      var x0 = points[i] - w / 2;\n      var y0 = points[i + 1] - h / 2;\n\n      if (x >= x0 && y >= y0 && x <= x0 + w && y <= y0 + h) {\n        return idx;\n      }\n    }\n\n    return -1;\n  };\n\n  LargeSymbolPath.prototype.contain = function (x, y) {\n    var localPos = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n    x = localPos[0];\n    y = localPos[1];\n\n    if (rect.contain(x, y)) {\n      // Cache found data index.\n      var dataIdx = this.hoverDataIdx = this.findDataIndex(x, y);\n      return dataIdx >= 0;\n    }\n\n    this.hoverDataIdx = -1;\n    return false;\n  };\n\n  LargeSymbolPath.prototype.getBoundingRect = function () {\n    // Ignore stroke for large symbol draw.\n    var rect = this._rect;\n\n    if (!rect) {\n      var shape = this.shape;\n      var points = shape.points;\n      var size = shape.size;\n      var w = size[0];\n      var h = size[1];\n      var minX = Infinity;\n      var minY = Infinity;\n      var maxX = -Infinity;\n      var maxY = -Infinity;\n\n      for (var i = 0; i < points.length;) {\n        var x = points[i++];\n        var y = points[i++];\n        minX = Math.min(x, minX);\n        maxX = Math.max(x, maxX);\n        minY = Math.min(y, minY);\n        maxY = Math.max(y, maxY);\n      }\n\n      rect = this._rect = new graphic.BoundingRect(minX - w / 2, minY - h / 2, maxX - minX + w, maxY - minY + h);\n    }\n\n    return rect;\n  };\n\n  return LargeSymbolPath;\n}(graphic.Path);\n\nvar LargeSymbolDraw =\n/** @class */\nfunction () {\n  function LargeSymbolDraw() {\n    this.group = new graphic.Group();\n  }\n  /**\n   * Update symbols draw by new data\n   */\n\n\n  LargeSymbolDraw.prototype.updateData = function (data, opt) {\n    this._clear();\n\n    var symbolEl = this._create();\n\n    symbolEl.setShape({\n      points: data.getLayout('points')\n    });\n\n    this._setCommon(symbolEl, data, opt);\n  };\n\n  LargeSymbolDraw.prototype.updateLayout = function (data) {\n    var points = data.getLayout('points');\n    this.group.eachChild(function (child) {\n      if (child.startIndex != null) {\n        var len = (child.endIndex - child.startIndex) * 2;\n        var byteOffset = child.startIndex * 4 * 2;\n        points = new Float32Array(points.buffer, byteOffset, len);\n      }\n\n      child.setShape('points', points); // Reset draw cursor.\n\n      child.reset();\n    });\n  };\n\n  LargeSymbolDraw.prototype.incrementalPrepareUpdate = function (data) {\n    this._clear();\n  };\n\n  LargeSymbolDraw.prototype.incrementalUpdate = function (taskParams, data, opt) {\n    var lastAdded = this._newAdded[0];\n    var points = data.getLayout('points');\n    var oldPoints = lastAdded && lastAdded.shape.points; // Merging the exists. Each element has 1e4 points.\n    // Consider the performance balance between too much elements and too much points in one shape(may affect hover optimization)\n\n    if (oldPoints && oldPoints.length < 2e4) {\n      var oldLen = oldPoints.length;\n      var newPoints = new Float32Array(oldLen + points.length); // Concat two array\n\n      newPoints.set(oldPoints);\n      newPoints.set(points, oldLen); // Update endIndex\n\n      lastAdded.endIndex = taskParams.end;\n      lastAdded.setShape({\n        points: newPoints\n      });\n    } else {\n      // Clear\n      this._newAdded = [];\n\n      var symbolEl = this._create();\n\n      symbolEl.startIndex = taskParams.start;\n      symbolEl.endIndex = taskParams.end;\n      symbolEl.incremental = true;\n      symbolEl.setShape({\n        points: points\n      });\n\n      this._setCommon(symbolEl, data, opt);\n    }\n  };\n\n  LargeSymbolDraw.prototype.eachRendered = function (cb) {\n    this._newAdded[0] && cb(this._newAdded[0]);\n  };\n\n  LargeSymbolDraw.prototype._create = function () {\n    var symbolEl = new LargeSymbolPath({\n      cursor: 'default'\n    });\n    this.group.add(symbolEl);\n\n    this._newAdded.push(symbolEl);\n\n    return symbolEl;\n  };\n\n  LargeSymbolDraw.prototype._setCommon = function (symbolEl, data, opt) {\n    var hostModel = data.hostModel;\n    opt = opt || {};\n    var size = data.getVisual('symbolSize');\n    symbolEl.setShape('size', size instanceof Array ? size : [size, size]);\n    symbolEl.softClipShape = opt.clipShape || null; // Create symbolProxy to build path for each data\n\n    symbolEl.symbolProxy = createSymbol(data.getVisual('symbol'), 0, 0, 0, 0); // Use symbolProxy setColor method\n\n    symbolEl.setColor = symbolEl.symbolProxy.setColor;\n    var extrudeShadow = symbolEl.shape.size[0] < BOOST_SIZE_THRESHOLD;\n    symbolEl.useStyle( // Draw shadow when doing fillRect is extremely slow.\n    hostModel.getModel('itemStyle').getItemStyle(extrudeShadow ? ['color', 'shadowBlur', 'shadowColor'] : ['color']));\n    var globalStyle = data.getVisual('style');\n    var visualColor = globalStyle && globalStyle.fill;\n\n    if (visualColor) {\n      symbolEl.setColor(visualColor);\n    }\n\n    var ecData = getECData(symbolEl); // Enable tooltip\n    // PENDING May have performance issue when path is extremely large\n\n    ecData.seriesIndex = hostModel.seriesIndex;\n    symbolEl.on('mousemove', function (e) {\n      ecData.dataIndex = null;\n      var dataIndex = symbolEl.hoverDataIdx;\n\n      if (dataIndex >= 0) {\n        // Provide dataIndex for tooltip\n        ecData.dataIndex = dataIndex + (symbolEl.startIndex || 0);\n      }\n    });\n  };\n\n  LargeSymbolDraw.prototype.remove = function () {\n    this._clear();\n  };\n\n  LargeSymbolDraw.prototype._clear = function () {\n    this._newAdded = [];\n    this.group.removeAll();\n  };\n\n  return LargeSymbolDraw;\n}();\n\nexport default LargeSymbolDraw;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../helper/SymbolDraw.js';\nimport LargeSymbolDraw from '../helper/LargeSymbolDraw.js';\nimport pointsLayout from '../../layout/points.js';\nimport ChartView from '../../view/Chart.js';\n\nvar ScatterView =\n/** @class */\nfunction (_super) {\n  __extends(ScatterView, _super);\n\n  function ScatterView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ScatterView.type;\n    return _this;\n  }\n\n  ScatterView.prototype.render = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.updateData(data, {\n      // TODO\n      // If this parameter should be a shape or a bounding volume\n      // shape will be more general.\n      // But bounding volume like bounding rect will be much faster in the contain calculation\n      clipShape: this._getClipShape(seriesModel)\n    });\n    this._finished = true;\n  };\n\n  ScatterView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n\n    var symbolDraw = this._updateSymbolDraw(data, seriesModel);\n\n    symbolDraw.incrementalPrepareUpdate(data);\n    this._finished = false;\n  };\n\n  ScatterView.prototype.incrementalRender = function (taskParams, seriesModel, ecModel) {\n    this._symbolDraw.incrementalUpdate(taskParams, seriesModel.getData(), {\n      clipShape: this._getClipShape(seriesModel)\n    });\n\n    this._finished = taskParams.end === seriesModel.getData().count();\n  };\n\n  ScatterView.prototype.updateTransform = function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData(); // Must mark group dirty and make sure the incremental layer will be cleared\n    // PENDING\n\n    this.group.dirty();\n\n    if (!this._finished || data.count() > 1e4) {\n      return {\n        update: true\n      };\n    } else {\n      var res = pointsLayout('').reset(seriesModel, ecModel, api);\n\n      if (res.progress) {\n        res.progress({\n          start: 0,\n          end: data.count(),\n          count: data.count()\n        }, data);\n      }\n\n      this._symbolDraw.updateLayout(data);\n    }\n  };\n\n  ScatterView.prototype.eachRendered = function (cb) {\n    this._symbolDraw && this._symbolDraw.eachRendered(cb);\n  };\n\n  ScatterView.prototype._getClipShape = function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var clipArea = coordSys && coordSys.getArea && coordSys.getArea();\n    return seriesModel.get('clip', true) ? clipArea : null;\n  };\n\n  ScatterView.prototype._updateSymbolDraw = function (data, seriesModel) {\n    var symbolDraw = this._symbolDraw;\n    var pipelineContext = seriesModel.pipelineContext;\n    var isLargeDraw = pipelineContext.large;\n\n    if (!symbolDraw || isLargeDraw !== this._isLargeDraw) {\n      symbolDraw && symbolDraw.remove();\n      symbolDraw = this._symbolDraw = isLargeDraw ? new LargeSymbolDraw() : new SymbolDraw();\n      this._isLargeDraw = isLargeDraw;\n      this.group.removeAll();\n    }\n\n    this.group.add(symbolDraw.group);\n    return symbolDraw;\n  };\n\n  ScatterView.prototype.remove = function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(true);\n    this._symbolDraw = null;\n  };\n\n  ScatterView.prototype.dispose = function () {};\n\n  ScatterView.type = 'scatter';\n  return ScatterView;\n}(ChartView);\n\nexport default ScatterView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport ScatterSeriesModel from './ScatterSeries.js';\nimport ScatterView from './ScatterView.js';\nimport { install as installGridSimple } from '../../component/grid/installSimple.js';\nimport layoutPoints from '../../layout/points.js';\nexport function install(registers) {\n  // In case developer forget to include grid component\n  use(installGridSimple);\n  registers.registerSeriesModel(ScatterSeriesModel);\n  registers.registerChartView(ScatterView);\n  registers.registerLayout(layoutPoints('scatter'));\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar IRRELEVANT_EXCLUDES = {\n  'axisPointer': 1,\n  'tooltip': 1,\n  'brush': 1\n};\n/**\n * Avoid that: mouse click on a elements that is over geo or graph,\n * but roam is triggered.\n */\n\nexport function onIrrelevantElement(e, api, targetCoordSysModel) {\n  var model = api.getComponentByElement(e.topTarget); // If model is axisModel, it works only if it is injected with coordinateSystem.\n\n  var coordSys = model && model.coordinateSystem;\n  return model && model !== targetCoordSysModel && !IRRELEVANT_EXCLUDES.hasOwnProperty(model.mainType) && coordSys && coordSys.model !== targetCoordSysModel;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { curry, each, map, bind, merge, clone, defaults, assert } from 'zrender/lib/core/util.js';\nimport Eventful from 'zrender/lib/core/Eventful.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as interactionMutex from './interactionMutex.js';\nimport DataDiffer from '../../data/DataDiffer.js';\nvar BRUSH_PANEL_GLOBAL = true;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathPow = Math.pow;\nvar COVER_Z = 10000;\nvar UNSELECT_THRESHOLD = 6;\nvar MIN_RESIZE_LINE_WIDTH = 6;\nvar MUTEX_RESOURCE_KEY = 'globalPan';\nvar DIRECTION_MAP = {\n  w: [0, 0],\n  e: [0, 1],\n  n: [1, 0],\n  s: [1, 1]\n};\nvar CURSOR_MAP = {\n  w: 'ew',\n  e: 'ew',\n  n: 'ns',\n  s: 'ns',\n  ne: 'nesw',\n  sw: 'nesw',\n  nw: 'nwse',\n  se: 'nwse'\n};\nvar DEFAULT_BRUSH_OPT = {\n  brushStyle: {\n    lineWidth: 2,\n    stroke: 'rgba(210,219,238,0.3)',\n    fill: '#D2DBEE'\n  },\n  transformable: true,\n  brushMode: 'single',\n  removeOnClick: false\n};\nvar baseUID = 0;\n/**\n * params:\n *     areas: Array.<Array>, coord relates to container group,\n *                             If no container specified, to global.\n *     opt {\n *         isEnd: boolean,\n *         removeOnClick: boolean\n *     }\n */\n\nvar BrushController =\n/** @class */\nfunction (_super) {\n  __extends(BrushController, _super);\n\n  function BrushController(zr) {\n    var _this = _super.call(this) || this;\n    /**\n     * @internal\n     */\n\n\n    _this._track = [];\n    /**\n     * @internal\n     */\n\n    _this._covers = [];\n    _this._handlers = {};\n\n    if (process.env.NODE_ENV !== 'production') {\n      assert(zr);\n    }\n\n    _this._zr = zr;\n    _this.group = new graphic.Group();\n    _this._uid = 'brushController_' + baseUID++;\n    each(pointerHandlers, function (handler, eventName) {\n      this._handlers[eventName] = bind(handler, this);\n    }, _this);\n    return _this;\n  }\n  /**\n   * If set to `false`, select disabled.\n   */\n\n\n  BrushController.prototype.enableBrush = function (brushOption) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(this._mounted);\n    }\n\n    this._brushType && this._doDisableBrush();\n    brushOption.brushType && this._doEnableBrush(brushOption);\n    return this;\n  };\n\n  BrushController.prototype._doEnableBrush = function (brushOption) {\n    var zr = this._zr; // Consider roam, which takes globalPan too.\n\n    if (!this._enableGlobalPan) {\n      interactionMutex.take(zr, MUTEX_RESOURCE_KEY, this._uid);\n    }\n\n    each(this._handlers, function (handler, eventName) {\n      zr.on(eventName, handler);\n    });\n    this._brushType = brushOption.brushType;\n    this._brushOption = merge(clone(DEFAULT_BRUSH_OPT), brushOption, true);\n  };\n\n  BrushController.prototype._doDisableBrush = function () {\n    var zr = this._zr;\n    interactionMutex.release(zr, MUTEX_RESOURCE_KEY, this._uid);\n    each(this._handlers, function (handler, eventName) {\n      zr.off(eventName, handler);\n    });\n    this._brushType = this._brushOption = null;\n  };\n  /**\n   * @param panelOpts If not pass, it is global brush.\n   */\n\n\n  BrushController.prototype.setPanels = function (panelOpts) {\n    if (panelOpts && panelOpts.length) {\n      var panels_1 = this._panels = {};\n      each(panelOpts, function (panelOpts) {\n        panels_1[panelOpts.panelId] = clone(panelOpts);\n      });\n    } else {\n      this._panels = null;\n    }\n\n    return this;\n  };\n\n  BrushController.prototype.mount = function (opt) {\n    opt = opt || {};\n\n    if (process.env.NODE_ENV !== 'production') {\n      this._mounted = true; // should be at first.\n    }\n\n    this._enableGlobalPan = opt.enableGlobalPan;\n    var thisGroup = this.group;\n\n    this._zr.add(thisGroup);\n\n    thisGroup.attr({\n      x: opt.x || 0,\n      y: opt.y || 0,\n      rotation: opt.rotation || 0,\n      scaleX: opt.scaleX || 1,\n      scaleY: opt.scaleY || 1\n    });\n    this._transform = thisGroup.getLocalTransform();\n    return this;\n  }; // eachCover(cb, context): void {\n  //     each(this._covers, cb, context);\n  // }\n\n  /**\n   * Update covers.\n   * @param coverConfigList\n   *        If coverConfigList is null/undefined, all covers removed.\n   */\n\n\n  BrushController.prototype.updateCovers = function (coverConfigList) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(this._mounted);\n    }\n\n    coverConfigList = map(coverConfigList, function (coverConfig) {\n      return merge(clone(DEFAULT_BRUSH_OPT), coverConfig, true);\n    });\n    var tmpIdPrefix = '\\0-brush-index-';\n    var oldCovers = this._covers;\n    var newCovers = this._covers = [];\n    var controller = this;\n    var creatingCover = this._creatingCover;\n    new DataDiffer(oldCovers, coverConfigList, oldGetKey, getKey).add(addOrUpdate).update(addOrUpdate).remove(remove).execute();\n    return this;\n\n    function getKey(brushOption, index) {\n      return (brushOption.id != null ? brushOption.id : tmpIdPrefix + index) + '-' + brushOption.brushType;\n    }\n\n    function oldGetKey(cover, index) {\n      return getKey(cover.__brushOption, index);\n    }\n\n    function addOrUpdate(newIndex, oldIndex) {\n      var newBrushInternal = coverConfigList[newIndex]; // Consider setOption in event listener of brushSelect,\n      // where updating cover when creating should be forbiden.\n\n      if (oldIndex != null && oldCovers[oldIndex] === creatingCover) {\n        newCovers[newIndex] = oldCovers[oldIndex];\n      } else {\n        var cover = newCovers[newIndex] = oldIndex != null ? (oldCovers[oldIndex].__brushOption = newBrushInternal, oldCovers[oldIndex]) : endCreating(controller, createCover(controller, newBrushInternal));\n        updateCoverAfterCreation(controller, cover);\n      }\n    }\n\n    function remove(oldIndex) {\n      if (oldCovers[oldIndex] !== creatingCover) {\n        controller.group.remove(oldCovers[oldIndex]);\n      }\n    }\n  };\n\n  BrushController.prototype.unmount = function () {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!this._mounted) {\n        return;\n      }\n    }\n\n    this.enableBrush(false); // container may 'removeAll' outside.\n\n    clearCovers(this);\n\n    this._zr.remove(this.group);\n\n    if (process.env.NODE_ENV !== 'production') {\n      this._mounted = false; // should be at last.\n    }\n\n    return this;\n  };\n\n  BrushController.prototype.dispose = function () {\n    this.unmount();\n    this.off();\n  };\n\n  return BrushController;\n}(Eventful);\n\nfunction createCover(controller, brushOption) {\n  var cover = coverRenderers[brushOption.brushType].createCover(controller, brushOption);\n  cover.__brushOption = brushOption;\n  updateZ(cover, brushOption);\n  controller.group.add(cover);\n  return cover;\n}\n\nfunction endCreating(controller, creatingCover) {\n  var coverRenderer = getCoverRenderer(creatingCover);\n\n  if (coverRenderer.endCreating) {\n    coverRenderer.endCreating(controller, creatingCover);\n    updateZ(creatingCover, creatingCover.__brushOption);\n  }\n\n  return creatingCover;\n}\n\nfunction updateCoverShape(controller, cover) {\n  var brushOption = cover.__brushOption;\n  getCoverRenderer(cover).updateCoverShape(controller, cover, brushOption.range, brushOption);\n}\n\nfunction updateZ(cover, brushOption) {\n  var z = brushOption.z;\n  z == null && (z = COVER_Z);\n  cover.traverse(function (el) {\n    el.z = z;\n    el.z2 = z; // Consider in given container.\n  });\n}\n\nfunction updateCoverAfterCreation(controller, cover) {\n  getCoverRenderer(cover).updateCommon(controller, cover);\n  updateCoverShape(controller, cover);\n}\n\nfunction getCoverRenderer(cover) {\n  return coverRenderers[cover.__brushOption.brushType];\n} // return target panel or `true` (means global panel)\n\n\nfunction getPanelByPoint(controller, e, localCursorPoint) {\n  var panels = controller._panels;\n\n  if (!panels) {\n    return BRUSH_PANEL_GLOBAL; // Global panel\n  }\n\n  var panel;\n  var transform = controller._transform;\n  each(panels, function (pn) {\n    pn.isTargetByCursor(e, localCursorPoint, transform) && (panel = pn);\n  });\n  return panel;\n} // Return a panel or true\n\n\nfunction getPanelByCover(controller, cover) {\n  var panels = controller._panels;\n\n  if (!panels) {\n    return BRUSH_PANEL_GLOBAL; // Global panel\n  }\n\n  var panelId = cover.__brushOption.panelId; // User may give cover without coord sys info,\n  // which is then treated as global panel.\n\n  return panelId != null ? panels[panelId] : BRUSH_PANEL_GLOBAL;\n}\n\nfunction clearCovers(controller) {\n  var covers = controller._covers;\n  var originalLength = covers.length;\n  each(covers, function (cover) {\n    controller.group.remove(cover);\n  }, controller);\n  covers.length = 0;\n  return !!originalLength;\n}\n\nfunction trigger(controller, opt) {\n  var areas = map(controller._covers, function (cover) {\n    var brushOption = cover.__brushOption;\n    var range = clone(brushOption.range);\n    return {\n      brushType: brushOption.brushType,\n      panelId: brushOption.panelId,\n      range: range\n    };\n  });\n  controller.trigger('brush', {\n    areas: areas,\n    isEnd: !!opt.isEnd,\n    removeOnClick: !!opt.removeOnClick\n  });\n}\n\nfunction shouldShowCover(controller) {\n  var track = controller._track;\n\n  if (!track.length) {\n    return false;\n  }\n\n  var p2 = track[track.length - 1];\n  var p1 = track[0];\n  var dx = p2[0] - p1[0];\n  var dy = p2[1] - p1[1];\n  var dist = mathPow(dx * dx + dy * dy, 0.5);\n  return dist > UNSELECT_THRESHOLD;\n}\n\nfunction getTrackEnds(track) {\n  var tail = track.length - 1;\n  tail < 0 && (tail = 0);\n  return [track[0], track[tail]];\n}\n\n;\n\nfunction createBaseRectCover(rectRangeConverter, controller, brushOption, edgeNameSequences) {\n  var cover = new graphic.Group();\n  cover.add(new graphic.Rect({\n    name: 'main',\n    style: makeStyle(brushOption),\n    silent: true,\n    draggable: true,\n    cursor: 'move',\n    drift: curry(driftRect, rectRangeConverter, controller, cover, ['n', 's', 'w', 'e']),\n    ondragend: curry(trigger, controller, {\n      isEnd: true\n    })\n  }));\n  each(edgeNameSequences, function (nameSequence) {\n    cover.add(new graphic.Rect({\n      name: nameSequence.join(''),\n      style: {\n        opacity: 0\n      },\n      draggable: true,\n      silent: true,\n      invisible: true,\n      drift: curry(driftRect, rectRangeConverter, controller, cover, nameSequence),\n      ondragend: curry(trigger, controller, {\n        isEnd: true\n      })\n    }));\n  });\n  return cover;\n}\n\nfunction updateBaseRect(controller, cover, localRange, brushOption) {\n  var lineWidth = brushOption.brushStyle.lineWidth || 0;\n  var handleSize = mathMax(lineWidth, MIN_RESIZE_LINE_WIDTH);\n  var x = localRange[0][0];\n  var y = localRange[1][0];\n  var xa = x - lineWidth / 2;\n  var ya = y - lineWidth / 2;\n  var x2 = localRange[0][1];\n  var y2 = localRange[1][1];\n  var x2a = x2 - handleSize + lineWidth / 2;\n  var y2a = y2 - handleSize + lineWidth / 2;\n  var width = x2 - x;\n  var height = y2 - y;\n  var widtha = width + lineWidth;\n  var heighta = height + lineWidth;\n  updateRectShape(controller, cover, 'main', x, y, width, height);\n\n  if (brushOption.transformable) {\n    updateRectShape(controller, cover, 'w', xa, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'e', x2a, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'n', xa, ya, widtha, handleSize);\n    updateRectShape(controller, cover, 's', xa, y2a, widtha, handleSize);\n    updateRectShape(controller, cover, 'nw', xa, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'ne', x2a, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'sw', xa, y2a, handleSize, handleSize);\n    updateRectShape(controller, cover, 'se', x2a, y2a, handleSize, handleSize);\n  }\n}\n\nfunction updateCommon(controller, cover) {\n  var brushOption = cover.__brushOption;\n  var transformable = brushOption.transformable;\n  var mainEl = cover.childAt(0);\n  mainEl.useStyle(makeStyle(brushOption));\n  mainEl.attr({\n    silent: !transformable,\n    cursor: transformable ? 'move' : 'default'\n  });\n  each([['w'], ['e'], ['n'], ['s'], ['s', 'e'], ['s', 'w'], ['n', 'e'], ['n', 'w']], function (nameSequence) {\n    var el = cover.childOfName(nameSequence.join(''));\n    var globalDir = nameSequence.length === 1 ? getGlobalDirection1(controller, nameSequence[0]) : getGlobalDirection2(controller, nameSequence);\n    el && el.attr({\n      silent: !transformable,\n      invisible: !transformable,\n      cursor: transformable ? CURSOR_MAP[globalDir] + '-resize' : null\n    });\n  });\n}\n\nfunction updateRectShape(controller, cover, name, x, y, w, h) {\n  var el = cover.childOfName(name);\n  el && el.setShape(pointsToRect(clipByPanel(controller, cover, [[x, y], [x + w, y + h]])));\n}\n\nfunction makeStyle(brushOption) {\n  return defaults({\n    strokeNoScale: true\n  }, brushOption.brushStyle);\n}\n\nfunction formatRectRange(x, y, x2, y2) {\n  var min = [mathMin(x, x2), mathMin(y, y2)];\n  var max = [mathMax(x, x2), mathMax(y, y2)];\n  return [[min[0], max[0]], [min[1], max[1]] // y range\n  ];\n}\n\nfunction getTransform(controller) {\n  return graphic.getTransform(controller.group);\n}\n\nfunction getGlobalDirection1(controller, localDirName) {\n  var map = {\n    w: 'left',\n    e: 'right',\n    n: 'top',\n    s: 'bottom'\n  };\n  var inverseMap = {\n    left: 'w',\n    right: 'e',\n    top: 'n',\n    bottom: 's'\n  };\n  var dir = graphic.transformDirection(map[localDirName], getTransform(controller));\n  return inverseMap[dir];\n}\n\nfunction getGlobalDirection2(controller, localDirNameSeq) {\n  var globalDir = [getGlobalDirection1(controller, localDirNameSeq[0]), getGlobalDirection1(controller, localDirNameSeq[1])];\n  (globalDir[0] === 'e' || globalDir[0] === 'w') && globalDir.reverse();\n  return globalDir.join('');\n}\n\nfunction driftRect(rectRangeConverter, controller, cover, dirNameSequence, dx, dy) {\n  var brushOption = cover.__brushOption;\n  var rectRange = rectRangeConverter.toRectRange(brushOption.range);\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(dirNameSequence, function (dirName) {\n    var ind = DIRECTION_MAP[dirName];\n    rectRange[ind[0]][ind[1]] += localDelta[ind[0]];\n  });\n  brushOption.range = rectRangeConverter.fromRectRange(formatRectRange(rectRange[0][0], rectRange[1][0], rectRange[0][1], rectRange[1][1]));\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\n\nfunction driftPolygon(controller, cover, dx, dy) {\n  var range = cover.__brushOption.range;\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(range, function (point) {\n    point[0] += localDelta[0];\n    point[1] += localDelta[1];\n  });\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\n\nfunction toLocalDelta(controller, dx, dy) {\n  var thisGroup = controller.group;\n  var localD = thisGroup.transformCoordToLocal(dx, dy);\n  var localZero = thisGroup.transformCoordToLocal(0, 0);\n  return [localD[0] - localZero[0], localD[1] - localZero[1]];\n}\n\nfunction clipByPanel(controller, cover, data) {\n  var panel = getPanelByCover(controller, cover);\n  return panel && panel !== BRUSH_PANEL_GLOBAL ? panel.clipPath(data, controller._transform) : clone(data);\n}\n\nfunction pointsToRect(points) {\n  var xmin = mathMin(points[0][0], points[1][0]);\n  var ymin = mathMin(points[0][1], points[1][1]);\n  var xmax = mathMax(points[0][0], points[1][0]);\n  var ymax = mathMax(points[0][1], points[1][1]);\n  return {\n    x: xmin,\n    y: ymin,\n    width: xmax - xmin,\n    height: ymax - ymin\n  };\n}\n\nfunction resetCursor(controller, e, localCursorPoint) {\n  if ( // Check active\n  !controller._brushType // resetCursor should be always called when mouse is in zr area,\n  // but not called when mouse is out of zr area to avoid bad influence\n  // if `mousemove`, `mouseup` are triggered from `document` event.\n  || isOutsideZrArea(controller, e.offsetX, e.offsetY)) {\n    return;\n  }\n\n  var zr = controller._zr;\n  var covers = controller._covers;\n  var currPanel = getPanelByPoint(controller, e, localCursorPoint); // Check whether in covers.\n\n  if (!controller._dragging) {\n    for (var i = 0; i < covers.length; i++) {\n      var brushOption = covers[i].__brushOption;\n\n      if (currPanel && (currPanel === BRUSH_PANEL_GLOBAL || brushOption.panelId === currPanel.panelId) && coverRenderers[brushOption.brushType].contain(covers[i], localCursorPoint[0], localCursorPoint[1])) {\n        // Use cursor style set on cover.\n        return;\n      }\n    }\n  }\n\n  currPanel && zr.setCursorStyle('crosshair');\n}\n\nfunction preventDefault(e) {\n  var rawE = e.event;\n  rawE.preventDefault && rawE.preventDefault();\n}\n\nfunction mainShapeContain(cover, x, y) {\n  return cover.childOfName('main').contain(x, y);\n}\n\nfunction updateCoverByMouse(controller, e, localCursorPoint, isEnd) {\n  var creatingCover = controller._creatingCover;\n  var panel = controller._creatingPanel;\n  var thisBrushOption = controller._brushOption;\n  var eventParams;\n\n  controller._track.push(localCursorPoint.slice());\n\n  if (shouldShowCover(controller) || creatingCover) {\n    if (panel && !creatingCover) {\n      thisBrushOption.brushMode === 'single' && clearCovers(controller);\n      var brushOption = clone(thisBrushOption);\n      brushOption.brushType = determineBrushType(brushOption.brushType, panel);\n      brushOption.panelId = panel === BRUSH_PANEL_GLOBAL ? null : panel.panelId;\n      creatingCover = controller._creatingCover = createCover(controller, brushOption);\n\n      controller._covers.push(creatingCover);\n    }\n\n    if (creatingCover) {\n      var coverRenderer = coverRenderers[determineBrushType(controller._brushType, panel)];\n      var coverBrushOption = creatingCover.__brushOption;\n      coverBrushOption.range = coverRenderer.getCreatingRange(clipByPanel(controller, creatingCover, controller._track));\n\n      if (isEnd) {\n        endCreating(controller, creatingCover);\n        coverRenderer.updateCommon(controller, creatingCover);\n      }\n\n      updateCoverShape(controller, creatingCover);\n      eventParams = {\n        isEnd: isEnd\n      };\n    }\n  } else if (isEnd && thisBrushOption.brushMode === 'single' && thisBrushOption.removeOnClick) {\n    // Help user to remove covers easily, only by a tiny drag, in 'single' mode.\n    // But a single click do not clear covers, because user may have casual\n    // clicks (for example, click on other component and do not expect covers\n    // disappear).\n    // Only some cover removed, trigger action, but not every click trigger action.\n    if (getPanelByPoint(controller, e, localCursorPoint) && clearCovers(controller)) {\n      eventParams = {\n        isEnd: isEnd,\n        removeOnClick: true\n      };\n    }\n  }\n\n  return eventParams;\n}\n\nfunction determineBrushType(brushType, panel) {\n  if (brushType === 'auto') {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(panel && panel.defaultBrushType, 'MUST have defaultBrushType when brushType is \"atuo\"');\n    }\n\n    return panel.defaultBrushType;\n  }\n\n  return brushType;\n}\n\nvar pointerHandlers = {\n  mousedown: function (e) {\n    if (this._dragging) {\n      // In case some browser do not support globalOut,\n      // and release mouse out side the browser.\n      handleDragEnd(this, e);\n    } else if (!e.target || !e.target.draggable) {\n      preventDefault(e);\n      var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n      this._creatingCover = null;\n      var panel = this._creatingPanel = getPanelByPoint(this, e, localCursorPoint);\n\n      if (panel) {\n        this._dragging = true;\n        this._track = [localCursorPoint.slice()];\n      }\n    }\n  },\n  mousemove: function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var localCursorPoint = this.group.transformCoordToLocal(x, y);\n    resetCursor(this, e, localCursorPoint);\n\n    if (this._dragging) {\n      preventDefault(e);\n      var eventParams = updateCoverByMouse(this, e, localCursorPoint, false);\n      eventParams && trigger(this, eventParams);\n    }\n  },\n  mouseup: function (e) {\n    handleDragEnd(this, e);\n  }\n};\n\nfunction handleDragEnd(controller, e) {\n  if (controller._dragging) {\n    preventDefault(e);\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var localCursorPoint = controller.group.transformCoordToLocal(x, y);\n    var eventParams = updateCoverByMouse(controller, e, localCursorPoint, true);\n    controller._dragging = false;\n    controller._track = [];\n    controller._creatingCover = null; // trigger event shoule be at final, after procedure will be nested.\n\n    eventParams && trigger(controller, eventParams);\n  }\n}\n\nfunction isOutsideZrArea(controller, x, y) {\n  var zr = controller._zr;\n  return x < 0 || x > zr.getWidth() || y < 0 || y > zr.getHeight();\n}\n/**\n * key: brushType\n */\n\n\nvar coverRenderers = {\n  lineX: getLineRenderer(0),\n  lineY: getLineRenderer(1),\n  rect: {\n    createCover: function (controller, brushOption) {\n      function returnInput(range) {\n        return range;\n      }\n\n      return createBaseRectCover({\n        toRectRange: returnInput,\n        fromRectRange: returnInput\n      }, controller, brushOption, [['w'], ['e'], ['n'], ['s'], ['s', 'e'], ['s', 'w'], ['n', 'e'], ['n', 'w']]);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      return formatRectRange(ends[1][0], ends[1][1], ends[0][0], ends[0][1]);\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      updateBaseRect(controller, cover, localRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  },\n  polygon: {\n    createCover: function (controller, brushOption) {\n      var cover = new graphic.Group(); // Do not use graphic.Polygon because graphic.Polyline do not close the\n      // border of the shape when drawing, which is a better experience for user.\n\n      cover.add(new graphic.Polyline({\n        name: 'main',\n        style: makeStyle(brushOption),\n        silent: true\n      }));\n      return cover;\n    },\n    getCreatingRange: function (localTrack) {\n      return localTrack;\n    },\n    endCreating: function (controller, cover) {\n      cover.remove(cover.childAt(0)); // Use graphic.Polygon close the shape.\n\n      cover.add(new graphic.Polygon({\n        name: 'main',\n        draggable: true,\n        drift: curry(driftPolygon, controller, cover),\n        ondragend: curry(trigger, controller, {\n          isEnd: true\n        })\n      }));\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      cover.childAt(0).setShape({\n        points: clipByPanel(controller, cover, localRange)\n      });\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  }\n};\n\nfunction getLineRenderer(xyIndex) {\n  return {\n    createCover: function (controller, brushOption) {\n      return createBaseRectCover({\n        toRectRange: function (range) {\n          var rectRange = [range, [0, 100]];\n          xyIndex && rectRange.reverse();\n          return rectRange;\n        },\n        fromRectRange: function (rectRange) {\n          return rectRange[xyIndex];\n        }\n      }, controller, brushOption, [[['w'], ['e']], [['n'], ['s']]][xyIndex]);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      var min = mathMin(ends[0][xyIndex], ends[1][xyIndex]);\n      var max = mathMax(ends[0][xyIndex], ends[1][xyIndex]);\n      return [min, max];\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      var otherExtent; // If brushWidth not specified, fit the panel.\n\n      var panel = getPanelByCover(controller, cover);\n\n      if (panel !== BRUSH_PANEL_GLOBAL && panel.getLinearBrushOtherExtent) {\n        otherExtent = panel.getLinearBrushOtherExtent(xyIndex);\n      } else {\n        var zr = controller._zr;\n        otherExtent = [0, [zr.getWidth(), zr.getHeight()][1 - xyIndex]];\n      }\n\n      var rectRange = [localRange, otherExtent];\n      xyIndex && rectRange.reverse();\n      updateBaseRect(controller, cover, rectRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  };\n}\n\nexport default BrushController;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { onIrrelevantElement } from './cursorHelper.js';\nimport * as graphicUtil from '../../util/graphic.js';\nexport function makeRectPanelClipPath(rect) {\n  rect = normalizeRect(rect);\n  return function (localPoints) {\n    return graphicUtil.clipPointsByRect(localPoints, rect);\n  };\n}\nexport function makeLinearBrushOtherExtent(rect, specifiedXYIndex) {\n  rect = normalizeRect(rect);\n  return function (xyIndex) {\n    var idx = specifiedXYIndex != null ? specifiedXYIndex : xyIndex;\n    var brushWidth = idx ? rect.width : rect.height;\n    var base = idx ? rect.x : rect.y;\n    return [base, base + (brushWidth || 0)];\n  };\n}\nexport function makeRectIsTargetByCursor(rect, api, targetModel) {\n  var boundingRect = normalizeRect(rect);\n  return function (e, localCursorPoint) {\n    return boundingRect.contain(localCursorPoint[0], localCursorPoint[1]) && !onIrrelevantElement(e, api, targetModel);\n  };\n} // Consider width/height is negative.\n\nfunction normalizeRect(rect) {\n  return BoundingRect.create(rect);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport createSeriesDataSimply from './createSeriesDataSimply.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getDimensionTypeByAxis } from '../../data/helper/dimensionHelper.js';\nimport { makeSeriesEncodeForAxisCoordSys } from '../../data/helper/sourceHelper.js';\n\nvar WhiskerBoxCommonMixin =\n/** @class */\nfunction () {\n  function WhiskerBoxCommonMixin() {}\n  /**\n   * @override\n   */\n\n\n  WhiskerBoxCommonMixin.prototype.getInitialData = function (option, ecModel) {\n    // When both types of xAxis and yAxis are 'value', layout is\n    // needed to be specified by user. Otherwise, layout can be\n    // judged by which axis is category.\n    var ordinalMeta;\n    var xAxisModel = ecModel.getComponent('xAxis', this.get('xAxisIndex'));\n    var yAxisModel = ecModel.getComponent('yAxis', this.get('yAxisIndex'));\n    var xAxisType = xAxisModel.get('type');\n    var yAxisType = yAxisModel.get('type');\n    var addOrdinal; // FIXME\n    // Consider time axis.\n\n    if (xAxisType === 'category') {\n      option.layout = 'horizontal';\n      ordinalMeta = xAxisModel.getOrdinalMeta();\n      addOrdinal = true;\n    } else if (yAxisType === 'category') {\n      option.layout = 'vertical';\n      ordinalMeta = yAxisModel.getOrdinalMeta();\n      addOrdinal = true;\n    } else {\n      option.layout = option.layout || 'horizontal';\n    }\n\n    var coordDims = ['x', 'y'];\n    var baseAxisDimIndex = option.layout === 'horizontal' ? 0 : 1;\n    var baseAxisDim = this._baseAxisDim = coordDims[baseAxisDimIndex];\n    var otherAxisDim = coordDims[1 - baseAxisDimIndex];\n    var axisModels = [xAxisModel, yAxisModel];\n    var baseAxisType = axisModels[baseAxisDimIndex].get('type');\n    var otherAxisType = axisModels[1 - baseAxisDimIndex].get('type');\n    var data = option.data; // Clone a new data for next setOption({}) usage.\n    // Avoid modifying current data will affect further update.\n\n    if (data && addOrdinal) {\n      var newOptionData_1 = [];\n      zrUtil.each(data, function (item, index) {\n        var newItem;\n\n        if (zrUtil.isArray(item)) {\n          newItem = item.slice(); // Modify current using data.\n\n          item.unshift(index);\n        } else if (zrUtil.isArray(item.value)) {\n          newItem = zrUtil.extend({}, item);\n          newItem.value = newItem.value.slice(); // Modify current using data.\n\n          item.value.unshift(index);\n        } else {\n          newItem = item;\n        }\n\n        newOptionData_1.push(newItem);\n      });\n      option.data = newOptionData_1;\n    }\n\n    var defaultValueDimensions = this.defaultValueDimensions;\n    var coordDimensions = [{\n      name: baseAxisDim,\n      type: getDimensionTypeByAxis(baseAxisType),\n      ordinalMeta: ordinalMeta,\n      otherDims: {\n        tooltip: false,\n        itemName: 0\n      },\n      dimsDef: ['base']\n    }, {\n      name: otherAxisDim,\n      type: getDimensionTypeByAxis(otherAxisType),\n      dimsDef: defaultValueDimensions.slice()\n    }];\n    return createSeriesDataSimply(this, {\n      coordDimensions: coordDimensions,\n      dimensionsCount: defaultValueDimensions.length + 1,\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForAxisCoordSys, coordDimensions, this)\n    });\n  };\n  /**\n   * If horizontal, base axis is x, otherwise y.\n   * @override\n   */\n\n\n  WhiskerBoxCommonMixin.prototype.getBaseAxis = function () {\n    var dim = this._baseAxisDim;\n    return this.ecModel.getComponent(dim + 'Axis', this.get(dim + 'AxisIndex')).axis;\n  };\n\n  return WhiskerBoxCommonMixin;\n}();\n\n;\nexport { WhiskerBoxCommonMixin };","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ChartView from '../../view/Chart.js';\nimport * as graphic from '../../util/graphic.js';\nimport { setStatesStylesFromModel } from '../../util/states.js';\nimport Path from 'zrender/lib/graphic/Path.js';\nimport { createClipPath } from '../helper/createClipPathFromCoordSys.js';\nimport { saveOldStyle } from '../../animation/basicTrasition.js';\nvar SKIP_PROPS = ['color', 'borderColor'];\n\nvar CandlestickView =\n/** @class */\nfunction (_super) {\n  __extends(CandlestickView, _super);\n\n  function CandlestickView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = CandlestickView.type;\n    return _this;\n  }\n\n  CandlestickView.prototype.render = function (seriesModel, ecModel, api) {\n    // If there is clipPath created in large mode. Remove it.\n    this.group.removeClipPath(); // Clear previously rendered progressive elements.\n\n    this._progressiveEls = null;\n\n    this._updateDrawMode(seriesModel);\n\n    this._isLargeDraw ? this._renderLarge(seriesModel) : this._renderNormal(seriesModel);\n  };\n\n  CandlestickView.prototype.incrementalPrepareRender = function (seriesModel, ecModel, api) {\n    this._clear();\n\n    this._updateDrawMode(seriesModel);\n  };\n\n  CandlestickView.prototype.incrementalRender = function (params, seriesModel, ecModel, api) {\n    this._progressiveEls = [];\n    this._isLargeDraw ? this._incrementalRenderLarge(params, seriesModel) : this._incrementalRenderNormal(params, seriesModel);\n  };\n\n  CandlestickView.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n\n  CandlestickView.prototype._updateDrawMode = function (seriesModel) {\n    var isLargeDraw = seriesModel.pipelineContext.large;\n\n    if (this._isLargeDraw == null || isLargeDraw !== this._isLargeDraw) {\n      this._isLargeDraw = isLargeDraw;\n\n      this._clear();\n    }\n  };\n\n  CandlestickView.prototype._renderNormal = function (seriesModel) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var isSimpleBox = data.getLayout('isSimpleBox');\n    var needsClip = seriesModel.get('clip', true);\n    var coord = seriesModel.coordinateSystem;\n    var clipArea = coord.getArea && coord.getArea(); // There is no old data only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n\n    if (!this._data) {\n      group.removeAll();\n    }\n\n    data.diff(oldData).add(function (newIdx) {\n      if (data.hasValue(newIdx)) {\n        var itemLayout = data.getItemLayout(newIdx);\n\n        if (needsClip && isNormalBoxClipped(clipArea, itemLayout)) {\n          return;\n        }\n\n        var el = createNormalBox(itemLayout, newIdx, true);\n        graphic.initProps(el, {\n          shape: {\n            points: itemLayout.ends\n          }\n        }, seriesModel, newIdx);\n        setBoxCommon(el, data, newIdx, isSimpleBox);\n        group.add(el);\n        data.setItemGraphicEl(newIdx, el);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx); // Empty data\n\n      if (!data.hasValue(newIdx)) {\n        group.remove(el);\n        return;\n      }\n\n      var itemLayout = data.getItemLayout(newIdx);\n\n      if (needsClip && isNormalBoxClipped(clipArea, itemLayout)) {\n        group.remove(el);\n        return;\n      }\n\n      if (!el) {\n        el = createNormalBox(itemLayout, newIdx);\n      } else {\n        graphic.updateProps(el, {\n          shape: {\n            points: itemLayout.ends\n          }\n        }, seriesModel, newIdx);\n        saveOldStyle(el);\n      }\n\n      setBoxCommon(el, data, newIdx, isSimpleBox);\n      group.add(el);\n      data.setItemGraphicEl(newIdx, el);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && group.remove(el);\n    }).execute();\n    this._data = data;\n  };\n\n  CandlestickView.prototype._renderLarge = function (seriesModel) {\n    this._clear();\n\n    createLarge(seriesModel, this.group);\n    var clipPath = seriesModel.get('clip', true) ? createClipPath(seriesModel.coordinateSystem, false, seriesModel) : null;\n\n    if (clipPath) {\n      this.group.setClipPath(clipPath);\n    } else {\n      this.group.removeClipPath();\n    }\n  };\n\n  CandlestickView.prototype._incrementalRenderNormal = function (params, seriesModel) {\n    var data = seriesModel.getData();\n    var isSimpleBox = data.getLayout('isSimpleBox');\n    var dataIndex;\n\n    while ((dataIndex = params.next()) != null) {\n      var itemLayout = data.getItemLayout(dataIndex);\n      var el = createNormalBox(itemLayout, dataIndex);\n      setBoxCommon(el, data, dataIndex, isSimpleBox);\n      el.incremental = true;\n      this.group.add(el);\n\n      this._progressiveEls.push(el);\n    }\n  };\n\n  CandlestickView.prototype._incrementalRenderLarge = function (params, seriesModel) {\n    createLarge(seriesModel, this.group, this._progressiveEls, true);\n  };\n\n  CandlestickView.prototype.remove = function (ecModel) {\n    this._clear();\n  };\n\n  CandlestickView.prototype._clear = function () {\n    this.group.removeAll();\n    this._data = null;\n  };\n\n  CandlestickView.type = 'candlestick';\n  return CandlestickView;\n}(ChartView);\n\nvar NormalBoxPathShape =\n/** @class */\nfunction () {\n  function NormalBoxPathShape() {}\n\n  return NormalBoxPathShape;\n}();\n\nvar NormalBoxPath =\n/** @class */\nfunction (_super) {\n  __extends(NormalBoxPath, _super);\n\n  function NormalBoxPath(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'normalCandlestickBox';\n    return _this;\n  }\n\n  NormalBoxPath.prototype.getDefaultShape = function () {\n    return new NormalBoxPathShape();\n  };\n\n  NormalBoxPath.prototype.buildPath = function (ctx, shape) {\n    var ends = shape.points;\n\n    if (this.__simpleBox) {\n      ctx.moveTo(ends[4][0], ends[4][1]);\n      ctx.lineTo(ends[6][0], ends[6][1]);\n    } else {\n      ctx.moveTo(ends[0][0], ends[0][1]);\n      ctx.lineTo(ends[1][0], ends[1][1]);\n      ctx.lineTo(ends[2][0], ends[2][1]);\n      ctx.lineTo(ends[3][0], ends[3][1]);\n      ctx.closePath();\n      ctx.moveTo(ends[4][0], ends[4][1]);\n      ctx.lineTo(ends[5][0], ends[5][1]);\n      ctx.moveTo(ends[6][0], ends[6][1]);\n      ctx.lineTo(ends[7][0], ends[7][1]);\n    }\n  };\n\n  return NormalBoxPath;\n}(Path);\n\nfunction createNormalBox(itemLayout, dataIndex, isInit) {\n  var ends = itemLayout.ends;\n  return new NormalBoxPath({\n    shape: {\n      points: isInit ? transInit(ends, itemLayout) : ends\n    },\n    z2: 100\n  });\n}\n\nfunction isNormalBoxClipped(clipArea, itemLayout) {\n  var clipped = true;\n\n  for (var i = 0; i < itemLayout.ends.length; i++) {\n    // If any point are in the region.\n    if (clipArea.contain(itemLayout.ends[i][0], itemLayout.ends[i][1])) {\n      clipped = false;\n      break;\n    }\n  }\n\n  return clipped;\n}\n\nfunction setBoxCommon(el, data, dataIndex, isSimpleBox) {\n  var itemModel = data.getItemModel(dataIndex);\n  el.useStyle(data.getItemVisual(dataIndex, 'style'));\n  el.style.strokeNoScale = true;\n  el.__simpleBox = isSimpleBox;\n  setStatesStylesFromModel(el, itemModel);\n}\n\nfunction transInit(points, itemLayout) {\n  return zrUtil.map(points, function (point) {\n    point = point.slice();\n    point[1] = itemLayout.initBaseline;\n    return point;\n  });\n}\n\nvar LargeBoxPathShape =\n/** @class */\nfunction () {\n  function LargeBoxPathShape() {}\n\n  return LargeBoxPathShape;\n}();\n\nvar LargeBoxPath =\n/** @class */\nfunction (_super) {\n  __extends(LargeBoxPath, _super);\n\n  function LargeBoxPath(opts) {\n    var _this = _super.call(this, opts) || this;\n\n    _this.type = 'largeCandlestickBox';\n    return _this;\n  }\n\n  LargeBoxPath.prototype.getDefaultShape = function () {\n    return new LargeBoxPathShape();\n  };\n\n  LargeBoxPath.prototype.buildPath = function (ctx, shape) {\n    // Drawing lines is more efficient than drawing\n    // a whole line or drawing rects.\n    var points = shape.points;\n\n    for (var i = 0; i < points.length;) {\n      if (this.__sign === points[i++]) {\n        var x = points[i++];\n        ctx.moveTo(x, points[i++]);\n        ctx.lineTo(x, points[i++]);\n      } else {\n        i += 3;\n      }\n    }\n  };\n\n  return LargeBoxPath;\n}(Path);\n\nfunction createLarge(seriesModel, group, progressiveEls, incremental) {\n  var data = seriesModel.getData();\n  var largePoints = data.getLayout('largePoints');\n  var elP = new LargeBoxPath({\n    shape: {\n      points: largePoints\n    },\n    __sign: 1\n  });\n  group.add(elP);\n  var elN = new LargeBoxPath({\n    shape: {\n      points: largePoints\n    },\n    __sign: -1\n  });\n  group.add(elN);\n  setLargeStyle(1, elP, seriesModel, data);\n  setLargeStyle(-1, elN, seriesModel, data);\n\n  if (incremental) {\n    elP.incremental = true;\n    elN.incremental = true;\n  }\n\n  if (progressiveEls) {\n    progressiveEls.push(elP, elN);\n  }\n}\n\nfunction setLargeStyle(sign, el, seriesModel, data) {\n  // TODO put in visual?\n  var borderColor = seriesModel.get(['itemStyle', sign > 0 ? 'borderColor' : 'borderColor0']) || seriesModel.get(['itemStyle', sign > 0 ? 'color' : 'color0']); // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n\n  var itemStyle = seriesModel.getModel('itemStyle').getItemStyle(SKIP_PROPS);\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor;\n}\n\nexport default CandlestickView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesModel from '../../model/Series.js';\nimport { WhiskerBoxCommonMixin } from '../helper/whiskerBoxCommon.js';\nimport { mixin } from 'zrender/lib/core/util.js';\n\nvar CandlestickSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(CandlestickSeriesModel, _super);\n\n  function CandlestickSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = CandlestickSeriesModel.type;\n    _this.defaultValueDimensions = [{\n      name: 'open',\n      defaultTooltip: true\n    }, {\n      name: 'close',\n      defaultTooltip: true\n    }, {\n      name: 'lowest',\n      defaultTooltip: true\n    }, {\n      name: 'highest',\n      defaultTooltip: true\n    }];\n    return _this;\n  }\n  /**\n   * Get dimension for shadow in dataZoom\n   * @return dimension name\n   */\n\n\n  CandlestickSeriesModel.prototype.getShadowDim = function () {\n    return 'open';\n  };\n\n  CandlestickSeriesModel.prototype.brushSelector = function (dataIndex, data, selectors) {\n    var itemLayout = data.getItemLayout(dataIndex);\n    return itemLayout && selectors.rect(itemLayout.brushRect);\n  };\n\n  CandlestickSeriesModel.type = 'series.candlestick';\n  CandlestickSeriesModel.dependencies = ['xAxis', 'yAxis', 'grid'];\n  CandlestickSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    layout: null,\n    clip: true,\n    itemStyle: {\n      color: '#eb5454',\n      color0: '#47b262',\n      borderColor: '#eb5454',\n      borderColor0: '#47b262',\n      // borderColor: '#d24040',\n      // borderColor0: '#398f4f',\n      borderWidth: 1\n    },\n    emphasis: {\n      scale: true,\n      itemStyle: {\n        borderWidth: 2\n      }\n    },\n    barMaxWidth: null,\n    barMinWidth: null,\n    barWidth: null,\n    large: true,\n    largeThreshold: 600,\n    progressive: 3e3,\n    progressiveThreshold: 1e4,\n    progressiveChunkMode: 'mod',\n    animationEasing: 'linear',\n    animationDuration: 300\n  };\n  return CandlestickSeriesModel;\n}(SeriesModel);\n\nmixin(CandlestickSeriesModel, WhiskerBoxCommonMixin, true);\nexport default CandlestickSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function candlestickPreprocessor(option) {\n  if (!option || !zrUtil.isArray(option.series)) {\n    return;\n  } // Translate 'k' to 'candlestick'.\n\n\n  zrUtil.each(option.series, function (seriesItem) {\n    if (zrUtil.isObject(seriesItem) && seriesItem.type === 'k') {\n      seriesItem.type = 'candlestick';\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport createRenderPlanner from '../helper/createRenderPlanner.js';\nimport { extend } from 'zrender/lib/core/util.js';\nvar positiveBorderColorQuery = ['itemStyle', 'borderColor'];\nvar negativeBorderColorQuery = ['itemStyle', 'borderColor0'];\nvar positiveColorQuery = ['itemStyle', 'color'];\nvar negativeColorQuery = ['itemStyle', 'color0'];\nvar candlestickVisual = {\n  seriesType: 'candlestick',\n  plan: createRenderPlanner(),\n  // For legend.\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    function getColor(sign, model) {\n      return model.get(sign > 0 ? positiveColorQuery : negativeColorQuery);\n    }\n\n    function getBorderColor(sign, model) {\n      return model.get(sign > 0 ? positiveBorderColorQuery : negativeBorderColorQuery);\n    } // Only visible series has each data be visual encoded\n\n\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n\n    var isLargeRender = seriesModel.pipelineContext.large;\n    return !isLargeRender && {\n      progress: function (params, data) {\n        var dataIndex;\n\n        while ((dataIndex = params.next()) != null) {\n          var itemModel = data.getItemModel(dataIndex);\n          var sign = data.getItemLayout(dataIndex).sign;\n          var style = itemModel.getItemStyle();\n          style.fill = getColor(sign, itemModel);\n          style.stroke = getBorderColor(sign, itemModel) || style.fill;\n          var existsStyle = data.ensureUniqueItemVisual(dataIndex, 'style');\n          extend(existsStyle, style);\n        }\n      }\n    };\n  }\n};\nexport default candlestickVisual;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { subPixelOptimize } from '../../util/graphic.js';\nimport createRenderPlanner from '../helper/createRenderPlanner.js';\nimport { parsePercent } from '../../util/number.js';\nimport { map, retrieve2 } from 'zrender/lib/core/util.js';\nimport { createFloat32Array } from '../../util/vendor.js';\nvar candlestickLayout = {\n  seriesType: 'candlestick',\n  plan: createRenderPlanner(),\n  reset: function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var data = seriesModel.getData();\n    var candleWidth = calculateCandleWidth(seriesModel, data);\n    var cDimIdx = 0;\n    var vDimIdx = 1;\n    var coordDims = ['x', 'y'];\n    var cDimI = data.getDimensionIndex(data.mapDimension(coordDims[cDimIdx]));\n    var vDimsI = map(data.mapDimensionsAll(coordDims[vDimIdx]), data.getDimensionIndex, data);\n    var openDimI = vDimsI[0];\n    var closeDimI = vDimsI[1];\n    var lowestDimI = vDimsI[2];\n    var highestDimI = vDimsI[3];\n    data.setLayout({\n      candleWidth: candleWidth,\n      // The value is experimented visually.\n      isSimpleBox: candleWidth <= 1.3\n    });\n\n    if (cDimI < 0 || vDimsI.length < 4) {\n      return;\n    }\n\n    return {\n      progress: seriesModel.pipelineContext.large ? largeProgress : normalProgress\n    };\n\n    function normalProgress(params, data) {\n      var dataIndex;\n      var store = data.getStore();\n\n      while ((dataIndex = params.next()) != null) {\n        var axisDimVal = store.get(cDimI, dataIndex);\n        var openVal = store.get(openDimI, dataIndex);\n        var closeVal = store.get(closeDimI, dataIndex);\n        var lowestVal = store.get(lowestDimI, dataIndex);\n        var highestVal = store.get(highestDimI, dataIndex);\n        var ocLow = Math.min(openVal, closeVal);\n        var ocHigh = Math.max(openVal, closeVal);\n        var ocLowPoint = getPoint(ocLow, axisDimVal);\n        var ocHighPoint = getPoint(ocHigh, axisDimVal);\n        var lowestPoint = getPoint(lowestVal, axisDimVal);\n        var highestPoint = getPoint(highestVal, axisDimVal);\n        var ends = [];\n        addBodyEnd(ends, ocHighPoint, 0);\n        addBodyEnd(ends, ocLowPoint, 1);\n        ends.push(subPixelOptimizePoint(highestPoint), subPixelOptimizePoint(ocHighPoint), subPixelOptimizePoint(lowestPoint), subPixelOptimizePoint(ocLowPoint));\n        data.setItemLayout(dataIndex, {\n          sign: getSign(store, dataIndex, openVal, closeVal, closeDimI),\n          initBaseline: openVal > closeVal ? ocHighPoint[vDimIdx] : ocLowPoint[vDimIdx],\n          ends: ends,\n          brushRect: makeBrushRect(lowestVal, highestVal, axisDimVal)\n        });\n      }\n\n      function getPoint(val, axisDimVal) {\n        var p = [];\n        p[cDimIdx] = axisDimVal;\n        p[vDimIdx] = val;\n        return isNaN(axisDimVal) || isNaN(val) ? [NaN, NaN] : coordSys.dataToPoint(p);\n      }\n\n      function addBodyEnd(ends, point, start) {\n        var point1 = point.slice();\n        var point2 = point.slice();\n        point1[cDimIdx] = subPixelOptimize(point1[cDimIdx] + candleWidth / 2, 1, false);\n        point2[cDimIdx] = subPixelOptimize(point2[cDimIdx] - candleWidth / 2, 1, true);\n        start ? ends.push(point1, point2) : ends.push(point2, point1);\n      }\n\n      function makeBrushRect(lowestVal, highestVal, axisDimVal) {\n        var pmin = getPoint(lowestVal, axisDimVal);\n        var pmax = getPoint(highestVal, axisDimVal);\n        pmin[cDimIdx] -= candleWidth / 2;\n        pmax[cDimIdx] -= candleWidth / 2;\n        return {\n          x: pmin[0],\n          y: pmin[1],\n          width: vDimIdx ? candleWidth : pmax[0] - pmin[0],\n          height: vDimIdx ? pmax[1] - pmin[1] : candleWidth\n        };\n      }\n\n      function subPixelOptimizePoint(point) {\n        point[cDimIdx] = subPixelOptimize(point[cDimIdx], 1);\n        return point;\n      }\n    }\n\n    function largeProgress(params, data) {\n      // Structure: [sign, x, yhigh, ylow, sign, x, yhigh, ylow, ...]\n      var points = createFloat32Array(params.count * 4);\n      var offset = 0;\n      var point;\n      var tmpIn = [];\n      var tmpOut = [];\n      var dataIndex;\n      var store = data.getStore();\n\n      while ((dataIndex = params.next()) != null) {\n        var axisDimVal = store.get(cDimI, dataIndex);\n        var openVal = store.get(openDimI, dataIndex);\n        var closeVal = store.get(closeDimI, dataIndex);\n        var lowestVal = store.get(lowestDimI, dataIndex);\n        var highestVal = store.get(highestDimI, dataIndex);\n\n        if (isNaN(axisDimVal) || isNaN(lowestVal) || isNaN(highestVal)) {\n          points[offset++] = NaN;\n          offset += 3;\n          continue;\n        }\n\n        points[offset++] = getSign(store, dataIndex, openVal, closeVal, closeDimI);\n        tmpIn[cDimIdx] = axisDimVal;\n        tmpIn[vDimIdx] = lowestVal;\n        point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n        points[offset++] = point ? point[0] : NaN;\n        points[offset++] = point ? point[1] : NaN;\n        tmpIn[vDimIdx] = highestVal;\n        point = coordSys.dataToPoint(tmpIn, null, tmpOut);\n        points[offset++] = point ? point[1] : NaN;\n      }\n\n      data.setLayout('largePoints', points);\n    }\n  }\n};\n\nfunction getSign(store, dataIndex, openVal, closeVal, closeDimI) {\n  var sign;\n\n  if (openVal > closeVal) {\n    sign = -1;\n  } else if (openVal < closeVal) {\n    sign = 1;\n  } else {\n    sign = dataIndex > 0 // If close === open, compare with close of last record\n    ? store.get(closeDimI, dataIndex - 1) <= closeVal ? 1 : -1 : // No record of previous, set to be positive\n    1;\n  }\n\n  return sign;\n}\n\nfunction calculateCandleWidth(seriesModel, data) {\n  var baseAxis = seriesModel.getBaseAxis();\n  var extent;\n  var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : (extent = baseAxis.getExtent(), Math.abs(extent[1] - extent[0]) / data.count());\n  var barMaxWidth = parsePercent(retrieve2(seriesModel.get('barMaxWidth'), bandWidth), bandWidth);\n  var barMinWidth = parsePercent(retrieve2(seriesModel.get('barMinWidth'), 1), bandWidth);\n  var barWidth = seriesModel.get('barWidth');\n  return barWidth != null ? parsePercent(barWidth, bandWidth) // Put max outer to ensure bar visible in spite of overlap.\n  : Math.max(Math.min(bandWidth / 2, barMaxWidth), barMinWidth);\n}\n\nexport default candlestickLayout;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CandlestickView from './CandlestickView.js';\nimport CandlestickSeriesModel from './CandlestickSeries.js';\nimport preprocessor from './preprocessor.js';\nimport candlestickVisual from './candlestickVisual.js';\nimport candlestickLayout from './candlestickLayout.js';\nexport function install(registers) {\n  registers.registerChartView(CandlestickView);\n  registers.registerSeriesModel(CandlestickSeriesModel);\n  registers.registerPreprocessor(preprocessor);\n  registers.registerVisual(candlestickVisual);\n  registers.registerLayout(candlestickLayout);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport ComponentModel from '../../model/Component.js';\nimport { getLayoutParams, sizeCalculable, mergeLayoutParam } from '../../util/layout.js';\n\nvar CalendarModel =\n/** @class */\nfunction (_super) {\n  __extends(CalendarModel, _super);\n\n  function CalendarModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = CalendarModel.type;\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  CalendarModel.prototype.init = function (option, parentModel, ecModel) {\n    var inputPositionParams = getLayoutParams(option);\n\n    _super.prototype.init.apply(this, arguments);\n\n    mergeAndNormalizeLayoutParams(option, inputPositionParams);\n  };\n  /**\n   * @override\n   */\n\n\n  CalendarModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n\n    mergeAndNormalizeLayoutParams(this.option, option);\n  };\n\n  CalendarModel.prototype.getCellSize = function () {\n    // Has been normalized\n    return this.option.cellSize;\n  };\n\n  CalendarModel.type = 'calendar';\n  CalendarModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    left: 80,\n    top: 60,\n    cellSize: 20,\n    // horizontal vertical\n    orient: 'horizontal',\n    // month separate line style\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: '#000',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    // rect style  temporarily unused emphasis\n    itemStyle: {\n      color: '#fff',\n      borderWidth: 1,\n      borderColor: '#ccc'\n    },\n    // week text style\n    dayLabel: {\n      show: true,\n      firstDay: 0,\n      // start end\n      position: 'start',\n      margin: '50%',\n      color: '#000'\n    },\n    // month text style\n    monthLabel: {\n      show: true,\n      // start end\n      position: 'start',\n      margin: 5,\n      // center or left\n      align: 'center',\n      formatter: null,\n      color: '#000'\n    },\n    // year text style\n    yearLabel: {\n      show: true,\n      // top bottom left right\n      position: null,\n      margin: 30,\n      formatter: null,\n      color: '#ccc',\n      fontFamily: 'sans-serif',\n      fontWeight: 'bolder',\n      fontSize: 20\n    }\n  };\n  return CalendarModel;\n}(ComponentModel);\n\nfunction mergeAndNormalizeLayoutParams(target, raw) {\n  // Normalize cellSize\n  var cellSize = target.cellSize;\n  var cellSizeArr;\n\n  if (!zrUtil.isArray(cellSize)) {\n    cellSizeArr = target.cellSize = [cellSize, cellSize];\n  } else {\n    cellSizeArr = cellSize;\n  }\n\n  if (cellSizeArr.length === 1) {\n    cellSizeArr[1] = cellSizeArr[0];\n  }\n\n  var ignoreSize = zrUtil.map([0, 1], function (hvIdx) {\n    // If user have set `width` or both `left` and `right`, cellSizeArr\n    // will be automatically set to 'auto', otherwise the default\n    // setting of cellSizeArr will make `width` setting not work.\n    if (sizeCalculable(raw, hvIdx)) {\n      cellSizeArr[hvIdx] = 'auto';\n    }\n\n    return cellSizeArr[hvIdx] != null && cellSizeArr[hvIdx] !== 'auto';\n  });\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: ignoreSize\n  });\n}\n\nexport default CalendarModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { isString, extend, map, isFunction } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport { formatTplSimple } from '../../util/format.js';\nimport { parsePercent } from '../../util/number.js';\nimport ComponentView from '../../view/Component.js';\nimport { getLocaleModel } from '../../core/locale.js';\n\nvar CalendarView =\n/** @class */\nfunction (_super) {\n  __extends(CalendarView, _super);\n\n  function CalendarView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = CalendarView.type;\n    return _this;\n  }\n\n  CalendarView.prototype.render = function (calendarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n    var coordSys = calendarModel.coordinateSystem; // range info\n\n    var rangeData = coordSys.getRangeInfo();\n    var orient = coordSys.getOrient(); // locale\n\n    var localeModel = ecModel.getLocaleModel();\n\n    this._renderDayRect(calendarModel, rangeData, group); // _renderLines must be called prior to following function\n\n\n    this._renderLines(calendarModel, rangeData, orient, group);\n\n    this._renderYearText(calendarModel, rangeData, orient, group);\n\n    this._renderMonthText(calendarModel, localeModel, orient, group);\n\n    this._renderWeekText(calendarModel, localeModel, rangeData, orient, group);\n  }; // render day rect\n\n\n  CalendarView.prototype._renderDayRect = function (calendarModel, rangeData, group) {\n    var coordSys = calendarModel.coordinateSystem;\n    var itemRectStyleModel = calendarModel.getModel('itemStyle').getItemStyle();\n    var sw = coordSys.getCellWidth();\n    var sh = coordSys.getCellHeight();\n\n    for (var i = rangeData.start.time; i <= rangeData.end.time; i = coordSys.getNextNDay(i, 1).time) {\n      var point = coordSys.dataToRect([i], false).tl; // every rect\n\n      var rect = new graphic.Rect({\n        shape: {\n          x: point[0],\n          y: point[1],\n          width: sw,\n          height: sh\n        },\n        cursor: 'default',\n        style: itemRectStyleModel\n      });\n      group.add(rect);\n    }\n  }; // render separate line\n\n\n  CalendarView.prototype._renderLines = function (calendarModel, rangeData, orient, group) {\n    var self = this;\n    var coordSys = calendarModel.coordinateSystem;\n    var lineStyleModel = calendarModel.getModel(['splitLine', 'lineStyle']).getLineStyle();\n    var show = calendarModel.get(['splitLine', 'show']);\n    var lineWidth = lineStyleModel.lineWidth;\n    this._tlpoints = [];\n    this._blpoints = [];\n    this._firstDayOfMonth = [];\n    this._firstDayPoints = [];\n    var firstDay = rangeData.start;\n\n    for (var i = 0; firstDay.time <= rangeData.end.time; i++) {\n      addPoints(firstDay.formatedDate);\n\n      if (i === 0) {\n        firstDay = coordSys.getDateInfo(rangeData.start.y + '-' + rangeData.start.m);\n      }\n\n      var date = firstDay.date;\n      date.setMonth(date.getMonth() + 1);\n      firstDay = coordSys.getDateInfo(date);\n    }\n\n    addPoints(coordSys.getNextNDay(rangeData.end.time, 1).formatedDate);\n\n    function addPoints(date) {\n      self._firstDayOfMonth.push(coordSys.getDateInfo(date));\n\n      self._firstDayPoints.push(coordSys.dataToRect([date], false).tl);\n\n      var points = self._getLinePointsOfOneWeek(calendarModel, date, orient);\n\n      self._tlpoints.push(points[0]);\n\n      self._blpoints.push(points[points.length - 1]);\n\n      show && self._drawSplitline(points, lineStyleModel, group);\n    } // render top/left line\n\n\n    show && this._drawSplitline(self._getEdgesPoints(self._tlpoints, lineWidth, orient), lineStyleModel, group); // render bottom/right line\n\n    show && this._drawSplitline(self._getEdgesPoints(self._blpoints, lineWidth, orient), lineStyleModel, group);\n  }; // get points at both ends\n\n\n  CalendarView.prototype._getEdgesPoints = function (points, lineWidth, orient) {\n    var rs = [points[0].slice(), points[points.length - 1].slice()];\n    var idx = orient === 'horizontal' ? 0 : 1; // both ends of the line are extend half lineWidth\n\n    rs[0][idx] = rs[0][idx] - lineWidth / 2;\n    rs[1][idx] = rs[1][idx] + lineWidth / 2;\n    return rs;\n  }; // render split line\n\n\n  CalendarView.prototype._drawSplitline = function (points, lineStyle, group) {\n    var poyline = new graphic.Polyline({\n      z2: 20,\n      shape: {\n        points: points\n      },\n      style: lineStyle\n    });\n    group.add(poyline);\n  }; // render month line of one week points\n\n\n  CalendarView.prototype._getLinePointsOfOneWeek = function (calendarModel, date, orient) {\n    var coordSys = calendarModel.coordinateSystem;\n    var parsedDate = coordSys.getDateInfo(date);\n    var points = [];\n\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(parsedDate.time, i);\n      var point = coordSys.dataToRect([tmpD.time], false);\n      points[2 * tmpD.day] = point.tl;\n      points[2 * tmpD.day + 1] = point[orient === 'horizontal' ? 'bl' : 'tr'];\n    }\n\n    return points;\n  };\n\n  CalendarView.prototype._formatterLabel = function (formatter, params) {\n    if (isString(formatter) && formatter) {\n      return formatTplSimple(formatter, params);\n    }\n\n    if (isFunction(formatter)) {\n      return formatter(params);\n    }\n\n    return params.nameMap;\n  };\n\n  CalendarView.prototype._yearTextPositionControl = function (textEl, point, orient, position, margin) {\n    var x = point[0];\n    var y = point[1];\n    var aligns = ['center', 'bottom'];\n\n    if (position === 'bottom') {\n      y += margin;\n      aligns = ['center', 'top'];\n    } else if (position === 'left') {\n      x -= margin;\n    } else if (position === 'right') {\n      x += margin;\n      aligns = ['center', 'top'];\n    } else {\n      // top\n      y -= margin;\n    }\n\n    var rotate = 0;\n\n    if (position === 'left' || position === 'right') {\n      rotate = Math.PI / 2;\n    }\n\n    return {\n      rotation: rotate,\n      x: x,\n      y: y,\n      style: {\n        align: aligns[0],\n        verticalAlign: aligns[1]\n      }\n    };\n  }; // render year\n\n\n  CalendarView.prototype._renderYearText = function (calendarModel, rangeData, orient, group) {\n    var yearLabel = calendarModel.getModel('yearLabel');\n\n    if (!yearLabel.get('show')) {\n      return;\n    }\n\n    var margin = yearLabel.get('margin');\n    var pos = yearLabel.get('position');\n\n    if (!pos) {\n      pos = orient !== 'horizontal' ? 'top' : 'left';\n    }\n\n    var points = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]];\n    var xc = (points[0][0] + points[1][0]) / 2;\n    var yc = (points[0][1] + points[1][1]) / 2;\n    var idx = orient === 'horizontal' ? 0 : 1;\n    var posPoints = {\n      top: [xc, points[idx][1]],\n      bottom: [xc, points[1 - idx][1]],\n      left: [points[1 - idx][0], yc],\n      right: [points[idx][0], yc]\n    };\n    var name = rangeData.start.y;\n\n    if (+rangeData.end.y > +rangeData.start.y) {\n      name = name + '-' + rangeData.end.y;\n    }\n\n    var formatter = yearLabel.get('formatter');\n    var params = {\n      start: rangeData.start.y,\n      end: rangeData.end.y,\n      nameMap: name\n    };\n\n    var content = this._formatterLabel(formatter, params);\n\n    var yearText = new graphic.Text({\n      z2: 30,\n      style: createTextStyle(yearLabel, {\n        text: content\n      })\n    });\n    yearText.attr(this._yearTextPositionControl(yearText, posPoints[pos], orient, pos, margin));\n    group.add(yearText);\n  };\n\n  CalendarView.prototype._monthTextPositionControl = function (point, isCenter, orient, position, margin) {\n    var align = 'left';\n    var vAlign = 'top';\n    var x = point[0];\n    var y = point[1];\n\n    if (orient === 'horizontal') {\n      y = y + margin;\n\n      if (isCenter) {\n        align = 'center';\n      }\n\n      if (position === 'start') {\n        vAlign = 'bottom';\n      }\n    } else {\n      x = x + margin;\n\n      if (isCenter) {\n        vAlign = 'middle';\n      }\n\n      if (position === 'start') {\n        align = 'right';\n      }\n    }\n\n    return {\n      x: x,\n      y: y,\n      align: align,\n      verticalAlign: vAlign\n    };\n  }; // render month and year text\n\n\n  CalendarView.prototype._renderMonthText = function (calendarModel, localeModel, orient, group) {\n    var monthLabel = calendarModel.getModel('monthLabel');\n\n    if (!monthLabel.get('show')) {\n      return;\n    }\n\n    var nameMap = monthLabel.get('nameMap');\n    var margin = monthLabel.get('margin');\n    var pos = monthLabel.get('position');\n    var align = monthLabel.get('align');\n    var termPoints = [this._tlpoints, this._blpoints];\n\n    if (!nameMap || isString(nameMap)) {\n      if (nameMap) {\n        // case-sensitive\n        localeModel = getLocaleModel(nameMap) || localeModel;\n      } // PENDING\n      // for ZH locale, original form is `一月` but current form is `1月`\n\n\n      nameMap = localeModel.get(['time', 'monthAbbr']) || [];\n    }\n\n    var idx = pos === 'start' ? 0 : 1;\n    var axis = orient === 'horizontal' ? 0 : 1;\n    margin = pos === 'start' ? -margin : margin;\n    var isCenter = align === 'center';\n\n    for (var i = 0; i < termPoints[idx].length - 1; i++) {\n      var tmp = termPoints[idx][i].slice();\n      var firstDay = this._firstDayOfMonth[i];\n\n      if (isCenter) {\n        var firstDayPoints = this._firstDayPoints[i];\n        tmp[axis] = (firstDayPoints[axis] + termPoints[0][i + 1][axis]) / 2;\n      }\n\n      var formatter = monthLabel.get('formatter');\n      var name_1 = nameMap[+firstDay.m - 1];\n      var params = {\n        yyyy: firstDay.y,\n        yy: (firstDay.y + '').slice(2),\n        MM: firstDay.m,\n        M: +firstDay.m,\n        nameMap: name_1\n      };\n\n      var content = this._formatterLabel(formatter, params);\n\n      var monthText = new graphic.Text({\n        z2: 30,\n        style: extend(createTextStyle(monthLabel, {\n          text: content\n        }), this._monthTextPositionControl(tmp, isCenter, orient, pos, margin))\n      });\n      group.add(monthText);\n    }\n  };\n\n  CalendarView.prototype._weekTextPositionControl = function (point, orient, position, margin, cellSize) {\n    var align = 'center';\n    var vAlign = 'middle';\n    var x = point[0];\n    var y = point[1];\n    var isStart = position === 'start';\n\n    if (orient === 'horizontal') {\n      x = x + margin + (isStart ? 1 : -1) * cellSize[0] / 2;\n      align = isStart ? 'right' : 'left';\n    } else {\n      y = y + margin + (isStart ? 1 : -1) * cellSize[1] / 2;\n      vAlign = isStart ? 'bottom' : 'top';\n    }\n\n    return {\n      x: x,\n      y: y,\n      align: align,\n      verticalAlign: vAlign\n    };\n  }; // render weeks\n\n\n  CalendarView.prototype._renderWeekText = function (calendarModel, localeModel, rangeData, orient, group) {\n    var dayLabel = calendarModel.getModel('dayLabel');\n\n    if (!dayLabel.get('show')) {\n      return;\n    }\n\n    var coordSys = calendarModel.coordinateSystem;\n    var pos = dayLabel.get('position');\n    var nameMap = dayLabel.get('nameMap');\n    var margin = dayLabel.get('margin');\n    var firstDayOfWeek = coordSys.getFirstDayOfWeek();\n\n    if (!nameMap || isString(nameMap)) {\n      if (nameMap) {\n        // case-sensitive\n        localeModel = getLocaleModel(nameMap) || localeModel;\n      } // Use the first letter of `dayOfWeekAbbr` if `dayOfWeekShort` doesn't exist in the locale file\n\n\n      var dayOfWeekShort = localeModel.get(['time', 'dayOfWeekShort']);\n      nameMap = dayOfWeekShort || map(localeModel.get(['time', 'dayOfWeekAbbr']), function (val) {\n        return val[0];\n      });\n    }\n\n    var start = coordSys.getNextNDay(rangeData.end.time, 7 - rangeData.lweek).time;\n    var cellSize = [coordSys.getCellWidth(), coordSys.getCellHeight()];\n    margin = parsePercent(margin, Math.min(cellSize[1], cellSize[0]));\n\n    if (pos === 'start') {\n      start = coordSys.getNextNDay(rangeData.start.time, -(7 + rangeData.fweek)).time;\n      margin = -margin;\n    }\n\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(start, i);\n      var point = coordSys.dataToRect([tmpD.time], false).center;\n      var day = i;\n      day = Math.abs((i + firstDayOfWeek) % 7);\n      var weekText = new graphic.Text({\n        z2: 30,\n        style: extend(createTextStyle(dayLabel, {\n          text: nameMap[day]\n        }), this._weekTextPositionControl(point, orient, pos, margin, cellSize))\n      });\n      group.add(weekText);\n    }\n  };\n\n  CalendarView.type = 'calendar';\n  return CalendarView;\n}(ComponentView);\n\nexport default CalendarView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as layout from '../../util/layout.js';\nimport * as numberUtil from '../../util/number.js'; // (24*60*60*1000)\n\nvar PROXIMATE_ONE_DAY = 86400000;\n\nvar Calendar =\n/** @class */\nfunction () {\n  function Calendar(calendarModel, ecModel, api) {\n    this.type = 'calendar';\n    this.dimensions = Calendar.dimensions; // Required in createListFromData\n\n    this.getDimensionsInfo = Calendar.getDimensionsInfo;\n    this._model = calendarModel;\n  }\n\n  Calendar.getDimensionsInfo = function () {\n    return [{\n      name: 'time',\n      type: 'time'\n    }, 'value'];\n  };\n\n  Calendar.prototype.getRangeInfo = function () {\n    return this._rangeInfo;\n  };\n\n  Calendar.prototype.getModel = function () {\n    return this._model;\n  };\n\n  Calendar.prototype.getRect = function () {\n    return this._rect;\n  };\n\n  Calendar.prototype.getCellWidth = function () {\n    return this._sw;\n  };\n\n  Calendar.prototype.getCellHeight = function () {\n    return this._sh;\n  };\n\n  Calendar.prototype.getOrient = function () {\n    return this._orient;\n  };\n  /**\n   * getFirstDayOfWeek\n   *\n   * @example\n   *     0 : start at Sunday\n   *     1 : start at Monday\n   *\n   * @return {number}\n   */\n\n\n  Calendar.prototype.getFirstDayOfWeek = function () {\n    return this._firstDayOfWeek;\n  };\n  /**\n   * get date info\n   * }\n   */\n\n\n  Calendar.prototype.getDateInfo = function (date) {\n    date = numberUtil.parseDate(date);\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    var mStr = m < 10 ? '0' + m : '' + m;\n    var d = date.getDate();\n    var dStr = d < 10 ? '0' + d : '' + d;\n    var day = date.getDay();\n    day = Math.abs((day + 7 - this.getFirstDayOfWeek()) % 7);\n    return {\n      y: y + '',\n      m: mStr,\n      d: dStr,\n      day: day,\n      time: date.getTime(),\n      formatedDate: y + '-' + mStr + '-' + dStr,\n      date: date\n    };\n  };\n\n  Calendar.prototype.getNextNDay = function (date, n) {\n    n = n || 0;\n\n    if (n === 0) {\n      return this.getDateInfo(date);\n    }\n\n    date = new Date(this.getDateInfo(date).time);\n    date.setDate(date.getDate() + n);\n    return this.getDateInfo(date);\n  };\n\n  Calendar.prototype.update = function (ecModel, api) {\n    this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay');\n    this._orient = this._model.get('orient');\n    this._lineWidth = this._model.getModel('itemStyle').getItemStyle().lineWidth || 0;\n    this._rangeInfo = this._getRangeInfo(this._initRangeOption());\n    var weeks = this._rangeInfo.weeks || 1;\n    var whNames = ['width', 'height'];\n\n    var cellSize = this._model.getCellSize().slice();\n\n    var layoutParams = this._model.getBoxLayoutParams();\n\n    var cellNumbers = this._orient === 'horizontal' ? [weeks, 7] : [7, weeks];\n    zrUtil.each([0, 1], function (idx) {\n      if (cellSizeSpecified(cellSize, idx)) {\n        layoutParams[whNames[idx]] = cellSize[idx] * cellNumbers[idx];\n      }\n    });\n    var whGlobal = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var calendarRect = this._rect = layout.getLayoutRect(layoutParams, whGlobal);\n    zrUtil.each([0, 1], function (idx) {\n      if (!cellSizeSpecified(cellSize, idx)) {\n        cellSize[idx] = calendarRect[whNames[idx]] / cellNumbers[idx];\n      }\n    });\n\n    function cellSizeSpecified(cellSize, idx) {\n      return cellSize[idx] != null && cellSize[idx] !== 'auto';\n    } // Has been calculated out number.\n\n\n    this._sw = cellSize[0];\n    this._sh = cellSize[1];\n  };\n  /**\n   * Convert a time data(time, value) item to (x, y) point.\n   */\n  // TODO Clamp of calendar is not same with cartesian coordinate systems.\n  // It will return NaN if data exceeds.\n\n\n  Calendar.prototype.dataToPoint = function (data, clamp) {\n    zrUtil.isArray(data) && (data = data[0]);\n    clamp == null && (clamp = true);\n    var dayInfo = this.getDateInfo(data);\n    var range = this._rangeInfo;\n    var date = dayInfo.formatedDate; // if not in range return [NaN, NaN]\n\n    if (clamp && !(dayInfo.time >= range.start.time && dayInfo.time < range.end.time + PROXIMATE_ONE_DAY)) {\n      return [NaN, NaN];\n    }\n\n    var week = dayInfo.day;\n\n    var nthWeek = this._getRangeInfo([range.start.time, date]).nthWeek;\n\n    if (this._orient === 'vertical') {\n      return [this._rect.x + week * this._sw + this._sw / 2, this._rect.y + nthWeek * this._sh + this._sh / 2];\n    }\n\n    return [this._rect.x + nthWeek * this._sw + this._sw / 2, this._rect.y + week * this._sh + this._sh / 2];\n  };\n  /**\n   * Convert a (x, y) point to time data\n   */\n\n\n  Calendar.prototype.pointToData = function (point) {\n    var date = this.pointToDate(point);\n    return date && date.time;\n  };\n  /**\n   * Convert a time date item to (x, y) four point.\n   */\n\n\n  Calendar.prototype.dataToRect = function (data, clamp) {\n    var point = this.dataToPoint(data, clamp);\n    return {\n      contentShape: {\n        x: point[0] - (this._sw - this._lineWidth) / 2,\n        y: point[1] - (this._sh - this._lineWidth) / 2,\n        width: this._sw - this._lineWidth,\n        height: this._sh - this._lineWidth\n      },\n      center: point,\n      tl: [point[0] - this._sw / 2, point[1] - this._sh / 2],\n      tr: [point[0] + this._sw / 2, point[1] - this._sh / 2],\n      br: [point[0] + this._sw / 2, point[1] + this._sh / 2],\n      bl: [point[0] - this._sw / 2, point[1] + this._sh / 2]\n    };\n  };\n  /**\n   * Convert a (x, y) point to time date\n   *\n   * @param  {Array} point point\n   * @return {Object}       date\n   */\n\n\n  Calendar.prototype.pointToDate = function (point) {\n    var nthX = Math.floor((point[0] - this._rect.x) / this._sw) + 1;\n    var nthY = Math.floor((point[1] - this._rect.y) / this._sh) + 1;\n    var range = this._rangeInfo.range;\n\n    if (this._orient === 'vertical') {\n      return this._getDateByWeeksAndDay(nthY, nthX - 1, range);\n    }\n\n    return this._getDateByWeeksAndDay(nthX, nthY - 1, range);\n  };\n\n  Calendar.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n\n  Calendar.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n\n  Calendar.prototype.containPoint = function (point) {\n    console.warn('Not implemented.');\n    return false;\n  };\n  /**\n   * initRange\n   * Normalize to an [start, end] array\n   */\n\n\n  Calendar.prototype._initRangeOption = function () {\n    var range = this._model.get('range');\n\n    var normalizedRange; // Convert [1990] to 1990\n\n    if (zrUtil.isArray(range) && range.length === 1) {\n      range = range[0];\n    }\n\n    if (!zrUtil.isArray(range)) {\n      var rangeStr = range.toString(); // One year.\n\n      if (/^\\d{4}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr + '-01-01', rangeStr + '-12-31'];\n      } // One month\n\n\n      if (/^\\d{4}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        var start = this.getDateInfo(rangeStr);\n        var firstDay = start.date;\n        firstDay.setMonth(firstDay.getMonth() + 1);\n        var end = this.getNextNDay(firstDay, -1);\n        normalizedRange = [start.formatedDate, end.formatedDate];\n      } // One day\n\n\n      if (/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(rangeStr)) {\n        normalizedRange = [rangeStr, rangeStr];\n      }\n    } else {\n      normalizedRange = range;\n    }\n\n    if (!normalizedRange) {\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.logError('Invalid date range.');\n      } // Not handling it.\n\n\n      return range;\n    }\n\n    var tmp = this._getRangeInfo(normalizedRange);\n\n    if (tmp.start.time > tmp.end.time) {\n      normalizedRange.reverse();\n    }\n\n    return normalizedRange;\n  };\n  /**\n   * range info\n   *\n   * @private\n   * @param  {Array} range range ['2017-01-01', '2017-07-08']\n   *  If range[0] > range[1], they will not be reversed.\n   * @return {Object}       obj\n   */\n\n\n  Calendar.prototype._getRangeInfo = function (range) {\n    var parsedRange = [this.getDateInfo(range[0]), this.getDateInfo(range[1])];\n    var reversed;\n\n    if (parsedRange[0].time > parsedRange[1].time) {\n      reversed = true;\n      parsedRange.reverse();\n    }\n\n    var allDay = Math.floor(parsedRange[1].time / PROXIMATE_ONE_DAY) - Math.floor(parsedRange[0].time / PROXIMATE_ONE_DAY) + 1; // Consider case1 (#11677 #10430):\n    // Set the system timezone as \"UK\", set the range to `['2016-07-01', '2016-12-31']`\n    // Consider case2:\n    // Firstly set system timezone as \"Time Zone: America/Toronto\",\n    // ```\n    // let first = new Date(1478412000000 - 3600 * 1000 * 2.5);\n    // let second = new Date(1478412000000);\n    // let allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;\n    // ```\n    // will get wrong result because of DST. So we should fix it.\n\n    var date = new Date(parsedRange[0].time);\n    var startDateNum = date.getDate();\n    var endDateNum = parsedRange[1].date.getDate();\n    date.setDate(startDateNum + allDay - 1); // The bias can not over a month, so just compare date.\n\n    var dateNum = date.getDate();\n\n    if (dateNum !== endDateNum) {\n      var sign = date.getTime() - parsedRange[1].time > 0 ? 1 : -1;\n\n      while ((dateNum = date.getDate()) !== endDateNum && (date.getTime() - parsedRange[1].time) * sign > 0) {\n        allDay -= sign;\n        date.setDate(dateNum - sign);\n      }\n    }\n\n    var weeks = Math.floor((allDay + parsedRange[0].day + 6) / 7);\n    var nthWeek = reversed ? -weeks + 1 : weeks - 1;\n    reversed && parsedRange.reverse();\n    return {\n      range: [parsedRange[0].formatedDate, parsedRange[1].formatedDate],\n      start: parsedRange[0],\n      end: parsedRange[1],\n      allDay: allDay,\n      weeks: weeks,\n      // From 0.\n      nthWeek: nthWeek,\n      fweek: parsedRange[0].day,\n      lweek: parsedRange[1].day\n    };\n  };\n  /**\n   * get date by nthWeeks and week day in range\n   *\n   * @private\n   * @param  {number} nthWeek the week\n   * @param  {number} day   the week day\n   * @param  {Array} range [d1, d2]\n   * @return {Object}\n   */\n\n\n  Calendar.prototype._getDateByWeeksAndDay = function (nthWeek, day, range) {\n    var rangeInfo = this._getRangeInfo(range);\n\n    if (nthWeek > rangeInfo.weeks || nthWeek === 0 && day < rangeInfo.fweek || nthWeek === rangeInfo.weeks && day > rangeInfo.lweek) {\n      return null;\n    }\n\n    var nthDay = (nthWeek - 1) * 7 - rangeInfo.fweek + day;\n    var date = new Date(rangeInfo.start.time);\n    date.setDate(+rangeInfo.start.d + nthDay);\n    return this.getDateInfo(date);\n  };\n\n  Calendar.create = function (ecModel, api) {\n    var calendarList = [];\n    ecModel.eachComponent('calendar', function (calendarModel) {\n      var calendar = new Calendar(calendarModel, ecModel, api);\n      calendarList.push(calendar);\n      calendarModel.coordinateSystem = calendar;\n    });\n    ecModel.eachSeries(function (calendarSeries) {\n      if (calendarSeries.get('coordinateSystem') === 'calendar') {\n        // Inject coordinate system\n        calendarSeries.coordinateSystem = calendarList[calendarSeries.get('calendarIndex') || 0];\n      }\n    });\n    return calendarList;\n  };\n\n  Calendar.dimensions = ['time', 'value'];\n  return Calendar;\n}();\n\nfunction getCoordSys(finder) {\n  var calendarModel = finder.calendarModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = calendarModel ? calendarModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem : null;\n  return coordSys;\n}\n\nexport default Calendar;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport CalendarModel from '../../coord/calendar/CalendarModel.js';\nimport CalendarView from './CalendarView.js';\nimport Calendar from '../../coord/calendar/Calendar.js';\nexport function install(registers) {\n  registers.registerComponentModel(CalendarModel);\n  registers.registerComponentView(CalendarView);\n  registers.registerCoordinateSystem('calendar', Calendar);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomModel from './DataZoomModel.js';\n\nvar SelectDataZoomModel =\n/** @class */\nfunction (_super) {\n  __extends(SelectDataZoomModel, _super);\n\n  function SelectDataZoomModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SelectDataZoomModel.type;\n    return _this;\n  }\n\n  SelectDataZoomModel.type = 'dataZoom.select';\n  return SelectDataZoomModel;\n}(DataZoomModel);\n\nexport default SelectDataZoomModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport DataZoomView from './DataZoomView.js';\n\nvar SelectDataZoomView =\n/** @class */\nfunction (_super) {\n  __extends(SelectDataZoomView, _super);\n\n  function SelectDataZoomView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SelectDataZoomView.type;\n    return _this;\n  }\n\n  SelectDataZoomView.type = 'dataZoom.select';\n  return SelectDataZoomView;\n}(DataZoomView);\n\nexport default SelectDataZoomView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SelectZoomModel from './SelectZoomModel.js';\nimport SelectZoomView from './SelectZoomView.js';\nimport installCommon from './installCommon.js';\nexport function install(registers) {\n  registers.registerComponentModel(SelectZoomModel);\n  registers.registerComponentView(SelectZoomView);\n  installCommon(registers);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nvar ToolboxFeature =\n/** @class */\nfunction () {\n  function ToolboxFeature() {}\n\n  return ToolboxFeature;\n}();\n\nexport { ToolboxFeature };\nvar features = {};\nexport function registerFeature(name, ctor) {\n  features[name] = ctor;\n}\nexport function getFeature(name) {\n  return features[name];\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as featureManager from './featureManager.js';\nimport ComponentModel from '../../model/Component.js';\n\nvar ToolboxModel =\n/** @class */\nfunction (_super) {\n  __extends(ToolboxModel, _super);\n\n  function ToolboxModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = ToolboxModel.type;\n    return _this;\n  }\n\n  ToolboxModel.prototype.optionUpdated = function () {\n    _super.prototype.optionUpdated.apply(this, arguments);\n\n    var ecModel = this.ecModel;\n    zrUtil.each(this.option.feature, function (featureOpt, featureName) {\n      var Feature = featureManager.getFeature(featureName);\n\n      if (Feature) {\n        if (Feature.getDefaultOption) {\n          Feature.defaultOption = Feature.getDefaultOption(ecModel);\n        }\n\n        zrUtil.merge(featureOpt, Feature.defaultOption);\n      }\n    });\n  };\n\n  ToolboxModel.type = 'toolbox';\n  ToolboxModel.layoutMode = {\n    type: 'box',\n    ignoreSize: true\n  };\n  ToolboxModel.defaultOption = {\n    show: true,\n    z: 6,\n    // zlevel: 0,\n    orient: 'horizontal',\n    left: 'right',\n    top: 'top',\n    // right\n    // bottom\n    backgroundColor: 'transparent',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemSize: 15,\n    itemGap: 8,\n    showTitle: true,\n    iconStyle: {\n      borderColor: '#666',\n      color: 'none'\n    },\n    emphasis: {\n      iconStyle: {\n        borderColor: '#3E98C5'\n      }\n    },\n    // textStyle: {},\n    // feature\n    tooltip: {\n      show: false,\n      position: 'bottom'\n    }\n  };\n  return ToolboxModel;\n}(ComponentModel);\n\nexport default ToolboxModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport * as graphic from '../../util/graphic.js';\nimport { enterEmphasis, leaveEmphasis } from '../../util/states.js';\nimport Model from '../../model/Model.js';\nimport DataDiffer from '../../data/DataDiffer.js';\nimport * as listComponentHelper from '../helper/listComponent.js';\nimport ComponentView from '../../view/Component.js';\nimport { ToolboxFeature, getFeature } from './featureManager.js';\nimport { getUID } from '../../util/component.js';\nimport ZRText from 'zrender/lib/graphic/Text.js';\n\nvar ToolboxView =\n/** @class */\nfunction (_super) {\n  __extends(ToolboxView, _super);\n\n  function ToolboxView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ToolboxView.prototype.render = function (toolboxModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n\n    if (!toolboxModel.get('show')) {\n      return;\n    }\n\n    var itemSize = +toolboxModel.get('itemSize');\n    var featureOpts = toolboxModel.get('feature') || {};\n    var features = this._features || (this._features = {});\n    var featureNames = [];\n    zrUtil.each(featureOpts, function (opt, name) {\n      featureNames.push(name);\n    });\n    new DataDiffer(this._featureNames || [], featureNames).add(processFeature).update(processFeature).remove(zrUtil.curry(processFeature, null)).execute(); // Keep for diff.\n\n    this._featureNames = featureNames;\n\n    function processFeature(newIndex, oldIndex) {\n      var featureName = featureNames[newIndex];\n      var oldName = featureNames[oldIndex];\n      var featureOpt = featureOpts[featureName];\n      var featureModel = new Model(featureOpt, toolboxModel, toolboxModel.ecModel);\n      var feature; // FIX#11236, merge feature title from MagicType newOption. TODO: consider seriesIndex ?\n\n      if (payload && payload.newTitle != null && payload.featureName === featureName) {\n        featureOpt.title = payload.newTitle;\n      }\n\n      if (featureName && !oldName) {\n        // Create\n        if (isUserFeatureName(featureName)) {\n          feature = {\n            onclick: featureModel.option.onclick,\n            featureName: featureName\n          };\n        } else {\n          var Feature = getFeature(featureName);\n\n          if (!Feature) {\n            return;\n          }\n\n          feature = new Feature();\n        }\n\n        features[featureName] = feature;\n      } else {\n        feature = features[oldName]; // If feature does not exsit.\n\n        if (!feature) {\n          return;\n        }\n      }\n\n      feature.uid = getUID('toolbox-feature');\n      feature.model = featureModel;\n      feature.ecModel = ecModel;\n      feature.api = api;\n      var isToolboxFeature = feature instanceof ToolboxFeature;\n\n      if (!featureName && oldName) {\n        isToolboxFeature && feature.dispose && feature.dispose(ecModel, api);\n        return;\n      }\n\n      if (!featureModel.get('show') || isToolboxFeature && feature.unusable) {\n        isToolboxFeature && feature.remove && feature.remove(ecModel, api);\n        return;\n      }\n\n      createIconPaths(featureModel, feature, featureName);\n\n      featureModel.setIconStatus = function (iconName, status) {\n        var option = this.option;\n        var iconPaths = this.iconPaths;\n        option.iconStatus = option.iconStatus || {};\n        option.iconStatus[iconName] = status;\n\n        if (iconPaths[iconName]) {\n          (status === 'emphasis' ? enterEmphasis : leaveEmphasis)(iconPaths[iconName]);\n        }\n      };\n\n      if (feature instanceof ToolboxFeature) {\n        if (feature.render) {\n          feature.render(featureModel, ecModel, api, payload);\n        }\n      }\n    }\n\n    function createIconPaths(featureModel, feature, featureName) {\n      var iconStyleModel = featureModel.getModel('iconStyle');\n      var iconStyleEmphasisModel = featureModel.getModel(['emphasis', 'iconStyle']); // If one feature has mutiple icon. they are orginaized as\n      // {\n      //     icon: {\n      //         foo: '',\n      //         bar: ''\n      //     },\n      //     title: {\n      //         foo: '',\n      //         bar: ''\n      //     }\n      // }\n\n      var icons = feature instanceof ToolboxFeature && feature.getIcons ? feature.getIcons() : featureModel.get('icon');\n      var titles = featureModel.get('title') || {};\n      var iconsMap;\n      var titlesMap;\n\n      if (zrUtil.isString(icons)) {\n        iconsMap = {};\n        iconsMap[featureName] = icons;\n      } else {\n        iconsMap = icons;\n      }\n\n      if (zrUtil.isString(titles)) {\n        titlesMap = {};\n        titlesMap[featureName] = titles;\n      } else {\n        titlesMap = titles;\n      }\n\n      var iconPaths = featureModel.iconPaths = {};\n      zrUtil.each(iconsMap, function (iconStr, iconName) {\n        var path = graphic.createIcon(iconStr, {}, {\n          x: -itemSize / 2,\n          y: -itemSize / 2,\n          width: itemSize,\n          height: itemSize\n        }); // TODO handling image\n\n        path.setStyle(iconStyleModel.getItemStyle());\n        var pathEmphasisState = path.ensureState('emphasis');\n        pathEmphasisState.style = iconStyleEmphasisModel.getItemStyle(); // Text position calculation\n\n        var textContent = new ZRText({\n          style: {\n            text: titlesMap[iconName],\n            align: iconStyleEmphasisModel.get('textAlign'),\n            borderRadius: iconStyleEmphasisModel.get('textBorderRadius'),\n            padding: iconStyleEmphasisModel.get('textPadding'),\n            fill: null\n          },\n          ignore: true\n        });\n        path.setTextContent(textContent);\n        graphic.setTooltipConfig({\n          el: path,\n          componentModel: toolboxModel,\n          itemName: iconName,\n          formatterParamsExtra: {\n            title: titlesMap[iconName]\n          }\n        }); // graphic.enableHoverEmphasis(path);\n\n        path.__title = titlesMap[iconName];\n        path.on('mouseover', function () {\n          // Should not reuse above hoverStyle, which might be modified.\n          var hoverStyle = iconStyleEmphasisModel.getItemStyle();\n          var defaultTextPosition = toolboxModel.get('orient') === 'vertical' ? toolboxModel.get('right') == null ? 'right' : 'left' : toolboxModel.get('bottom') == null ? 'bottom' : 'top';\n          textContent.setStyle({\n            fill: iconStyleEmphasisModel.get('textFill') || hoverStyle.fill || hoverStyle.stroke || '#000',\n            backgroundColor: iconStyleEmphasisModel.get('textBackgroundColor')\n          });\n          path.setTextConfig({\n            position: iconStyleEmphasisModel.get('textPosition') || defaultTextPosition\n          });\n          textContent.ignore = !toolboxModel.get('showTitle'); // Use enterEmphasis and leaveEmphasis provide by ec.\n          // There are flags managed by the echarts.\n\n          enterEmphasis(this);\n        }).on('mouseout', function () {\n          if (featureModel.get(['iconStatus', iconName]) !== 'emphasis') {\n            leaveEmphasis(this);\n          }\n\n          textContent.hide();\n        });\n        (featureModel.get(['iconStatus', iconName]) === 'emphasis' ? enterEmphasis : leaveEmphasis)(path);\n        group.add(path);\n        path.on('click', zrUtil.bind(feature.onclick, feature, ecModel, api, iconName));\n        iconPaths[iconName] = path;\n      });\n    }\n\n    listComponentHelper.layout(group, toolboxModel, api); // Render background after group is layout\n    // FIXME\n\n    group.add(listComponentHelper.makeBackground(group.getBoundingRect(), toolboxModel)); // Adjust icon title positions to avoid them out of screen\n\n    group.eachChild(function (icon) {\n      var titleText = icon.__title; // const hoverStyle = icon.hoverStyle;\n      // TODO simplify code?\n\n      var emphasisState = icon.ensureState('emphasis');\n      var emphasisTextConfig = emphasisState.textConfig || (emphasisState.textConfig = {});\n      var textContent = icon.getTextContent();\n      var emphasisTextState = textContent && textContent.states.emphasis; // May be background element\n\n      if (emphasisTextState && !zrUtil.isFunction(emphasisTextState) && titleText) {\n        var emphasisTextStyle = emphasisTextState.style || (emphasisTextState.style = {});\n        var rect = textContain.getBoundingRect(titleText, ZRText.makeFont(emphasisTextStyle));\n        var offsetX = icon.x + group.x;\n        var offsetY = icon.y + group.y + itemSize;\n        var needPutOnTop = false;\n\n        if (offsetY + rect.height > api.getHeight()) {\n          emphasisTextConfig.position = 'top';\n          needPutOnTop = true;\n        }\n\n        var topOffset = needPutOnTop ? -5 - rect.height : itemSize + 8;\n\n        if (offsetX + rect.width / 2 > api.getWidth()) {\n          emphasisTextConfig.position = ['100%', topOffset];\n          emphasisTextStyle.align = 'right';\n        } else if (offsetX - rect.width / 2 < 0) {\n          emphasisTextConfig.position = [0, topOffset];\n          emphasisTextStyle.align = 'left';\n        }\n      }\n    });\n  };\n\n  ToolboxView.prototype.updateView = function (toolboxModel, ecModel, api, payload) {\n    zrUtil.each(this._features, function (feature) {\n      feature instanceof ToolboxFeature && feature.updateView && feature.updateView(feature.model, ecModel, api, payload);\n    });\n  }; // updateLayout(toolboxModel, ecModel, api, payload) {\n  //     zrUtil.each(this._features, function (feature) {\n  //         feature.updateLayout && feature.updateLayout(feature.model, ecModel, api, payload);\n  //     });\n  // },\n\n\n  ToolboxView.prototype.remove = function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature instanceof ToolboxFeature && feature.remove && feature.remove(ecModel, api);\n    });\n    this.group.removeAll();\n  };\n\n  ToolboxView.prototype.dispose = function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature instanceof ToolboxFeature && feature.dispose && feature.dispose(ecModel, api);\n    });\n  };\n\n  ToolboxView.type = 'toolbox';\n  return ToolboxView;\n}(ComponentView);\n\nfunction isUserFeatureName(featureName) {\n  return featureName.indexOf('my') === 0;\n}\n\nexport default ToolboxView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global Uint8Array, document */\n\nimport env from 'zrender/lib/core/env.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { isFunction } from 'zrender/lib/core/util.js';\n/* global window, document */\n\nvar SaveAsImage =\n/** @class */\nfunction (_super) {\n  __extends(SaveAsImage, _super);\n\n  function SaveAsImage() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SaveAsImage.prototype.onclick = function (ecModel, api) {\n    var model = this.model;\n    var title = model.get('name') || ecModel.get('title.0.text') || 'echarts';\n    var isSvg = api.getZr().painter.getType() === 'svg';\n    var type = isSvg ? 'svg' : model.get('type', true) || 'png';\n    var url = api.getConnectedDataURL({\n      type: type,\n      backgroundColor: model.get('backgroundColor', true) || ecModel.get('backgroundColor') || '#fff',\n      connectedBackgroundColor: model.get('connectedBackgroundColor'),\n      excludeComponents: model.get('excludeComponents'),\n      pixelRatio: model.get('pixelRatio')\n    });\n    var browser = env.browser; // Chrome, Firefox, New Edge\n\n    if (isFunction(MouseEvent) && (browser.newEdge || !browser.ie && !browser.edge)) {\n      var $a = document.createElement('a');\n      $a.download = title + '.' + type;\n      $a.target = '_blank';\n      $a.href = url;\n      var evt = new MouseEvent('click', {\n        // some micro front-end framework， window maybe is a Proxy\n        view: document.defaultView,\n        bubbles: true,\n        cancelable: false\n      });\n      $a.dispatchEvent(evt);\n    } // IE or old Edge\n    else {\n        // @ts-ignore\n        if (window.navigator.msSaveOrOpenBlob || isSvg) {\n          var parts = url.split(','); // data:[<mime type>][;charset=<charset>][;base64],<encoded data>\n\n          var base64Encoded = parts[0].indexOf('base64') > -1;\n          var bstr = isSvg // should decode the svg data uri first\n          ? decodeURIComponent(parts[1]) : parts[1]; // only `atob` when the data uri is encoded with base64\n          // otherwise, like `svg` data uri exported by zrender,\n          // there will be an error, for it's not encoded with base64.\n          // (just a url-encoded string through `encodeURIComponent`)\n\n          base64Encoded && (bstr = window.atob(bstr));\n          var filename = title + '.' + type; // @ts-ignore\n\n          if (window.navigator.msSaveOrOpenBlob) {\n            var n = bstr.length;\n            var u8arr = new Uint8Array(n);\n\n            while (n--) {\n              u8arr[n] = bstr.charCodeAt(n);\n            }\n\n            var blob = new Blob([u8arr]); // @ts-ignore\n\n            window.navigator.msSaveOrOpenBlob(blob, filename);\n          } else {\n            var frame = document.createElement('iframe');\n            document.body.appendChild(frame);\n            var cw = frame.contentWindow;\n            var doc = cw.document;\n            doc.open('image/svg+xml', 'replace');\n            doc.write(bstr);\n            doc.close();\n            cw.focus();\n            doc.execCommand('SaveAs', true, filename);\n            document.body.removeChild(frame);\n          }\n        } else {\n          var lang = model.get('lang');\n          var html = '' + '<body style=\"margin:0;\">' + '<img src=\"' + url + '\" style=\"max-width:100%;\" title=\"' + (lang && lang[0] || '') + '\" />' + '</body>';\n          var tab = window.open();\n          tab.document.write(html);\n          tab.document.title = title;\n        }\n      }\n  };\n\n  SaveAsImage.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      icon: 'M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0',\n      title: ecModel.getLocaleModel().get(['toolbox', 'saveAsImage', 'title']),\n      type: 'png',\n      // Default use option.backgroundColor\n      // backgroundColor: '#fff',\n      connectedBackgroundColor: '#fff',\n      name: '',\n      excludeComponents: ['toolbox'],\n      // use current pixel ratio of device by default\n      // pixelRatio: 1,\n      lang: ecModel.getLocaleModel().get(['toolbox', 'saveAsImage', 'lang'])\n    };\n    return defaultOption;\n  };\n\n  return SaveAsImage;\n}(ToolboxFeature);\n\nexport default SaveAsImage;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as echarts from '../../../core/echarts.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { SINGLE_REFERRING } from '../../../util/model.js';\nvar INNER_STACK_KEYWORD = '__ec_magicType_stack__';\nvar ICON_TYPES = ['line', 'bar', 'stack']; // stack and tiled appears in pair for the title\n\nvar TITLE_TYPES = ['line', 'bar', 'stack', 'tiled'];\nvar radioTypes = [['line', 'bar'], ['stack']];\n\nvar MagicType =\n/** @class */\nfunction (_super) {\n  __extends(MagicType, _super);\n\n  function MagicType() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MagicType.prototype.getIcons = function () {\n    var model = this.model;\n    var availableIcons = model.get('icon');\n    var icons = {};\n    zrUtil.each(model.get('type'), function (type) {\n      if (availableIcons[type]) {\n        icons[type] = availableIcons[type];\n      }\n    });\n    return icons;\n  };\n\n  MagicType.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      type: [],\n      // Icon group\n      icon: {\n        line: 'M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4',\n        bar: 'M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7',\n        // eslint-disable-next-line\n        stack: 'M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z' // jshint ignore:line\n\n      },\n      // `line`, `bar`, `stack`, `tiled`\n      title: ecModel.getLocaleModel().get(['toolbox', 'magicType', 'title']),\n      option: {},\n      seriesIndex: {}\n    };\n    return defaultOption;\n  };\n\n  MagicType.prototype.onclick = function (ecModel, api, type) {\n    var model = this.model;\n    var seriesIndex = model.get(['seriesIndex', type]); // Not supported magicType\n\n    if (!seriesOptGenreator[type]) {\n      return;\n    }\n\n    var newOption = {\n      series: []\n    };\n\n    var generateNewSeriesTypes = function (seriesModel) {\n      var seriesType = seriesModel.subType;\n      var seriesId = seriesModel.id;\n      var newSeriesOpt = seriesOptGenreator[type](seriesType, seriesId, seriesModel, model);\n\n      if (newSeriesOpt) {\n        // PENDING If merge original option?\n        zrUtil.defaults(newSeriesOpt, seriesModel.option);\n        newOption.series.push(newSeriesOpt);\n      } // Modify boundaryGap\n\n\n      var coordSys = seriesModel.coordinateSystem;\n\n      if (coordSys && coordSys.type === 'cartesian2d' && (type === 'line' || type === 'bar')) {\n        var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n        if (categoryAxis) {\n          var axisDim = categoryAxis.dim;\n          var axisType = axisDim + 'Axis';\n          var axisModel = seriesModel.getReferringComponents(axisType, SINGLE_REFERRING).models[0];\n          var axisIndex = axisModel.componentIndex;\n          newOption[axisType] = newOption[axisType] || [];\n\n          for (var i = 0; i <= axisIndex; i++) {\n            newOption[axisType][axisIndex] = newOption[axisType][axisIndex] || {};\n          }\n\n          newOption[axisType][axisIndex].boundaryGap = type === 'bar';\n        }\n      }\n    };\n\n    zrUtil.each(radioTypes, function (radio) {\n      if (zrUtil.indexOf(radio, type) >= 0) {\n        zrUtil.each(radio, function (item) {\n          model.setIconStatus(item, 'normal');\n        });\n      }\n    });\n    model.setIconStatus(type, 'emphasis');\n    ecModel.eachComponent({\n      mainType: 'series',\n      query: seriesIndex == null ? null : {\n        seriesIndex: seriesIndex\n      }\n    }, generateNewSeriesTypes);\n    var newTitle;\n    var currentType = type; // Change title of stack\n\n    if (type === 'stack') {\n      // use titles in model instead of ecModel\n      // as stack and tiled appears in pair, just flip them\n      // no need of checking stack state\n      newTitle = zrUtil.merge({\n        stack: model.option.title.tiled,\n        tiled: model.option.title.stack\n      }, model.option.title);\n\n      if (model.get(['iconStatus', type]) !== 'emphasis') {\n        currentType = 'tiled';\n      }\n    }\n\n    api.dispatchAction({\n      type: 'changeMagicType',\n      currentType: currentType,\n      newOption: newOption,\n      newTitle: newTitle,\n      featureName: 'magicType'\n    });\n  };\n\n  return MagicType;\n}(ToolboxFeature);\n\nvar seriesOptGenreator = {\n  'line': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'bar') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'line',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get(['option', 'line']) || {}, true);\n    }\n  },\n  'bar': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'line') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'bar',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get(['option', 'bar']) || {}, true);\n    }\n  },\n  'stack': function (seriesType, seriesId, seriesModel, model) {\n    var isStack = seriesModel.get('stack') === INNER_STACK_KEYWORD;\n\n    if (seriesType === 'line' || seriesType === 'bar') {\n      model.setIconStatus('stack', isStack ? 'normal' : 'emphasis');\n      return zrUtil.merge({\n        id: seriesId,\n        stack: isStack ? '' : INNER_STACK_KEYWORD\n      }, model.get(['option', 'stack']) || {}, true);\n    }\n  }\n}; // TODO: SELF REGISTERED.\n\necharts.registerAction({\n  type: 'changeMagicType',\n  event: 'magicTypeChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.mergeOption(payload.newOption);\n});\nexport default MagicType;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/* global document */\n\nimport * as echarts from '../../../core/echarts.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { addEventListener } from 'zrender/lib/core/event.js';\n/* global document */\n\nvar BLOCK_SPLITER = new Array(60).join('-');\nvar ITEM_SPLITER = '\\t';\n/**\n * Group series into two types\n *  1. on category axis, like line, bar\n *  2. others, like scatter, pie\n */\n\nfunction groupSeries(ecModel) {\n  var seriesGroupByCategoryAxis = {};\n  var otherSeries = [];\n  var meta = [];\n  ecModel.eachRawSeries(function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && (coordSys.type === 'cartesian2d' || coordSys.type === 'polar')) {\n      // TODO: TYPE Consider polar? Include polar may increase unecessary bundle size.\n      var baseAxis = coordSys.getBaseAxis();\n\n      if (baseAxis.type === 'category') {\n        var key = baseAxis.dim + '_' + baseAxis.index;\n\n        if (!seriesGroupByCategoryAxis[key]) {\n          seriesGroupByCategoryAxis[key] = {\n            categoryAxis: baseAxis,\n            valueAxis: coordSys.getOtherAxis(baseAxis),\n            series: []\n          };\n          meta.push({\n            axisDim: baseAxis.dim,\n            axisIndex: baseAxis.index\n          });\n        }\n\n        seriesGroupByCategoryAxis[key].series.push(seriesModel);\n      } else {\n        otherSeries.push(seriesModel);\n      }\n    } else {\n      otherSeries.push(seriesModel);\n    }\n  });\n  return {\n    seriesGroupByCategoryAxis: seriesGroupByCategoryAxis,\n    other: otherSeries,\n    meta: meta\n  };\n}\n/**\n * Assemble content of series on cateogory axis\n * @inner\n */\n\n\nfunction assembleSeriesWithCategoryAxis(groups) {\n  var tables = [];\n  zrUtil.each(groups, function (group, key) {\n    var categoryAxis = group.categoryAxis;\n    var valueAxis = group.valueAxis;\n    var valueAxisDim = valueAxis.dim;\n    var headers = [' '].concat(zrUtil.map(group.series, function (series) {\n      return series.name;\n    })); // @ts-ignore TODO Polar\n\n    var columns = [categoryAxis.model.getCategories()];\n    zrUtil.each(group.series, function (series) {\n      var rawData = series.getRawData();\n      columns.push(series.getRawData().mapArray(rawData.mapDimension(valueAxisDim), function (val) {\n        return val;\n      }));\n    }); // Assemble table content\n\n    var lines = [headers.join(ITEM_SPLITER)];\n\n    for (var i = 0; i < columns[0].length; i++) {\n      var items = [];\n\n      for (var j = 0; j < columns.length; j++) {\n        items.push(columns[j][i]);\n      }\n\n      lines.push(items.join(ITEM_SPLITER));\n    }\n\n    tables.push(lines.join('\\n'));\n  });\n  return tables.join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n/**\n * Assemble content of other series\n */\n\n\nfunction assembleOtherSeries(series) {\n  return zrUtil.map(series, function (series) {\n    var data = series.getRawData();\n    var lines = [series.name];\n    var vals = [];\n    data.each(data.dimensions, function () {\n      var argLen = arguments.length;\n      var dataIndex = arguments[argLen - 1];\n      var name = data.getName(dataIndex);\n\n      for (var i = 0; i < argLen - 1; i++) {\n        vals[i] = arguments[i];\n      }\n\n      lines.push((name ? name + ITEM_SPLITER : '') + vals.join(ITEM_SPLITER));\n    });\n    return lines.join('\\n');\n  }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n\nfunction getContentFromModel(ecModel) {\n  var result = groupSeries(ecModel);\n  return {\n    value: zrUtil.filter([assembleSeriesWithCategoryAxis(result.seriesGroupByCategoryAxis), assembleOtherSeries(result.other)], function (str) {\n      return !!str.replace(/[\\n\\t\\s]/g, '');\n    }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n'),\n    meta: result.meta\n  };\n}\n\nfunction trim(str) {\n  return str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n}\n/**\n * If a block is tsv format\n */\n\n\nfunction isTSVFormat(block) {\n  // Simple method to find out if a block is tsv format\n  var firstLine = block.slice(0, block.indexOf('\\n'));\n\n  if (firstLine.indexOf(ITEM_SPLITER) >= 0) {\n    return true;\n  }\n}\n\nvar itemSplitRegex = new RegExp('[' + ITEM_SPLITER + ']+', 'g');\n/**\n * @param {string} tsv\n * @return {Object}\n */\n\nfunction parseTSVContents(tsv) {\n  var tsvLines = tsv.split(/\\n+/g);\n  var headers = trim(tsvLines.shift()).split(itemSplitRegex);\n  var categories = [];\n  var series = zrUtil.map(headers, function (header) {\n    return {\n      name: header,\n      data: []\n    };\n  });\n\n  for (var i = 0; i < tsvLines.length; i++) {\n    var items = trim(tsvLines[i]).split(itemSplitRegex);\n    categories.push(items.shift());\n\n    for (var j = 0; j < items.length; j++) {\n      series[j] && (series[j].data[i] = items[j]);\n    }\n  }\n\n  return {\n    series: series,\n    categories: categories\n  };\n}\n\nfunction parseListContents(str) {\n  var lines = str.split(/\\n+/g);\n  var seriesName = trim(lines.shift());\n  var data = [];\n\n  for (var i = 0; i < lines.length; i++) {\n    // if line is empty, ignore it.\n    // there is a case that a user forgot to delete `\\n`.\n    var line = trim(lines[i]);\n\n    if (!line) {\n      continue;\n    }\n\n    var items = line.split(itemSplitRegex);\n    var name_1 = '';\n    var value = void 0;\n    var hasName = false;\n\n    if (isNaN(items[0])) {\n      // First item is name\n      hasName = true;\n      name_1 = items[0];\n      items = items.slice(1);\n      data[i] = {\n        name: name_1,\n        value: []\n      };\n      value = data[i].value;\n    } else {\n      value = data[i] = [];\n    }\n\n    for (var j = 0; j < items.length; j++) {\n      value.push(+items[j]);\n    }\n\n    if (value.length === 1) {\n      hasName ? data[i].value = value[0] : data[i] = value[0];\n    }\n  }\n\n  return {\n    name: seriesName,\n    data: data\n  };\n}\n\nfunction parseContents(str, blockMetaList) {\n  var blocks = str.split(new RegExp('\\n*' + BLOCK_SPLITER + '\\n*', 'g'));\n  var newOption = {\n    series: []\n  };\n  zrUtil.each(blocks, function (block, idx) {\n    if (isTSVFormat(block)) {\n      var result = parseTSVContents(block);\n      var blockMeta = blockMetaList[idx];\n      var axisKey = blockMeta.axisDim + 'Axis';\n\n      if (blockMeta) {\n        newOption[axisKey] = newOption[axisKey] || [];\n        newOption[axisKey][blockMeta.axisIndex] = {\n          data: result.categories\n        };\n        newOption.series = newOption.series.concat(result.series);\n      }\n    } else {\n      var result = parseListContents(block);\n      newOption.series.push(result);\n    }\n  });\n  return newOption;\n}\n\nvar DataView =\n/** @class */\nfunction (_super) {\n  __extends(DataView, _super);\n\n  function DataView() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DataView.prototype.onclick = function (ecModel, api) {\n    var container = api.getDom();\n    var model = this.model;\n\n    if (this._dom) {\n      container.removeChild(this._dom);\n    }\n\n    var root = document.createElement('div');\n    root.style.cssText = 'position:absolute;left:5px;top:5px;bottom:5px;right:5px;';\n    root.style.backgroundColor = model.get('backgroundColor') || '#fff'; // Create elements\n\n    var header = document.createElement('h4');\n    var lang = model.get('lang') || [];\n    header.innerHTML = lang[0] || model.get('title');\n    header.style.cssText = 'margin: 10px 20px;';\n    header.style.color = model.get('textColor');\n    var viewMain = document.createElement('div');\n    var textarea = document.createElement('textarea');\n    viewMain.style.cssText = 'display:block;width:100%;overflow:auto;';\n    var optionToContent = model.get('optionToContent');\n    var contentToOption = model.get('contentToOption');\n    var result = getContentFromModel(ecModel);\n\n    if (zrUtil.isFunction(optionToContent)) {\n      var htmlOrDom = optionToContent(api.getOption());\n\n      if (zrUtil.isString(htmlOrDom)) {\n        viewMain.innerHTML = htmlOrDom;\n      } else if (zrUtil.isDom(htmlOrDom)) {\n        viewMain.appendChild(htmlOrDom);\n      }\n    } else {\n      // Use default textarea\n      viewMain.appendChild(textarea);\n      textarea.readOnly = model.get('readOnly');\n      textarea.style.cssText = 'width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;';\n      textarea.style.color = model.get('textColor');\n      textarea.style.borderColor = model.get('textareaBorderColor');\n      textarea.style.backgroundColor = model.get('textareaColor');\n      textarea.value = result.value;\n    }\n\n    var blockMetaList = result.meta;\n    var buttonContainer = document.createElement('div');\n    buttonContainer.style.cssText = 'position:absolute;bottom:0;left:0;right:0;';\n    var buttonStyle = 'float:right;margin-right:20px;border:none;' + 'cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px';\n    var closeButton = document.createElement('div');\n    var refreshButton = document.createElement('div');\n    buttonStyle += ';background-color:' + model.get('buttonColor');\n    buttonStyle += ';color:' + model.get('buttonTextColor');\n    var self = this;\n\n    function close() {\n      container.removeChild(root);\n      self._dom = null;\n    }\n\n    addEventListener(closeButton, 'click', close);\n    addEventListener(refreshButton, 'click', function () {\n      if (contentToOption == null && optionToContent != null || contentToOption != null && optionToContent == null) {\n        if (process.env.NODE_ENV !== 'production') {\n          // eslint-disable-next-line\n          console.warn('It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored.');\n        }\n\n        close();\n        return;\n      }\n\n      var newOption;\n\n      try {\n        if (zrUtil.isFunction(contentToOption)) {\n          newOption = contentToOption(viewMain, api.getOption());\n        } else {\n          newOption = parseContents(textarea.value, blockMetaList);\n        }\n      } catch (e) {\n        close();\n        throw new Error('Data view format error ' + e);\n      }\n\n      if (newOption) {\n        api.dispatchAction({\n          type: 'changeDataView',\n          newOption: newOption\n        });\n      }\n\n      close();\n    });\n    closeButton.innerHTML = lang[1];\n    refreshButton.innerHTML = lang[2];\n    refreshButton.style.cssText = buttonStyle;\n    closeButton.style.cssText = buttonStyle;\n    !model.get('readOnly') && buttonContainer.appendChild(refreshButton);\n    buttonContainer.appendChild(closeButton);\n    root.appendChild(header);\n    root.appendChild(viewMain);\n    root.appendChild(buttonContainer);\n    viewMain.style.height = container.clientHeight - 80 + 'px';\n    container.appendChild(root);\n    this._dom = root;\n  };\n\n  DataView.prototype.remove = function (ecModel, api) {\n    this._dom && api.getDom().removeChild(this._dom);\n  };\n\n  DataView.prototype.dispose = function (ecModel, api) {\n    this.remove(ecModel, api);\n  };\n\n  DataView.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      readOnly: false,\n      optionToContent: null,\n      contentToOption: null,\n      // eslint-disable-next-line\n      icon: 'M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28',\n      title: ecModel.getLocaleModel().get(['toolbox', 'dataView', 'title']),\n      lang: ecModel.getLocaleModel().get(['toolbox', 'dataView', 'lang']),\n      backgroundColor: '#fff',\n      textColor: '#000',\n      textareaColor: '#fff',\n      textareaBorderColor: '#333',\n      buttonColor: '#c23531',\n      buttonTextColor: '#fff'\n    };\n    return defaultOption;\n  };\n\n  return DataView;\n}(ToolboxFeature);\n/**\n * @inner\n */\n\n\nfunction tryMergeDataOption(newData, originalData) {\n  return zrUtil.map(newData, function (newVal, idx) {\n    var original = originalData && originalData[idx];\n\n    if (zrUtil.isObject(original) && !zrUtil.isArray(original)) {\n      var newValIsObject = zrUtil.isObject(newVal) && !zrUtil.isArray(newVal);\n\n      if (!newValIsObject) {\n        newVal = {\n          value: newVal\n        };\n      } // original data has name but new data has no name\n\n\n      var shouldDeleteName = original.name != null && newVal.name == null; // Original data has option\n\n      newVal = zrUtil.defaults(newVal, original);\n      shouldDeleteName && delete newVal.name;\n      return newVal;\n    } else {\n      return newVal;\n    }\n  });\n} // TODO: SELF REGISTERED.\n\n\necharts.registerAction({\n  type: 'changeDataView',\n  event: 'dataViewChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  var newSeriesOptList = [];\n  zrUtil.each(payload.newOption.series, function (seriesOpt) {\n    var seriesModel = ecModel.getSeriesByName(seriesOpt.name)[0];\n\n    if (!seriesModel) {\n      // New created series\n      // Geuss the series type\n      newSeriesOptList.push(zrUtil.extend({\n        // Default is scatter\n        type: 'scatter'\n      }, seriesOpt));\n    } else {\n      var originalData = seriesModel.get('data');\n      newSeriesOptList.push({\n        name: seriesOpt.name,\n        data: tryMergeDataOption(seriesOpt.data, originalData)\n      });\n    }\n  });\n  ecModel.mergeOption(zrUtil.defaults({\n    series: newSeriesOptList\n  }, payload.newOption));\n});\nexport default DataView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nvar each = zrUtil.each;\nvar inner = makeInner();\n/**\n * @param ecModel\n * @param newSnapshot key is dataZoomId\n */\n\nexport function push(ecModel, newSnapshot) {\n  var storedSnapshots = getStoreSnapshots(ecModel); // If previous dataZoom can not be found,\n  // complete an range with current range.\n\n  each(newSnapshot, function (batchItem, dataZoomId) {\n    var i = storedSnapshots.length - 1;\n\n    for (; i >= 0; i--) {\n      var snapshot = storedSnapshots[i];\n\n      if (snapshot[dataZoomId]) {\n        break;\n      }\n    }\n\n    if (i < 0) {\n      // No origin range set, create one by current range.\n      var dataZoomModel = ecModel.queryComponents({\n        mainType: 'dataZoom',\n        subType: 'select',\n        id: dataZoomId\n      })[0];\n\n      if (dataZoomModel) {\n        var percentRange = dataZoomModel.getPercentRange();\n        storedSnapshots[0][dataZoomId] = {\n          dataZoomId: dataZoomId,\n          start: percentRange[0],\n          end: percentRange[1]\n        };\n      }\n    }\n  });\n  storedSnapshots.push(newSnapshot);\n}\nexport function pop(ecModel) {\n  var storedSnapshots = getStoreSnapshots(ecModel);\n  var head = storedSnapshots[storedSnapshots.length - 1];\n  storedSnapshots.length > 1 && storedSnapshots.pop(); // Find top for all dataZoom.\n\n  var snapshot = {};\n  each(head, function (batchItem, dataZoomId) {\n    for (var i = storedSnapshots.length - 1; i >= 0; i--) {\n      batchItem = storedSnapshots[i][dataZoomId];\n\n      if (batchItem) {\n        snapshot[dataZoomId] = batchItem;\n        break;\n      }\n    }\n  });\n  return snapshot;\n}\nexport function clear(ecModel) {\n  inner(ecModel).snapshots = null;\n}\nexport function count(ecModel) {\n  return getStoreSnapshots(ecModel).length;\n}\n/**\n * History length of each dataZoom may be different.\n * this._history[0] is used to store origin range.\n */\n\nfunction getStoreSnapshots(ecModel) {\n  var store = inner(ecModel);\n\n  if (!store.snapshots) {\n    store.snapshots = [{}];\n  }\n\n  return store.snapshots;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as echarts from '../../../core/echarts.js';\nimport * as history from '../../dataZoom/history.js';\nimport { ToolboxFeature } from '../featureManager.js';\n\nvar RestoreOption =\n/** @class */\nfunction (_super) {\n  __extends(RestoreOption, _super);\n\n  function RestoreOption() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RestoreOption.prototype.onclick = function (ecModel, api) {\n    history.clear(ecModel);\n    api.dispatchAction({\n      type: 'restore',\n      from: this.uid\n    });\n  };\n\n  RestoreOption.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      // eslint-disable-next-line\n      icon: 'M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5',\n      title: ecModel.getLocaleModel().get(['toolbox', 'restore', 'title'])\n    };\n    return defaultOption;\n  };\n\n  return RestoreOption;\n}(ToolboxFeature); // TODO: SELF REGISTERED.\n\n\necharts.registerAction({\n  type: 'restore',\n  event: 'restore',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.resetOption('recreate');\n});\nexport default RestoreOption;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, indexOf, curry, assert, map, createHashMap } from 'zrender/lib/core/util.js';\nimport * as graphic from '../../util/graphic.js';\nimport * as brushHelper from './brushHelper.js';\nimport { parseFinder as modelUtilParseFinder } from '../../util/model.js'; // FIXME\n// how to genarialize to more coordinate systems.\n\nvar INCLUDE_FINDER_MAIN_TYPES = ['grid', 'xAxis', 'yAxis', 'geo', 'graph', 'polar', 'radiusAxis', 'angleAxis', 'bmap'];\n\nvar BrushTargetManager =\n/** @class */\nfunction () {\n  /**\n   * @param finder contains Index/Id/Name of xAxis/yAxis/geo/grid\n   *        Each can be {number|Array.<number>}. like: {xAxisIndex: [3, 4]}\n   * @param opt.include include coordinate system types.\n   */\n  function BrushTargetManager(finder, ecModel, opt) {\n    var _this = this;\n\n    this._targetInfoList = [];\n    var foundCpts = parseFinder(ecModel, finder);\n    each(targetInfoBuilders, function (builder, type) {\n      if (!opt || !opt.include || indexOf(opt.include, type) >= 0) {\n        builder(foundCpts, _this._targetInfoList);\n      }\n    });\n  }\n\n  BrushTargetManager.prototype.setOutputRanges = function (areas, ecModel) {\n    this.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n      (area.coordRanges || (area.coordRanges = [])).push(coordRange); // area.coordRange is the first of area.coordRanges\n\n      if (!area.coordRange) {\n        area.coordRange = coordRange; // In 'category' axis, coord to pixel is not reversible, so we can not\n        // rebuild range by coordRange accrately, which may bring trouble when\n        // brushing only one item. So we use __rangeOffset to rebuilding range\n        // by coordRange. And this it only used in brush component so it is no\n        // need to be adapted to coordRanges.\n\n        var result = coordConvert[area.brushType](0, coordSys, coordRange);\n        area.__rangeOffset = {\n          offset: diffProcessor[area.brushType](result.values, area.range, [1, 1]),\n          xyMinMax: result.xyMinMax\n        };\n      }\n    });\n    return areas;\n  };\n\n  BrushTargetManager.prototype.matchOutputRanges = function (areas, ecModel, cb) {\n    each(areas, function (area) {\n      var targetInfo = this.findTargetInfo(area, ecModel);\n\n      if (targetInfo && targetInfo !== true) {\n        each(targetInfo.coordSyses, function (coordSys) {\n          var result = coordConvert[area.brushType](1, coordSys, area.range, true);\n          cb(area, result.values, coordSys, ecModel);\n        });\n      }\n    }, this);\n  };\n  /**\n   * the `areas` is `BrushModel.areas`.\n   * Called in layout stage.\n   * convert `area.coordRange` to global range and set panelId to `area.range`.\n   */\n\n\n  BrushTargetManager.prototype.setInputRanges = function (areas, ecModel) {\n    each(areas, function (area) {\n      var targetInfo = this.findTargetInfo(area, ecModel);\n\n      if (process.env.NODE_ENV !== 'production') {\n        assert(!targetInfo || targetInfo === true || area.coordRange, 'coordRange must be specified when coord index specified.');\n        assert(!targetInfo || targetInfo !== true || area.range, 'range must be specified in global brush.');\n      }\n\n      area.range = area.range || []; // convert coordRange to global range and set panelId.\n\n      if (targetInfo && targetInfo !== true) {\n        area.panelId = targetInfo.panelId; // (1) area.range shoule always be calculate from coordRange but does\n        // not keep its original value, for the sake of the dataZoom scenario,\n        // where area.coordRange remains unchanged but area.range may be changed.\n        // (2) Only support converting one coordRange to pixel range in brush\n        // component. So do not consider `coordRanges`.\n        // (3) About __rangeOffset, see comment above.\n\n        var result = coordConvert[area.brushType](0, targetInfo.coordSys, area.coordRange);\n        var rangeOffset = area.__rangeOffset;\n        area.range = rangeOffset ? diffProcessor[area.brushType](result.values, rangeOffset.offset, getScales(result.xyMinMax, rangeOffset.xyMinMax)) : result.values;\n      }\n    }, this);\n  };\n\n  BrushTargetManager.prototype.makePanelOpts = function (api, getDefaultBrushType) {\n    return map(this._targetInfoList, function (targetInfo) {\n      var rect = targetInfo.getPanelRect();\n      return {\n        panelId: targetInfo.panelId,\n        defaultBrushType: getDefaultBrushType ? getDefaultBrushType(targetInfo) : null,\n        clipPath: brushHelper.makeRectPanelClipPath(rect),\n        isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, targetInfo.coordSysModel),\n        getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect)\n      };\n    });\n  };\n\n  BrushTargetManager.prototype.controlSeries = function (area, seriesModel, ecModel) {\n    // Check whether area is bound in coord, and series do not belong to that coord.\n    // If do not do this check, some brush (like lineX) will controll all axes.\n    var targetInfo = this.findTargetInfo(area, ecModel);\n    return targetInfo === true || targetInfo && indexOf(targetInfo.coordSyses, seriesModel.coordinateSystem) >= 0;\n  };\n  /**\n   * If return Object, a coord found.\n   * If reutrn true, global found.\n   * Otherwise nothing found.\n   */\n\n\n  BrushTargetManager.prototype.findTargetInfo = function (area, ecModel) {\n    var targetInfoList = this._targetInfoList;\n    var foundCpts = parseFinder(ecModel, area);\n\n    for (var i = 0; i < targetInfoList.length; i++) {\n      var targetInfo = targetInfoList[i];\n      var areaPanelId = area.panelId;\n\n      if (areaPanelId) {\n        if (targetInfo.panelId === areaPanelId) {\n          return targetInfo;\n        }\n      } else {\n        for (var j = 0; j < targetInfoMatchers.length; j++) {\n          if (targetInfoMatchers[j](foundCpts, targetInfo)) {\n            return targetInfo;\n          }\n        }\n      }\n    }\n\n    return true;\n  };\n\n  return BrushTargetManager;\n}();\n\nfunction formatMinMax(minMax) {\n  minMax[0] > minMax[1] && minMax.reverse();\n  return minMax;\n}\n\nfunction parseFinder(ecModel, finder) {\n  return modelUtilParseFinder(ecModel, finder, {\n    includeMainTypes: INCLUDE_FINDER_MAIN_TYPES\n  });\n}\n\nvar targetInfoBuilders = {\n  grid: function (foundCpts, targetInfoList) {\n    var xAxisModels = foundCpts.xAxisModels;\n    var yAxisModels = foundCpts.yAxisModels;\n    var gridModels = foundCpts.gridModels; // Remove duplicated.\n\n    var gridModelMap = createHashMap();\n    var xAxesHas = {};\n    var yAxesHas = {};\n\n    if (!xAxisModels && !yAxisModels && !gridModels) {\n      return;\n    }\n\n    each(xAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n    });\n    each(yAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      yAxesHas[gridModel.id] = true;\n    });\n    each(gridModels, function (gridModel) {\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n      yAxesHas[gridModel.id] = true;\n    });\n    gridModelMap.each(function (gridModel) {\n      var grid = gridModel.coordinateSystem;\n      var cartesians = [];\n      each(grid.getCartesians(), function (cartesian, index) {\n        if (indexOf(xAxisModels, cartesian.getAxis('x').model) >= 0 || indexOf(yAxisModels, cartesian.getAxis('y').model) >= 0) {\n          cartesians.push(cartesian);\n        }\n      });\n      targetInfoList.push({\n        panelId: 'grid--' + gridModel.id,\n        gridModel: gridModel,\n        coordSysModel: gridModel,\n        // Use the first one as the representitive coordSys.\n        coordSys: cartesians[0],\n        coordSyses: cartesians,\n        getPanelRect: panelRectBuilders.grid,\n        xAxisDeclared: xAxesHas[gridModel.id],\n        yAxisDeclared: yAxesHas[gridModel.id]\n      });\n    });\n  },\n  geo: function (foundCpts, targetInfoList) {\n    each(foundCpts.geoModels, function (geoModel) {\n      var coordSys = geoModel.coordinateSystem;\n      targetInfoList.push({\n        panelId: 'geo--' + geoModel.id,\n        geoModel: geoModel,\n        coordSysModel: geoModel,\n        coordSys: coordSys,\n        coordSyses: [coordSys],\n        getPanelRect: panelRectBuilders.geo\n      });\n    });\n  }\n};\nvar targetInfoMatchers = [// grid\nfunction (foundCpts, targetInfo) {\n  var xAxisModel = foundCpts.xAxisModel;\n  var yAxisModel = foundCpts.yAxisModel;\n  var gridModel = foundCpts.gridModel;\n  !gridModel && xAxisModel && (gridModel = xAxisModel.axis.grid.model);\n  !gridModel && yAxisModel && (gridModel = yAxisModel.axis.grid.model);\n  return gridModel && gridModel === targetInfo.gridModel;\n}, // geo\nfunction (foundCpts, targetInfo) {\n  var geoModel = foundCpts.geoModel;\n  return geoModel && geoModel === targetInfo.geoModel;\n}];\nvar panelRectBuilders = {\n  grid: function () {\n    // grid is not Transformable.\n    return this.coordSys.master.getRect().clone();\n  },\n  geo: function () {\n    var coordSys = this.coordSys;\n    var rect = coordSys.getBoundingRect().clone(); // geo roam and zoom transform\n\n    rect.applyTransform(graphic.getTransform(coordSys));\n    return rect;\n  }\n};\nvar coordConvert = {\n  lineX: curry(axisConvert, 0),\n  lineY: curry(axisConvert, 1),\n  rect: function (to, coordSys, rangeOrCoordRange, clamp) {\n    var xminymin = to ? coordSys.pointToData([rangeOrCoordRange[0][0], rangeOrCoordRange[1][0]], clamp) : coordSys.dataToPoint([rangeOrCoordRange[0][0], rangeOrCoordRange[1][0]], clamp);\n    var xmaxymax = to ? coordSys.pointToData([rangeOrCoordRange[0][1], rangeOrCoordRange[1][1]], clamp) : coordSys.dataToPoint([rangeOrCoordRange[0][1], rangeOrCoordRange[1][1]], clamp);\n    var values = [formatMinMax([xminymin[0], xmaxymax[0]]), formatMinMax([xminymin[1], xmaxymax[1]])];\n    return {\n      values: values,\n      xyMinMax: values\n    };\n  },\n  polygon: function (to, coordSys, rangeOrCoordRange, clamp) {\n    var xyMinMax = [[Infinity, -Infinity], [Infinity, -Infinity]];\n    var values = map(rangeOrCoordRange, function (item) {\n      var p = to ? coordSys.pointToData(item, clamp) : coordSys.dataToPoint(item, clamp);\n      xyMinMax[0][0] = Math.min(xyMinMax[0][0], p[0]);\n      xyMinMax[1][0] = Math.min(xyMinMax[1][0], p[1]);\n      xyMinMax[0][1] = Math.max(xyMinMax[0][1], p[0]);\n      xyMinMax[1][1] = Math.max(xyMinMax[1][1], p[1]);\n      return p;\n    });\n    return {\n      values: values,\n      xyMinMax: xyMinMax\n    };\n  }\n};\n\nfunction axisConvert(axisNameIndex, to, coordSys, rangeOrCoordRange) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert(coordSys.type === 'cartesian2d', 'lineX/lineY brush is available only in cartesian2d.');\n  }\n\n  var axis = coordSys.getAxis(['x', 'y'][axisNameIndex]);\n  var values = formatMinMax(map([0, 1], function (i) {\n    return to ? axis.coordToData(axis.toLocalCoord(rangeOrCoordRange[i]), true) : axis.toGlobalCoord(axis.dataToCoord(rangeOrCoordRange[i]));\n  }));\n  var xyMinMax = [];\n  xyMinMax[axisNameIndex] = values;\n  xyMinMax[1 - axisNameIndex] = [NaN, NaN];\n  return {\n    values: values,\n    xyMinMax: xyMinMax\n  };\n}\n\nvar diffProcessor = {\n  lineX: curry(axisDiffProcessor, 0),\n  lineY: curry(axisDiffProcessor, 1),\n  rect: function (values, refer, scales) {\n    return [[values[0][0] - scales[0] * refer[0][0], values[0][1] - scales[0] * refer[0][1]], [values[1][0] - scales[1] * refer[1][0], values[1][1] - scales[1] * refer[1][1]]];\n  },\n  polygon: function (values, refer, scales) {\n    return map(values, function (item, idx) {\n      return [item[0] - scales[0] * refer[idx][0], item[1] - scales[1] * refer[idx][1]];\n    });\n  }\n};\n\nfunction axisDiffProcessor(axisNameIndex, values, refer, scales) {\n  return [values[0] - scales[axisNameIndex] * refer[0], values[1] - scales[axisNameIndex] * refer[1]];\n} // We have to process scale caused by dataZoom manually,\n// although it might be not accurate.\n// Return [0~1, 0~1]\n\n\nfunction getScales(xyMinMaxCurr, xyMinMaxOrigin) {\n  var sizeCurr = getSize(xyMinMaxCurr);\n  var sizeOrigin = getSize(xyMinMaxOrigin);\n  var scales = [sizeCurr[0] / sizeOrigin[0], sizeCurr[1] / sizeOrigin[1]];\n  isNaN(scales[0]) && (scales[0] = 1);\n  isNaN(scales[1]) && (scales[1] = 1);\n  return scales;\n}\n\nfunction getSize(xyMinMax) {\n  return xyMinMax ? [xyMinMax[0][1] - xyMinMax[0][0], xyMinMax[1][1] - xyMinMax[1][0]] : [NaN, NaN];\n}\n\nexport default BrushTargetManager;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\"; // TODO depends on DataZoom and Brush\n\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport BrushController from '../../helper/BrushController.js';\nimport BrushTargetManager from '../../helper/BrushTargetManager.js';\nimport * as history from '../../dataZoom/history.js';\nimport sliderMove from '../../helper/sliderMove.js';\nimport { ToolboxFeature } from '../featureManager.js';\nimport { makeInternalComponentId, parseFinder } from '../../../util/model.js';\nimport { registerInternalOptionCreator } from '../../../model/internalComponentCreator.js';\nvar each = zrUtil.each;\nvar DATA_ZOOM_ID_BASE = makeInternalComponentId('toolbox-dataZoom_');\nvar ICON_TYPES = ['zoom', 'back'];\n\nvar DataZoomFeature =\n/** @class */\nfunction (_super) {\n  __extends(DataZoomFeature, _super);\n\n  function DataZoomFeature() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DataZoomFeature.prototype.render = function (featureModel, ecModel, api, payload) {\n    if (!this._brushController) {\n      this._brushController = new BrushController(api.getZr());\n\n      this._brushController.on('brush', zrUtil.bind(this._onBrush, this)).mount();\n    }\n\n    updateZoomBtnStatus(featureModel, ecModel, this, payload, api);\n    updateBackBtnStatus(featureModel, ecModel);\n  };\n\n  DataZoomFeature.prototype.onclick = function (ecModel, api, type) {\n    handlers[type].call(this);\n  };\n\n  DataZoomFeature.prototype.remove = function (ecModel, api) {\n    this._brushController && this._brushController.unmount();\n  };\n\n  DataZoomFeature.prototype.dispose = function (ecModel, api) {\n    this._brushController && this._brushController.dispose();\n  };\n\n  DataZoomFeature.prototype._onBrush = function (eventParam) {\n    var areas = eventParam.areas;\n\n    if (!eventParam.isEnd || !areas.length) {\n      return;\n    }\n\n    var snapshot = {};\n    var ecModel = this.ecModel;\n\n    this._brushController.updateCovers([]); // remove cover\n\n\n    var brushTargetManager = new BrushTargetManager(makeAxisFinder(this.model), ecModel, {\n      include: ['grid']\n    });\n    brushTargetManager.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n      if (coordSys.type !== 'cartesian2d') {\n        return;\n      }\n\n      var brushType = area.brushType;\n\n      if (brushType === 'rect') {\n        setBatch('x', coordSys, coordRange[0]);\n        setBatch('y', coordSys, coordRange[1]);\n      } else {\n        setBatch({\n          lineX: 'x',\n          lineY: 'y'\n        }[brushType], coordSys, coordRange);\n      }\n    });\n    history.push(ecModel, snapshot);\n\n    this._dispatchZoomAction(snapshot);\n\n    function setBatch(dimName, coordSys, minMax) {\n      var axis = coordSys.getAxis(dimName);\n      var axisModel = axis.model;\n      var dataZoomModel = findDataZoom(dimName, axisModel, ecModel); // Restrict range.\n\n      var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();\n\n      if (minMaxSpan.minValueSpan != null || minMaxSpan.maxValueSpan != null) {\n        minMax = sliderMove(0, minMax.slice(), axis.scale.getExtent(), 0, minMaxSpan.minValueSpan, minMaxSpan.maxValueSpan);\n      }\n\n      dataZoomModel && (snapshot[dataZoomModel.id] = {\n        dataZoomId: dataZoomModel.id,\n        startValue: minMax[0],\n        endValue: minMax[1]\n      });\n    }\n\n    function findDataZoom(dimName, axisModel, ecModel) {\n      var found;\n      ecModel.eachComponent({\n        mainType: 'dataZoom',\n        subType: 'select'\n      }, function (dzModel) {\n        var has = dzModel.getAxisModel(dimName, axisModel.componentIndex);\n        has && (found = dzModel);\n      });\n      return found;\n    }\n  };\n\n  ;\n\n  DataZoomFeature.prototype._dispatchZoomAction = function (snapshot) {\n    var batch = []; // Convert from hash map to array.\n\n    each(snapshot, function (batchItem, dataZoomId) {\n      batch.push(zrUtil.clone(batchItem));\n    });\n    batch.length && this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      batch: batch\n    });\n  };\n\n  DataZoomFeature.getDefaultOption = function (ecModel) {\n    var defaultOption = {\n      show: true,\n      filterMode: 'filter',\n      // Icon group\n      icon: {\n        zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1',\n        back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26'\n      },\n      // `zoom`, `back`\n      title: ecModel.getLocaleModel().get(['toolbox', 'dataZoom', 'title']),\n      brushStyle: {\n        borderWidth: 0,\n        color: 'rgba(210,219,238,0.2)'\n      }\n    };\n    return defaultOption;\n  };\n\n  return DataZoomFeature;\n}(ToolboxFeature);\n\nvar handlers = {\n  zoom: function () {\n    var nextActive = !this._isZoomActive;\n    this.api.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'dataZoomSelect',\n      dataZoomSelectActive: nextActive\n    });\n  },\n  back: function () {\n    this._dispatchZoomAction(history.pop(this.ecModel));\n  }\n};\n\nfunction makeAxisFinder(dzFeatureModel) {\n  var setting = {\n    xAxisIndex: dzFeatureModel.get('xAxisIndex', true),\n    yAxisIndex: dzFeatureModel.get('yAxisIndex', true),\n    xAxisId: dzFeatureModel.get('xAxisId', true),\n    yAxisId: dzFeatureModel.get('yAxisId', true)\n  }; // If both `xAxisIndex` `xAxisId` not set, it means 'all'.\n  // If both `yAxisIndex` `yAxisId` not set, it means 'all'.\n  // Some old cases set like this below to close yAxis control but leave xAxis control:\n  // `{ feature: { dataZoom: { yAxisIndex: false } }`.\n\n  if (setting.xAxisIndex == null && setting.xAxisId == null) {\n    setting.xAxisIndex = 'all';\n  }\n\n  if (setting.yAxisIndex == null && setting.yAxisId == null) {\n    setting.yAxisIndex = 'all';\n  }\n\n  return setting;\n}\n\nfunction updateBackBtnStatus(featureModel, ecModel) {\n  featureModel.setIconStatus('back', history.count(ecModel) > 1 ? 'emphasis' : 'normal');\n}\n\nfunction updateZoomBtnStatus(featureModel, ecModel, view, payload, api) {\n  var zoomActive = view._isZoomActive;\n\n  if (payload && payload.type === 'takeGlobalCursor') {\n    zoomActive = payload.key === 'dataZoomSelect' ? payload.dataZoomSelectActive : false;\n  }\n\n  view._isZoomActive = zoomActive;\n  featureModel.setIconStatus('zoom', zoomActive ? 'emphasis' : 'normal');\n  var brushTargetManager = new BrushTargetManager(makeAxisFinder(featureModel), ecModel, {\n    include: ['grid']\n  });\n  var panels = brushTargetManager.makePanelOpts(api, function (targetInfo) {\n    return targetInfo.xAxisDeclared && !targetInfo.yAxisDeclared ? 'lineX' : !targetInfo.xAxisDeclared && targetInfo.yAxisDeclared ? 'lineY' : 'rect';\n  });\n\n  view._brushController.setPanels(panels).enableBrush(zoomActive && panels.length ? {\n    brushType: 'auto',\n    brushStyle: featureModel.getModel('brushStyle').getItemStyle()\n  } : false);\n}\n\nregisterInternalOptionCreator('dataZoom', function (ecModel) {\n  var toolboxModel = ecModel.getComponent('toolbox', 0);\n  var featureDataZoomPath = ['feature', 'dataZoom'];\n\n  if (!toolboxModel || toolboxModel.get(featureDataZoomPath) == null) {\n    return;\n  }\n\n  var dzFeatureModel = toolboxModel.getModel(featureDataZoomPath);\n  var dzOptions = [];\n  var finder = makeAxisFinder(dzFeatureModel);\n  var finderResult = parseFinder(ecModel, finder);\n  each(finderResult.xAxisModels, function (axisModel) {\n    return buildInternalOptions(axisModel, 'xAxis', 'xAxisIndex');\n  });\n  each(finderResult.yAxisModels, function (axisModel) {\n    return buildInternalOptions(axisModel, 'yAxis', 'yAxisIndex');\n  });\n\n  function buildInternalOptions(axisModel, axisMainType, axisIndexPropName) {\n    var axisIndex = axisModel.componentIndex;\n    var newOpt = {\n      type: 'select',\n      $fromToolbox: true,\n      // Default to be filter\n      filterMode: dzFeatureModel.get('filterMode', true) || 'filter',\n      // Id for merge mapping.\n      id: DATA_ZOOM_ID_BASE + axisMainType + axisIndex\n    };\n    newOpt[axisIndexPropName] = axisIndex;\n    dzOptions.push(newOpt);\n  }\n\n  return dzOptions;\n});\nexport default DataZoomFeature;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../../extension.js';\nimport { install as installDataZoomSelect } from '../../component/dataZoom/installDataZoomSelect.js';\nimport ToolboxModel from './ToolboxModel.js';\nimport ToolboxView from './ToolboxView.js'; // TODOD: REGISTER IN INSTALL\n\nimport { registerFeature } from './featureManager.js';\nimport SaveAsImage from './feature/SaveAsImage.js';\nimport MagicType from './feature/MagicType.js';\nimport DataView from './feature/DataView.js';\nimport Restore from './feature/Restore.js';\nimport DataZoom from './feature/DataZoom.js';\nexport function install(registers) {\n  registers.registerComponentModel(ToolboxModel);\n  registers.registerComponentView(ToolboxView);\n  registerFeature('saveAsImage', SaveAsImage);\n  registerFeature('magicType', MagicType);\n  registerFeature('dataView', DataView);\n  registerFeature('dataZoom', DataZoom);\n  registerFeature('restore', Restore);\n  use(installDataZoomSelect);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentModel from '../../model/Component.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport { each, isObject, clone } from 'zrender/lib/core/util.js';\nimport { convertOptionIdName, getDataItemValue } from '../../util/model.js';\n\nvar TimelineModel =\n/** @class */\nfunction (_super) {\n  __extends(TimelineModel, _super);\n\n  function TimelineModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = TimelineModel.type;\n    _this.layoutMode = 'box';\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  TimelineModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n\n    this._initData();\n  };\n  /**\n   * @override\n   */\n\n\n  TimelineModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n\n    this._initData();\n  };\n\n  TimelineModel.prototype.setCurrentIndex = function (currentIndex) {\n    if (currentIndex == null) {\n      currentIndex = this.option.currentIndex;\n    }\n\n    var count = this._data.count();\n\n    if (this.option.loop) {\n      currentIndex = (currentIndex % count + count) % count;\n    } else {\n      currentIndex >= count && (currentIndex = count - 1);\n      currentIndex < 0 && (currentIndex = 0);\n    }\n\n    this.option.currentIndex = currentIndex;\n  };\n  /**\n   * @return {number} currentIndex\n   */\n\n\n  TimelineModel.prototype.getCurrentIndex = function () {\n    return this.option.currentIndex;\n  };\n  /**\n   * @return {boolean}\n   */\n\n\n  TimelineModel.prototype.isIndexMax = function () {\n    return this.getCurrentIndex() >= this._data.count() - 1;\n  };\n  /**\n   * @param {boolean} state true: play, false: stop\n   */\n\n\n  TimelineModel.prototype.setPlayState = function (state) {\n    this.option.autoPlay = !!state;\n  };\n  /**\n   * @return {boolean} true: play, false: stop\n   */\n\n\n  TimelineModel.prototype.getPlayState = function () {\n    return !!this.option.autoPlay;\n  };\n  /**\n   * @private\n   */\n\n\n  TimelineModel.prototype._initData = function () {\n    var thisOption = this.option;\n    var dataArr = thisOption.data || [];\n    var axisType = thisOption.axisType;\n    var names = this._names = [];\n    var processedDataArr;\n\n    if (axisType === 'category') {\n      processedDataArr = [];\n      each(dataArr, function (item, index) {\n        var value = convertOptionIdName(getDataItemValue(item), '');\n        var newItem;\n\n        if (isObject(item)) {\n          newItem = clone(item);\n          newItem.value = index;\n        } else {\n          newItem = index;\n        }\n\n        processedDataArr.push(newItem);\n        names.push(value);\n      });\n    } else {\n      processedDataArr = dataArr;\n    }\n\n    var dimType = {\n      category: 'ordinal',\n      time: 'time',\n      value: 'number'\n    }[axisType] || 'number';\n    var data = this._data = new SeriesData([{\n      name: 'value',\n      type: dimType\n    }], this);\n    data.initData(processedDataArr, names);\n  };\n\n  TimelineModel.prototype.getData = function () {\n    return this._data;\n  };\n  /**\n   * @public\n   * @return {Array.<string>} categoreis\n   */\n\n\n  TimelineModel.prototype.getCategories = function () {\n    if (this.get('axisType') === 'category') {\n      return this._names.slice();\n    }\n  };\n\n  TimelineModel.type = 'timeline';\n  /**\n   * @protected\n   */\n\n  TimelineModel.defaultOption = {\n    // zlevel: 0,                  // 一级层叠\n    z: 4,\n    show: true,\n    axisType: 'time',\n    realtime: true,\n    left: '20%',\n    top: null,\n    right: '20%',\n    bottom: 0,\n    width: null,\n    height: 40,\n    padding: 5,\n    controlPosition: 'left',\n    autoPlay: false,\n    rewind: false,\n    loop: true,\n    playInterval: 2000,\n    currentIndex: 0,\n    itemStyle: {},\n    label: {\n      color: '#000'\n    },\n    data: []\n  };\n  return TimelineModel;\n}(ComponentModel);\n\nexport default TimelineModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport TimelineModel from './TimelineModel.js';\nimport { DataFormatMixin } from '../../model/mixin/dataFormat.js';\nimport { mixin } from 'zrender/lib/core/util.js';\nimport { inheritDefaultOption } from '../../util/component.js';\n\nvar SliderTimelineModel =\n/** @class */\nfunction (_super) {\n  __extends(SliderTimelineModel, _super);\n\n  function SliderTimelineModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SliderTimelineModel.type;\n    return _this;\n  }\n\n  SliderTimelineModel.type = 'timeline.slider';\n  /**\n   * @protected\n   */\n\n  SliderTimelineModel.defaultOption = inheritDefaultOption(TimelineModel.defaultOption, {\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    borderWidth: 0,\n    orient: 'horizontal',\n    inverse: false,\n    tooltip: {\n      trigger: 'item' // data item may also have tootip attr.\n\n    },\n    symbol: 'circle',\n    symbolSize: 12,\n    lineStyle: {\n      show: true,\n      width: 2,\n      color: '#DAE1F5'\n    },\n    label: {\n      position: 'auto',\n      // When using number, label position is not\n      // restricted by viewRect.\n      // positive: right/bottom, negative: left/top\n      show: true,\n      interval: 'auto',\n      rotate: 0,\n      // formatter: null,\n      // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n      color: '#A4B1D7'\n    },\n    itemStyle: {\n      color: '#A4B1D7',\n      borderWidth: 1\n    },\n    checkpointStyle: {\n      symbol: 'circle',\n      symbolSize: 15,\n      color: '#316bf3',\n      borderColor: '#fff',\n      borderWidth: 2,\n      shadowBlur: 2,\n      shadowOffsetX: 1,\n      shadowOffsetY: 1,\n      shadowColor: 'rgba(0, 0, 0, 0.3)',\n      // borderColor: 'rgba(194,53,49, 0.5)',\n      animation: true,\n      animationDuration: 300,\n      animationEasing: 'quinticInOut'\n    },\n    controlStyle: {\n      show: true,\n      showPlayBtn: true,\n      showPrevBtn: true,\n      showNextBtn: true,\n      itemSize: 24,\n      itemGap: 12,\n      position: 'left',\n      playIcon: 'path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z',\n      stopIcon: 'path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z',\n      // eslint-disable-next-line max-len\n      nextIcon: 'M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z',\n      // eslint-disable-next-line max-len\n      prevIcon: 'M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z',\n      prevBtnSize: 18,\n      nextBtnSize: 18,\n      color: '#A4B1D7',\n      borderColor: '#A4B1D7',\n      borderWidth: 1\n    },\n    emphasis: {\n      label: {\n        show: true,\n        // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n        color: '#6f778d'\n      },\n      itemStyle: {\n        color: '#316BF3'\n      },\n      controlStyle: {\n        color: '#316BF3',\n        borderColor: '#316BF3',\n        borderWidth: 2\n      }\n    },\n    progress: {\n      lineStyle: {\n        color: '#316BF3'\n      },\n      itemStyle: {\n        color: '#316BF3'\n      },\n      label: {\n        color: '#6f778d'\n      }\n    },\n    data: []\n  });\n  return SliderTimelineModel;\n}(TimelineModel);\n\nmixin(SliderTimelineModel, DataFormatMixin.prototype);\nexport default SliderTimelineModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport ComponentView from '../../view/Component.js';\n\nvar TimelineView =\n/** @class */\nfunction (_super) {\n  __extends(TimelineView, _super);\n\n  function TimelineView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = TimelineView.type;\n    return _this;\n  }\n\n  TimelineView.type = 'timeline';\n  return TimelineView;\n}(ComponentView);\n\nexport default TimelineView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Axis from '../../coord/Axis.js';\n/**\n * Extend axis 2d\n */\n\nvar TimelineAxis =\n/** @class */\nfunction (_super) {\n  __extends(TimelineAxis, _super);\n\n  function TimelineAxis(dim, scale, coordExtent, axisType) {\n    var _this = _super.call(this, dim, scale, coordExtent) || this;\n\n    _this.type = axisType || 'value';\n    return _this;\n  }\n  /**\n   * @override\n   */\n\n\n  TimelineAxis.prototype.getLabelModel = function () {\n    // Force override\n    return this.model.getModel('label');\n  };\n  /**\n   * @override\n   */\n\n\n  TimelineAxis.prototype.isHorizontal = function () {\n    return this.model.get('orient') === 'horizontal';\n  };\n\n  return TimelineAxis;\n}(Axis);\n\nexport default TimelineAxis;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport * as graphic from '../../util/graphic.js';\nimport { createTextStyle } from '../../label/labelStyle.js';\nimport * as layout from '../../util/layout.js';\nimport TimelineView from './TimelineView.js';\nimport TimelineAxis from './TimelineAxis.js';\nimport { createSymbol, normalizeSymbolOffset, normalizeSymbolSize } from '../../util/symbol.js';\nimport * as numberUtil from '../../util/number.js';\nimport { merge, each, extend, isString, bind, defaults, retrieve2 } from 'zrender/lib/core/util.js';\nimport OrdinalScale from '../../scale/Ordinal.js';\nimport TimeScale from '../../scale/Time.js';\nimport IntervalScale from '../../scale/Interval.js';\nimport { parsePercent } from 'zrender/lib/contain/text.js';\nimport { makeInner } from '../../util/model.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { enableHoverEmphasis } from '../../util/states.js';\nimport { createTooltipMarkup } from '../tooltip/tooltipMarkup.js';\nvar PI = Math.PI;\nvar labelDataIndexStore = makeInner();\n\nvar SliderTimelineView =\n/** @class */\nfunction (_super) {\n  __extends(SliderTimelineView, _super);\n\n  function SliderTimelineView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SliderTimelineView.type;\n    return _this;\n  }\n\n  SliderTimelineView.prototype.init = function (ecModel, api) {\n    this.api = api;\n  };\n  /**\n   * @override\n   */\n\n\n  SliderTimelineView.prototype.render = function (timelineModel, ecModel, api) {\n    this.model = timelineModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    this.group.removeAll();\n\n    if (timelineModel.get('show', true)) {\n      var layoutInfo_1 = this._layout(timelineModel, api);\n\n      var mainGroup_1 = this._createGroup('_mainGroup');\n\n      var labelGroup = this._createGroup('_labelGroup');\n\n      var axis_1 = this._axis = this._createAxis(layoutInfo_1, timelineModel);\n\n      timelineModel.formatTooltip = function (dataIndex) {\n        var name = axis_1.scale.getLabel({\n          value: dataIndex\n        });\n        return createTooltipMarkup('nameValue', {\n          noName: true,\n          value: name\n        });\n      };\n\n      each(['AxisLine', 'AxisTick', 'Control', 'CurrentPointer'], function (name) {\n        this['_render' + name](layoutInfo_1, mainGroup_1, axis_1, timelineModel);\n      }, this);\n\n      this._renderAxisLabel(layoutInfo_1, labelGroup, axis_1, timelineModel);\n\n      this._position(layoutInfo_1, timelineModel);\n    }\n\n    this._doPlayStop();\n\n    this._updateTicksStatus();\n  };\n  /**\n   * @override\n   */\n\n\n  SliderTimelineView.prototype.remove = function () {\n    this._clearTimer();\n\n    this.group.removeAll();\n  };\n  /**\n   * @override\n   */\n\n\n  SliderTimelineView.prototype.dispose = function () {\n    this._clearTimer();\n  };\n\n  SliderTimelineView.prototype._layout = function (timelineModel, api) {\n    var labelPosOpt = timelineModel.get(['label', 'position']);\n    var orient = timelineModel.get('orient');\n    var viewRect = getViewRect(timelineModel, api);\n    var parsedLabelPos; // Auto label offset.\n\n    if (labelPosOpt == null || labelPosOpt === 'auto') {\n      parsedLabelPos = orient === 'horizontal' ? viewRect.y + viewRect.height / 2 < api.getHeight() / 2 ? '-' : '+' : viewRect.x + viewRect.width / 2 < api.getWidth() / 2 ? '+' : '-';\n    } else if (isString(labelPosOpt)) {\n      parsedLabelPos = {\n        horizontal: {\n          top: '-',\n          bottom: '+'\n        },\n        vertical: {\n          left: '-',\n          right: '+'\n        }\n      }[orient][labelPosOpt];\n    } else {\n      // is number\n      parsedLabelPos = labelPosOpt;\n    }\n\n    var labelAlignMap = {\n      horizontal: 'center',\n      vertical: parsedLabelPos >= 0 || parsedLabelPos === '+' ? 'left' : 'right'\n    };\n    var labelBaselineMap = {\n      horizontal: parsedLabelPos >= 0 || parsedLabelPos === '+' ? 'top' : 'bottom',\n      vertical: 'middle'\n    };\n    var rotationMap = {\n      horizontal: 0,\n      vertical: PI / 2\n    }; // Position\n\n    var mainLength = orient === 'vertical' ? viewRect.height : viewRect.width;\n    var controlModel = timelineModel.getModel('controlStyle');\n    var showControl = controlModel.get('show', true);\n    var controlSize = showControl ? controlModel.get('itemSize') : 0;\n    var controlGap = showControl ? controlModel.get('itemGap') : 0;\n    var sizePlusGap = controlSize + controlGap; // Special label rotate.\n\n    var labelRotation = timelineModel.get(['label', 'rotate']) || 0;\n    labelRotation = labelRotation * PI / 180; // To radian.\n\n    var playPosition;\n    var prevBtnPosition;\n    var nextBtnPosition;\n    var controlPosition = controlModel.get('position', true);\n    var showPlayBtn = showControl && controlModel.get('showPlayBtn', true);\n    var showPrevBtn = showControl && controlModel.get('showPrevBtn', true);\n    var showNextBtn = showControl && controlModel.get('showNextBtn', true);\n    var xLeft = 0;\n    var xRight = mainLength; // position[0] means left, position[1] means middle.\n\n    if (controlPosition === 'left' || controlPosition === 'bottom') {\n      showPlayBtn && (playPosition = [0, 0], xLeft += sizePlusGap);\n      showPrevBtn && (prevBtnPosition = [xLeft, 0], xLeft += sizePlusGap);\n      showNextBtn && (nextBtnPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n    } else {\n      // 'top' 'right'\n      showPlayBtn && (playPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n      showPrevBtn && (prevBtnPosition = [0, 0], xLeft += sizePlusGap);\n      showNextBtn && (nextBtnPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n    }\n\n    var axisExtent = [xLeft, xRight];\n\n    if (timelineModel.get('inverse')) {\n      axisExtent.reverse();\n    }\n\n    return {\n      viewRect: viewRect,\n      mainLength: mainLength,\n      orient: orient,\n      rotation: rotationMap[orient],\n      labelRotation: labelRotation,\n      labelPosOpt: parsedLabelPos,\n      labelAlign: timelineModel.get(['label', 'align']) || labelAlignMap[orient],\n      labelBaseline: timelineModel.get(['label', 'verticalAlign']) || timelineModel.get(['label', 'baseline']) || labelBaselineMap[orient],\n      // Based on mainGroup.\n      playPosition: playPosition,\n      prevBtnPosition: prevBtnPosition,\n      nextBtnPosition: nextBtnPosition,\n      axisExtent: axisExtent,\n      controlSize: controlSize,\n      controlGap: controlGap\n    };\n  };\n\n  SliderTimelineView.prototype._position = function (layoutInfo, timelineModel) {\n    // Position is be called finally, because bounding rect is needed for\n    // adapt content to fill viewRect (auto adapt offset).\n    // Timeline may be not all in the viewRect when 'offset' is specified\n    // as a number, because it is more appropriate that label aligns at\n    // 'offset' but not the other edge defined by viewRect.\n    var mainGroup = this._mainGroup;\n    var labelGroup = this._labelGroup;\n    var viewRect = layoutInfo.viewRect;\n\n    if (layoutInfo.orient === 'vertical') {\n      // transform to horizontal, inverse rotate by left-top point.\n      var m = matrix.create();\n      var rotateOriginX = viewRect.x;\n      var rotateOriginY = viewRect.y + viewRect.height;\n      matrix.translate(m, m, [-rotateOriginX, -rotateOriginY]);\n      matrix.rotate(m, m, -PI / 2);\n      matrix.translate(m, m, [rotateOriginX, rotateOriginY]);\n      viewRect = viewRect.clone();\n      viewRect.applyTransform(m);\n    }\n\n    var viewBound = getBound(viewRect);\n    var mainBound = getBound(mainGroup.getBoundingRect());\n    var labelBound = getBound(labelGroup.getBoundingRect());\n    var mainPosition = [mainGroup.x, mainGroup.y];\n    var labelsPosition = [labelGroup.x, labelGroup.y];\n    labelsPosition[0] = mainPosition[0] = viewBound[0][0];\n    var labelPosOpt = layoutInfo.labelPosOpt;\n\n    if (labelPosOpt == null || isString(labelPosOpt)) {\n      // '+' or '-'\n      var mainBoundIdx = labelPosOpt === '+' ? 0 : 1;\n      toBound(mainPosition, mainBound, viewBound, 1, mainBoundIdx);\n      toBound(labelsPosition, labelBound, viewBound, 1, 1 - mainBoundIdx);\n    } else {\n      var mainBoundIdx = labelPosOpt >= 0 ? 0 : 1;\n      toBound(mainPosition, mainBound, viewBound, 1, mainBoundIdx);\n      labelsPosition[1] = mainPosition[1] + labelPosOpt;\n    }\n\n    mainGroup.setPosition(mainPosition);\n    labelGroup.setPosition(labelsPosition);\n    mainGroup.rotation = labelGroup.rotation = layoutInfo.rotation;\n    setOrigin(mainGroup);\n    setOrigin(labelGroup);\n\n    function setOrigin(targetGroup) {\n      targetGroup.originX = viewBound[0][0] - targetGroup.x;\n      targetGroup.originY = viewBound[1][0] - targetGroup.y;\n    }\n\n    function getBound(rect) {\n      // [[xmin, xmax], [ymin, ymax]]\n      return [[rect.x, rect.x + rect.width], [rect.y, rect.y + rect.height]];\n    }\n\n    function toBound(fromPos, from, to, dimIdx, boundIdx) {\n      fromPos[dimIdx] += to[dimIdx][boundIdx] - from[dimIdx][boundIdx];\n    }\n  };\n\n  SliderTimelineView.prototype._createAxis = function (layoutInfo, timelineModel) {\n    var data = timelineModel.getData();\n    var axisType = timelineModel.get('axisType');\n    var scale = createScaleByModel(timelineModel, axisType); // Customize scale. The `tickValue` is `dataIndex`.\n\n    scale.getTicks = function () {\n      return data.mapArray(['value'], function (value) {\n        return {\n          value: value\n        };\n      });\n    };\n\n    var dataExtent = data.getDataExtent('value');\n    scale.setExtent(dataExtent[0], dataExtent[1]);\n    scale.calcNiceTicks();\n    var axis = new TimelineAxis('value', scale, layoutInfo.axisExtent, axisType);\n    axis.model = timelineModel;\n    return axis;\n  };\n\n  SliderTimelineView.prototype._createGroup = function (key) {\n    var newGroup = this[key] = new graphic.Group();\n    this.group.add(newGroup);\n    return newGroup;\n  };\n\n  SliderTimelineView.prototype._renderAxisLine = function (layoutInfo, group, axis, timelineModel) {\n    var axisExtent = axis.getExtent();\n\n    if (!timelineModel.get(['lineStyle', 'show'])) {\n      return;\n    }\n\n    var line = new graphic.Line({\n      shape: {\n        x1: axisExtent[0],\n        y1: 0,\n        x2: axisExtent[1],\n        y2: 0\n      },\n      style: extend({\n        lineCap: 'round'\n      }, timelineModel.getModel('lineStyle').getLineStyle()),\n      silent: true,\n      z2: 1\n    });\n    group.add(line);\n    var progressLine = this._progressLine = new graphic.Line({\n      shape: {\n        x1: axisExtent[0],\n        x2: this._currentPointer ? this._currentPointer.x : axisExtent[0],\n        y1: 0,\n        y2: 0\n      },\n      style: defaults({\n        lineCap: 'round',\n        lineWidth: line.style.lineWidth\n      }, timelineModel.getModel(['progress', 'lineStyle']).getLineStyle()),\n      silent: true,\n      z2: 1\n    });\n    group.add(progressLine);\n  };\n\n  SliderTimelineView.prototype._renderAxisTick = function (layoutInfo, group, axis, timelineModel) {\n    var _this = this;\n\n    var data = timelineModel.getData(); // Show all ticks, despite ignoring strategy.\n\n    var ticks = axis.scale.getTicks();\n    this._tickSymbols = []; // The value is dataIndex, see the costomized scale.\n\n    each(ticks, function (tick) {\n      var tickCoord = axis.dataToCoord(tick.value);\n      var itemModel = data.getItemModel(tick.value);\n      var itemStyleModel = itemModel.getModel('itemStyle');\n      var hoverStyleModel = itemModel.getModel(['emphasis', 'itemStyle']);\n      var progressStyleModel = itemModel.getModel(['progress', 'itemStyle']);\n      var symbolOpt = {\n        x: tickCoord,\n        y: 0,\n        onclick: bind(_this._changeTimeline, _this, tick.value)\n      };\n      var el = giveSymbol(itemModel, itemStyleModel, group, symbolOpt);\n      el.ensureState('emphasis').style = hoverStyleModel.getItemStyle();\n      el.ensureState('progress').style = progressStyleModel.getItemStyle();\n      enableHoverEmphasis(el);\n      var ecData = getECData(el);\n\n      if (itemModel.get('tooltip')) {\n        ecData.dataIndex = tick.value;\n        ecData.dataModel = timelineModel;\n      } else {\n        ecData.dataIndex = ecData.dataModel = null;\n      }\n\n      _this._tickSymbols.push(el);\n    });\n  };\n\n  SliderTimelineView.prototype._renderAxisLabel = function (layoutInfo, group, axis, timelineModel) {\n    var _this = this;\n\n    var labelModel = axis.getLabelModel();\n\n    if (!labelModel.get('show')) {\n      return;\n    }\n\n    var data = timelineModel.getData();\n    var labels = axis.getViewLabels();\n    this._tickLabels = [];\n    each(labels, function (labelItem) {\n      // The tickValue is dataIndex, see the costomized scale.\n      var dataIndex = labelItem.tickValue;\n      var itemModel = data.getItemModel(dataIndex);\n      var normalLabelModel = itemModel.getModel('label');\n      var hoverLabelModel = itemModel.getModel(['emphasis', 'label']);\n      var progressLabelModel = itemModel.getModel(['progress', 'label']);\n      var tickCoord = axis.dataToCoord(labelItem.tickValue);\n      var textEl = new graphic.Text({\n        x: tickCoord,\n        y: 0,\n        rotation: layoutInfo.labelRotation - layoutInfo.rotation,\n        onclick: bind(_this._changeTimeline, _this, dataIndex),\n        silent: false,\n        style: createTextStyle(normalLabelModel, {\n          text: labelItem.formattedLabel,\n          align: layoutInfo.labelAlign,\n          verticalAlign: layoutInfo.labelBaseline\n        })\n      });\n      textEl.ensureState('emphasis').style = createTextStyle(hoverLabelModel);\n      textEl.ensureState('progress').style = createTextStyle(progressLabelModel);\n      group.add(textEl);\n      enableHoverEmphasis(textEl);\n      labelDataIndexStore(textEl).dataIndex = dataIndex;\n\n      _this._tickLabels.push(textEl);\n    });\n  };\n\n  SliderTimelineView.prototype._renderControl = function (layoutInfo, group, axis, timelineModel) {\n    var controlSize = layoutInfo.controlSize;\n    var rotation = layoutInfo.rotation;\n    var itemStyle = timelineModel.getModel('controlStyle').getItemStyle();\n    var hoverStyle = timelineModel.getModel(['emphasis', 'controlStyle']).getItemStyle();\n    var playState = timelineModel.getPlayState();\n    var inverse = timelineModel.get('inverse', true);\n    makeBtn(layoutInfo.nextBtnPosition, 'next', bind(this._changeTimeline, this, inverse ? '-' : '+'));\n    makeBtn(layoutInfo.prevBtnPosition, 'prev', bind(this._changeTimeline, this, inverse ? '+' : '-'));\n    makeBtn(layoutInfo.playPosition, playState ? 'stop' : 'play', bind(this._handlePlayClick, this, !playState), true);\n\n    function makeBtn(position, iconName, onclick, willRotate) {\n      if (!position) {\n        return;\n      }\n\n      var iconSize = parsePercent(retrieve2(timelineModel.get(['controlStyle', iconName + 'BtnSize']), controlSize), controlSize);\n      var rect = [0, -iconSize / 2, iconSize, iconSize];\n      var btn = makeControlIcon(timelineModel, iconName + 'Icon', rect, {\n        x: position[0],\n        y: position[1],\n        originX: controlSize / 2,\n        originY: 0,\n        rotation: willRotate ? -rotation : 0,\n        rectHover: true,\n        style: itemStyle,\n        onclick: onclick\n      });\n      btn.ensureState('emphasis').style = hoverStyle;\n      group.add(btn);\n      enableHoverEmphasis(btn);\n    }\n  };\n\n  SliderTimelineView.prototype._renderCurrentPointer = function (layoutInfo, group, axis, timelineModel) {\n    var data = timelineModel.getData();\n    var currentIndex = timelineModel.getCurrentIndex();\n    var pointerModel = data.getItemModel(currentIndex).getModel('checkpointStyle');\n    var me = this;\n    var callback = {\n      onCreate: function (pointer) {\n        pointer.draggable = true;\n        pointer.drift = bind(me._handlePointerDrag, me);\n        pointer.ondragend = bind(me._handlePointerDragend, me);\n        pointerMoveTo(pointer, me._progressLine, currentIndex, axis, timelineModel, true);\n      },\n      onUpdate: function (pointer) {\n        pointerMoveTo(pointer, me._progressLine, currentIndex, axis, timelineModel);\n      }\n    }; // Reuse when exists, for animation and drag.\n\n    this._currentPointer = giveSymbol(pointerModel, pointerModel, this._mainGroup, {}, this._currentPointer, callback);\n  };\n\n  SliderTimelineView.prototype._handlePlayClick = function (nextState) {\n    this._clearTimer();\n\n    this.api.dispatchAction({\n      type: 'timelinePlayChange',\n      playState: nextState,\n      from: this.uid\n    });\n  };\n\n  SliderTimelineView.prototype._handlePointerDrag = function (dx, dy, e) {\n    this._clearTimer();\n\n    this._pointerChangeTimeline([e.offsetX, e.offsetY]);\n  };\n\n  SliderTimelineView.prototype._handlePointerDragend = function (e) {\n    this._pointerChangeTimeline([e.offsetX, e.offsetY], true);\n  };\n\n  SliderTimelineView.prototype._pointerChangeTimeline = function (mousePos, trigger) {\n    var toCoord = this._toAxisCoord(mousePos)[0];\n\n    var axis = this._axis;\n    var axisExtent = numberUtil.asc(axis.getExtent().slice());\n    toCoord > axisExtent[1] && (toCoord = axisExtent[1]);\n    toCoord < axisExtent[0] && (toCoord = axisExtent[0]);\n    this._currentPointer.x = toCoord;\n\n    this._currentPointer.markRedraw();\n\n    this._progressLine.shape.x2 = toCoord;\n\n    this._progressLine.dirty();\n\n    var targetDataIndex = this._findNearestTick(toCoord);\n\n    var timelineModel = this.model;\n\n    if (trigger || targetDataIndex !== timelineModel.getCurrentIndex() && timelineModel.get('realtime')) {\n      this._changeTimeline(targetDataIndex);\n    }\n  };\n\n  SliderTimelineView.prototype._doPlayStop = function () {\n    var _this = this;\n\n    this._clearTimer();\n\n    if (this.model.getPlayState()) {\n      this._timer = setTimeout(function () {\n        // Do not cache\n        var timelineModel = _this.model;\n\n        _this._changeTimeline(timelineModel.getCurrentIndex() + (timelineModel.get('rewind', true) ? -1 : 1));\n      }, this.model.get('playInterval'));\n    }\n  };\n\n  SliderTimelineView.prototype._toAxisCoord = function (vertex) {\n    var trans = this._mainGroup.getLocalTransform();\n\n    return graphic.applyTransform(vertex, trans, true);\n  };\n\n  SliderTimelineView.prototype._findNearestTick = function (axisCoord) {\n    var data = this.model.getData();\n    var dist = Infinity;\n    var targetDataIndex;\n    var axis = this._axis;\n    data.each(['value'], function (value, dataIndex) {\n      var coord = axis.dataToCoord(value);\n      var d = Math.abs(coord - axisCoord);\n\n      if (d < dist) {\n        dist = d;\n        targetDataIndex = dataIndex;\n      }\n    });\n    return targetDataIndex;\n  };\n\n  SliderTimelineView.prototype._clearTimer = function () {\n    if (this._timer) {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n  };\n\n  SliderTimelineView.prototype._changeTimeline = function (nextIndex) {\n    var currentIndex = this.model.getCurrentIndex();\n\n    if (nextIndex === '+') {\n      nextIndex = currentIndex + 1;\n    } else if (nextIndex === '-') {\n      nextIndex = currentIndex - 1;\n    }\n\n    this.api.dispatchAction({\n      type: 'timelineChange',\n      currentIndex: nextIndex,\n      from: this.uid\n    });\n  };\n\n  SliderTimelineView.prototype._updateTicksStatus = function () {\n    var currentIndex = this.model.getCurrentIndex();\n    var tickSymbols = this._tickSymbols;\n    var tickLabels = this._tickLabels;\n\n    if (tickSymbols) {\n      for (var i = 0; i < tickSymbols.length; i++) {\n        tickSymbols && tickSymbols[i] && tickSymbols[i].toggleState('progress', i < currentIndex);\n      }\n    }\n\n    if (tickLabels) {\n      for (var i = 0; i < tickLabels.length; i++) {\n        tickLabels && tickLabels[i] && tickLabels[i].toggleState('progress', labelDataIndexStore(tickLabels[i]).dataIndex <= currentIndex);\n      }\n    }\n  };\n\n  SliderTimelineView.type = 'timeline.slider';\n  return SliderTimelineView;\n}(TimelineView);\n\nfunction createScaleByModel(model, axisType) {\n  axisType = axisType || model.get('type');\n\n  if (axisType) {\n    switch (axisType) {\n      // Buildin scale\n      case 'category':\n        return new OrdinalScale({\n          ordinalMeta: model.getCategories(),\n          extent: [Infinity, -Infinity]\n        });\n\n      case 'time':\n        return new TimeScale({\n          locale: model.ecModel.getLocaleModel(),\n          useUTC: model.ecModel.get('useUTC')\n        });\n\n      default:\n        // default to be value\n        return new IntervalScale();\n    }\n  }\n}\n\nfunction getViewRect(model, api) {\n  return layout.getLayoutRect(model.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  }, model.get('padding'));\n}\n\nfunction makeControlIcon(timelineModel, objPath, rect, opts) {\n  var style = opts.style;\n  var icon = graphic.createIcon(timelineModel.get(['controlStyle', objPath]), opts || {}, new BoundingRect(rect[0], rect[1], rect[2], rect[3])); // TODO createIcon won't use style in opt.\n\n  if (style) {\n    icon.setStyle(style);\n  }\n\n  return icon;\n}\n/**\n * Create symbol or update symbol\n * opt: basic position and event handlers\n */\n\n\nfunction giveSymbol(hostModel, itemStyleModel, group, opt, symbol, callback) {\n  var color = itemStyleModel.get('color');\n\n  if (!symbol) {\n    var symbolType = hostModel.get('symbol');\n    symbol = createSymbol(symbolType, -1, -1, 2, 2, color);\n    symbol.setStyle('strokeNoScale', true);\n    group.add(symbol);\n    callback && callback.onCreate(symbol);\n  } else {\n    symbol.setColor(color);\n    group.add(symbol); // Group may be new, also need to add.\n\n    callback && callback.onUpdate(symbol);\n  } // Style\n\n\n  var itemStyle = itemStyleModel.getItemStyle(['color']);\n  symbol.setStyle(itemStyle); // Transform and events.\n\n  opt = merge({\n    rectHover: true,\n    z2: 100\n  }, opt, true);\n  var symbolSize = normalizeSymbolSize(hostModel.get('symbolSize'));\n  opt.scaleX = symbolSize[0] / 2;\n  opt.scaleY = symbolSize[1] / 2;\n  var symbolOffset = normalizeSymbolOffset(hostModel.get('symbolOffset'), symbolSize);\n\n  if (symbolOffset) {\n    opt.x = (opt.x || 0) + symbolOffset[0];\n    opt.y = (opt.y || 0) + symbolOffset[1];\n  }\n\n  var symbolRotate = hostModel.get('symbolRotate');\n  opt.rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n  symbol.attr(opt); // FIXME\n  // (1) When symbol.style.strokeNoScale is true and updateTransform is not performed,\n  // getBoundingRect will return wrong result.\n  // (This is supposed to be resolved in zrender, but it is a little difficult to\n  // leverage performance and auto updateTransform)\n  // (2) All of ancesters of symbol do not scale, so we can just updateTransform symbol.\n\n  symbol.updateTransform();\n  return symbol;\n}\n\nfunction pointerMoveTo(pointer, progressLine, dataIndex, axis, timelineModel, noAnimation) {\n  if (pointer.dragging) {\n    return;\n  }\n\n  var pointerModel = timelineModel.getModel('checkpointStyle');\n  var toCoord = axis.dataToCoord(timelineModel.getData().get('value', dataIndex));\n\n  if (noAnimation || !pointerModel.get('animation', true)) {\n    pointer.attr({\n      x: toCoord,\n      y: 0\n    });\n    progressLine && progressLine.attr({\n      shape: {\n        x2: toCoord\n      }\n    });\n  } else {\n    var animationCfg = {\n      duration: pointerModel.get('animationDuration', true),\n      easing: pointerModel.get('animationEasing', true)\n    };\n    pointer.stopAnimation(null, true);\n    pointer.animateTo({\n      x: toCoord,\n      y: 0\n    }, animationCfg);\n    progressLine && progressLine.animateTo({\n      shape: {\n        x2: toCoord\n      }\n    }, animationCfg);\n  }\n}\n\nexport default SliderTimelineView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { defaults } from 'zrender/lib/core/util.js';\nexport function installTimelineAction(registers) {\n  registers.registerAction({\n    type: 'timelineChange',\n    event: 'timelineChanged',\n    update: 'prepareAndUpdate'\n  }, function (payload, ecModel, api) {\n    var timelineModel = ecModel.getComponent('timeline');\n\n    if (timelineModel && payload.currentIndex != null) {\n      timelineModel.setCurrentIndex(payload.currentIndex);\n\n      if (!timelineModel.get('loop', true) && timelineModel.isIndexMax() && timelineModel.getPlayState()) {\n        timelineModel.setPlayState(false); // The timeline has played to the end, trigger event\n\n        api.dispatchAction({\n          type: 'timelinePlayChange',\n          playState: false,\n          from: payload.from\n        });\n      }\n    } // Set normalized currentIndex to payload.\n\n\n    ecModel.resetOption('timeline', {\n      replaceMerge: timelineModel.get('replaceMerge', true)\n    });\n    return defaults({\n      currentIndex: timelineModel.option.currentIndex\n    }, payload);\n  });\n  registers.registerAction({\n    type: 'timelinePlayChange',\n    event: 'timelinePlayChanged',\n    update: 'update'\n  }, function (payload, ecModel) {\n    var timelineModel = ecModel.getComponent('timeline');\n\n    if (timelineModel && payload.playState != null) {\n      timelineModel.setPlayState(payload.playState);\n    }\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as zrUtil from 'zrender/lib/core/util.js';\nexport default function timelinePreprocessor(option) {\n  var timelineOpt = option && option.timeline;\n\n  if (!zrUtil.isArray(timelineOpt)) {\n    timelineOpt = timelineOpt ? [timelineOpt] : [];\n  }\n\n  zrUtil.each(timelineOpt, function (opt) {\n    if (!opt) {\n      return;\n    }\n\n    compatibleEC2(opt);\n  });\n}\n\nfunction compatibleEC2(opt) {\n  var type = opt.type;\n  var ec2Types = {\n    'number': 'value',\n    'time': 'time'\n  }; // Compatible with ec2\n\n  if (ec2Types[type]) {\n    opt.axisType = ec2Types[type];\n    delete opt.type;\n  }\n\n  transferItem(opt);\n\n  if (has(opt, 'controlPosition')) {\n    var controlStyle = opt.controlStyle || (opt.controlStyle = {});\n\n    if (!has(controlStyle, 'position')) {\n      controlStyle.position = opt.controlPosition;\n    }\n\n    if (controlStyle.position === 'none' && !has(controlStyle, 'show')) {\n      controlStyle.show = false;\n      delete controlStyle.position;\n    }\n\n    delete opt.controlPosition;\n  }\n\n  zrUtil.each(opt.data || [], function (dataItem) {\n    if (zrUtil.isObject(dataItem) && !zrUtil.isArray(dataItem)) {\n      if (!has(dataItem, 'value') && has(dataItem, 'name')) {\n        // In ec2, using name as value.\n        dataItem.value = dataItem.name;\n      }\n\n      transferItem(dataItem);\n    }\n  });\n}\n\nfunction transferItem(opt) {\n  var itemStyle = opt.itemStyle || (opt.itemStyle = {});\n  var itemStyleEmphasis = itemStyle.emphasis || (itemStyle.emphasis = {}); // Transfer label out\n\n  var label = opt.label || opt.label || {};\n  var labelNormal = label.normal || (label.normal = {});\n  var excludeLabelAttr = {\n    normal: 1,\n    emphasis: 1\n  };\n  zrUtil.each(label, function (value, name) {\n    if (!excludeLabelAttr[name] && !has(labelNormal, name)) {\n      labelNormal[name] = value;\n    }\n  });\n\n  if (itemStyleEmphasis.label && !has(label, 'emphasis')) {\n    label.emphasis = itemStyleEmphasis.label;\n    delete itemStyleEmphasis.label;\n  }\n}\n\nfunction has(obj, attr) {\n  return obj.hasOwnProperty(attr);\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport SliderTimelineModel from './SliderTimelineModel.js';\nimport SliderTimelineView from './SliderTimelineView.js';\nimport { installTimelineAction } from './timelineAction.js';\nimport preprocessor from './preprocessor.js';\nexport function install(registers) {\n  registers.registerComponentModel(SliderTimelineModel);\n  registers.registerComponentView(SliderTimelineView);\n  registers.registerSubTypeDefaulter('timeline', function () {\n    // Only slider now.\n    return 'slider';\n  });\n  installTimelineAction(registers);\n  registers.registerPreprocessor(preprocessor);\n}","export default function () {\n  // eslint-disable-next-line no-bitwise\n  return `#${((Math.random() * 0xffffff) << 0).toString(16)}`;\n}\n","const ROUND_UP = 2;\nconst ROUND_DOWN = 3;\n\nexport function roundTimeframe(\n  timeframems: number,\n  timestamp: number,\n  direction: number = ROUND_DOWN,\n) {\n  const offset = timestamp % timeframems;\n  return timestamp - offset + (direction === ROUND_UP ? timeframems : 0);\n}\n\nexport default {\n  ROUND_UP,\n  ROUND_DOWN,\n  roundTimeframe,\n};\n","<template>\n  <div class=\"row flex-grow-1 chart-wrapper\">\n    <v-chart v-if=\"hasData\" ref=\"candleChart\" :theme=\"theme\" autoresize manual-update />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\nimport { Trade, PairHistory, PlotConfig } from '@/types';\nimport randomColor from '@/shared/randomColor';\nimport { roundTimeframe } from '@/shared/timemath';\nimport ECharts from 'vue-echarts';\n\nimport { use } from 'echarts/core';\nimport { EChartsOption, SeriesOption, ScatterSeriesOption } from 'echarts';\nimport { CanvasRenderer } from 'echarts/renderers';\nimport { CandlestickChart, LineChart, BarChart, ScatterChart } from 'echarts/charts';\nimport {\n  AxisPointerComponent,\n  CalendarComponent,\n  DatasetComponent,\n  DataZoomComponent,\n  GridComponent,\n  LegendComponent,\n  TimelineComponent,\n  TitleComponent,\n  ToolboxComponent,\n  TooltipComponent,\n  VisualMapComponent,\n  VisualMapPiecewiseComponent,\n} from 'echarts/components';\n\nuse([\n  AxisPointerComponent,\n  CalendarComponent,\n  DatasetComponent,\n  DataZoomComponent,\n  GridComponent,\n  LegendComponent,\n  TimelineComponent,\n  TitleComponent,\n  ToolboxComponent,\n  TooltipComponent,\n  VisualMapComponent,\n  VisualMapPiecewiseComponent,\n\n  CandlestickChart,\n  BarChart,\n  LineChart,\n  ScatterChart,\n  CanvasRenderer,\n]);\n\n// Chart default options\nconst MARGINLEFT = '5.5%';\nconst MARGINRIGHT = '1%';\nconst NAMEGAP = 55;\nconst SUBPLOTHEIGHT = 8; // Value in %\n\n// Binance colors\nconst upColor = '#26A69A';\nconst upBorderColor = '#26A69A';\nconst downColor = '#EF5350';\nconst downBorderColor = '#EF5350';\n\nconst buySignalColor = '#00ff26';\nconst shortEntrySignalColor = '#00ff26';\nconst sellSignalColor = '#faba25';\nconst shortexitSignalColor = '#faba25';\nconst tradeBuyColor = 'cyan';\nconst tradeSellColor = 'pink';\n\n@Component({\n  components: { 'v-chart': ECharts },\n})\nexport default class CandleChart extends Vue {\n  $refs!: {\n    candleChart: typeof ECharts;\n  };\n\n  @Prop({ required: false, default: [] }) readonly trades!: Array<Trade>;\n\n  @Prop({ required: true }) readonly dataset!: PairHistory;\n\n  @Prop({ default: true }) readonly useUTC!: boolean;\n\n  @Prop({ required: true }) plotConfig!: PlotConfig;\n\n  @Prop({ default: 'dark' }) theme!: string;\n\n  buyData = [] as Array<number>[];\n\n  sellData = [] as Array<number>[];\n\n  chartOptions: EChartsOption = {};\n\n  @Watch('dataset')\n  datasetChanged() {\n    this.updateChart();\n  }\n\n  @Watch('plotConfig')\n  plotConfigChanged() {\n    this.initializeChartOptions();\n  }\n\n  get strategy() {\n    return this.dataset ? this.dataset.strategy : '';\n  }\n\n  get pair() {\n    return this.dataset ? this.dataset.pair : '';\n  }\n\n  get timeframe() {\n    return this.dataset ? this.dataset.timeframe : '';\n  }\n\n  get timeframems() {\n    return this.dataset ? this.dataset.timeframe_ms : 0;\n  }\n\n  get datasetColumns() {\n    return this.dataset ? this.dataset.columns : [];\n  }\n\n  get hasData() {\n    return this.dataset !== null && typeof this.dataset === 'object';\n  }\n\n  get filteredTrades() {\n    return this.trades.filter((item: Trade) => item.pair === this.pair);\n  }\n\n  mounted() {\n    this.initializeChartOptions();\n  }\n\n  get chartTitle() {\n    return `${this.strategy} - ${this.pair} - ${this.timeframe}`;\n  }\n\n  initializeChartOptions() {\n    this.chartOptions = {\n      title: [\n        {\n          // text: this.chartTitle,\n          show: false,\n        },\n      ],\n      backgroundColor: 'rgba(0, 0, 0, 0)',\n      useUTC: this.useUTC,\n      animation: false,\n      legend: {\n        // Initial legend, further entries are pushed to the below list\n        data: ['Candles', 'Volume', 'Buy', 'Sell'],\n        right: '1%',\n      },\n      tooltip: {\n        show: true,\n        trigger: 'axis',\n        backgroundColor: 'rgba(80,80,80,0.7)',\n        borderWidth: 0,\n        textStyle: {\n          color: '#fff',\n        },\n        axisPointer: {\n          type: 'cross',\n          lineStyle: {\n            color: '#cccccc',\n            width: 1,\n            opacity: 1,\n          },\n        },\n        // positioning copied from https://echarts.apache.org/en/option.html#tooltip.position\n        position(pos, params, dom, rect, size) {\n          // tooltip will be fixed on the right if mouse hovering on the left,\n          // and on the left if hovering on the right.\n          const obj = { top: 60 };\n          obj[['left', 'right'][+(pos[0] < size.viewSize[0] / 2)]] = 5;\n          return obj;\n        },\n      },\n      axisPointer: {\n        link: [{ xAxisIndex: 'all' }],\n        label: {\n          backgroundColor: '#777',\n        },\n      },\n      xAxis: [\n        {\n          type: 'time',\n          scale: true,\n          boundaryGap: false,\n          axisLine: { onZero: false },\n          axisTick: { show: true },\n          axisLabel: { show: true },\n          axisPointer: {\n            label: { show: false },\n          },\n          position: 'top',\n          splitLine: { show: false },\n          splitNumber: 20,\n          min: 'dataMin',\n          max: 'dataMax',\n        },\n        {\n          type: 'time',\n          gridIndex: 1,\n          scale: true,\n          boundaryGap: false,\n          axisLine: { onZero: false },\n          axisTick: { show: false },\n          axisLabel: { show: false },\n          axisPointer: {\n            label: { show: false },\n          },\n          splitLine: { show: false },\n          splitNumber: 20,\n          min: 'dataMin',\n          max: 'dataMax',\n        },\n      ],\n      yAxis: [\n        {\n          scale: true,\n        },\n        {\n          scale: true,\n          gridIndex: 1,\n          splitNumber: 2,\n          name: 'volume',\n          nameLocation: 'middle',\n          // position: 'right',\n          nameGap: NAMEGAP,\n          axisLabel: { show: false },\n          axisLine: { show: false },\n          axisTick: { show: false },\n          splitLine: { show: false },\n        },\n      ],\n      dataZoom: [\n        // Start values are recalculated once the data is known\n        {\n          type: 'inside',\n          xAxisIndex: [0, 1],\n          start: 80,\n          end: 100,\n        },\n        {\n          show: true,\n          xAxisIndex: [0, 1],\n          type: 'slider',\n          bottom: 10,\n          start: 80,\n          end: 100,\n        },\n      ],\n      // visualMap: {\n      //   //  TODO: this would allow to colorize volume bars (if we'd want this)\n      //   //  Needs green / red indicator column in data.\n      //   show: true,\n      //   seriesIndex: 1,\n      //   dimension: 5,\n      //   pieces: [\n      //     {\n      //       max: 500000.0,\n      //       color: downColor,\n      //     },\n      //     {\n      //       min: 500000.0,\n      //       color: upColor,\n      //     },\n      //   ],\n      // },\n    };\n\n    console.log('Initialized');\n    this.updateChart(true);\n  }\n\n  updateChart(initial = false) {\n    if (!this.hasData) {\n      return;\n    }\n    if (this.chartOptions?.title) {\n      this.chartOptions.title[0].text = this.chartTitle;\n    }\n    const colDate = this.dataset.columns.findIndex((el) => el === '__date_ts');\n    const colOpen = this.dataset.columns.findIndex((el) => el === 'open');\n    const colHigh = this.dataset.columns.findIndex((el) => el === 'high');\n    const colLow = this.dataset.columns.findIndex((el) => el === 'low');\n    const colClose = this.dataset.columns.findIndex((el) => el === 'close');\n    const colVolume = this.dataset.columns.findIndex((el) => el === 'volume');\n    // TODO: Remove below *signal_open after December 2021\n    const colBuyData = this.dataset.columns.findIndex(\n      (el) =>\n        el === '_buy_signal_open' ||\n        el === '_buy_signal_close' ||\n        el === '_enter_long_signal_close',\n    );\n    const colSellData = this.dataset.columns.findIndex(\n      (el) =>\n        el === '_sell_signal_open' ||\n        el === '_sell_signal_close' ||\n        el === '_exit_long_signal_close',\n    );\n\n    const hasShorts =\n      this.dataset.enter_short_signals &&\n      this.dataset.enter_short_signals > 0 &&\n      this.dataset.exit_short_signals &&\n      this.dataset.exit_short_signals > 0;\n    const colShortEntryData = this.dataset.columns.findIndex(\n      (el) => el === '_enter_short_signal_close',\n    );\n    const colShortExitData = this.dataset.columns.findIndex(\n      (el) => el === '_exit_short_signal_close',\n    );\n    console.log('short_exit', colShortExitData);\n\n    const subplotCount =\n      'subplots' in this.plotConfig ? Object.keys(this.plotConfig.subplots).length + 1 : 1;\n\n    if (this.chartOptions?.dataZoom && Array.isArray(this.chartOptions?.dataZoom)) {\n      // Only set zoom once ...\n      if (initial) {\n        const startingZoom = (1 - 250 / this.dataset.length) * 100;\n        this.chartOptions.dataZoom.forEach((el, i) => {\n          if (this.chartOptions && this.chartOptions.dataZoom) {\n            this.chartOptions.dataZoom[i].start = startingZoom;\n          }\n        });\n      } else {\n        // Remove start/end settings after chart initialization to avoid chart resetting\n        this.chartOptions.dataZoom.forEach((el, i) => {\n          if (this.chartOptions && this.chartOptions.dataZoom) {\n            delete this.chartOptions.dataZoom[i].start;\n            delete this.chartOptions.dataZoom[i].end;\n          }\n        });\n      }\n    }\n\n    const options: EChartsOption = {\n      dataset: {\n        source: this.dataset.data,\n      },\n      grid: [\n        {\n          left: MARGINLEFT,\n          right: MARGINRIGHT,\n          // Grid Layout from bottom to top\n          bottom: `${subplotCount * SUBPLOTHEIGHT + 2}%`,\n        },\n        {\n          // Volume\n          left: MARGINLEFT,\n          right: MARGINRIGHT,\n          // Grid Layout from bottom to top\n          bottom: `${subplotCount * SUBPLOTHEIGHT}%`,\n          height: `${SUBPLOTHEIGHT}%`,\n        },\n      ],\n\n      series: [\n        {\n          name: 'Candles',\n          type: 'candlestick',\n          barWidth: '80%',\n          itemStyle: {\n            color: upColor,\n            color0: downColor,\n            borderColor: upBorderColor,\n            borderColor0: downBorderColor,\n          },\n          encode: {\n            x: colDate,\n            // open, close, low, high\n            y: [colOpen, colClose, colLow, colHigh],\n          },\n        },\n        {\n          name: 'Volume',\n          type: 'bar',\n          xAxisIndex: 1,\n          yAxisIndex: 1,\n          itemStyle: {\n            color: '#777777',\n          },\n          large: true,\n          encode: {\n            x: colDate,\n            y: colVolume,\n          },\n        },\n        {\n          name: 'Buy',\n          type: 'scatter',\n          symbol: 'triangle',\n          symbolSize: 10,\n          xAxisIndex: 0,\n          yAxisIndex: 0,\n          itemStyle: {\n            color: buySignalColor,\n          },\n          encode: {\n            x: colDate,\n            y: colBuyData,\n          },\n        },\n        {\n          name: 'Sell',\n          type: 'scatter',\n          symbol: 'diamond',\n          symbolSize: 8,\n          xAxisIndex: 0,\n          yAxisIndex: 0,\n          itemStyle: {\n            color: sellSignalColor,\n          },\n          encode: {\n            x: colDate,\n            y: colSellData,\n          },\n        },\n      ],\n    };\n\n    if (hasShorts) {\n      // Add short support\n      if (!Array.isArray(this.chartOptions.legend) && this.chartOptions.legend?.data) {\n        this.chartOptions.legend.data.push('Short');\n        this.chartOptions.legend.data.push('Short exit');\n      }\n      if (Array.isArray(options.series)) {\n        options.series.push({\n          name: 'Short',\n          type: 'scatter',\n          symbol: 'pin',\n          symbolSize: 10,\n          xAxisIndex: 0,\n          yAxisIndex: 0,\n          itemStyle: {\n            color: shortEntrySignalColor,\n          },\n          encode: {\n            x: colDate,\n            y: colShortEntryData,\n          },\n        });\n        options.series.push({\n          name: 'Short exit',\n          type: 'scatter',\n          symbol: 'pin',\n          symbolSize: 8,\n          xAxisIndex: 0,\n          yAxisIndex: 0,\n          itemStyle: {\n            color: shortexitSignalColor,\n          },\n          encode: {\n            x: colDate,\n            y: colShortExitData,\n          },\n        });\n      }\n    }\n\n    // Merge this into original data\n    Object.assign(this.chartOptions, options);\n\n    if ('main_plot' in this.plotConfig) {\n      Object.entries(this.plotConfig.main_plot).forEach(([key, value]) => {\n        const col = this.dataset.columns.findIndex((el) => el === key);\n        if (col > 1) {\n          if (!Array.isArray(this.chartOptions.legend) && this.chartOptions.legend?.data) {\n            this.chartOptions.legend.data.push(key);\n          }\n          const sp: SeriesOption = {\n            name: key,\n            type: value.type || 'line',\n            xAxisIndex: 0,\n            yAxisIndex: 0,\n            itemStyle: {\n              color: value.color,\n            },\n            encode: {\n              x: colDate,\n              y: col,\n            },\n            showSymbol: false,\n          };\n          if (Array.isArray(this.chartOptions.series)) {\n            this.chartOptions.series.push(sp);\n          }\n        } else {\n          console.log(`element ${key} for main plot not found in columns.`);\n        }\n      });\n    }\n\n    // START Subplots\n    if ('subplots' in this.plotConfig) {\n      let plotIndex = 2;\n      Object.entries(this.plotConfig.subplots).forEach(([key, value]) => {\n        // define yaxis\n\n        // Subplots are added from bottom to top - only the \"bottom-most\" plot stays at the bottom.\n        // const currGridIdx = totalSubplots - plotIndex > 1 ? totalSubplots - plotIndex : plotIndex;\n        const currGridIdx = plotIndex;\n        if (Array.isArray(this.chartOptions.yAxis) && this.chartOptions.yAxis.length <= plotIndex) {\n          this.chartOptions.yAxis.push({\n            scale: true,\n            gridIndex: currGridIdx,\n            name: key,\n            nameLocation: 'middle',\n            nameGap: NAMEGAP,\n            axisLabel: { show: true },\n            axisLine: { show: false },\n            axisTick: { show: false },\n            splitLine: { show: false },\n          });\n        }\n        if (Array.isArray(this.chartOptions.xAxis) && this.chartOptions.xAxis.length <= plotIndex) {\n          this.chartOptions.xAxis.push({\n            type: 'time',\n            scale: true,\n            gridIndex: currGridIdx,\n            boundaryGap: false,\n            axisLine: { onZero: false },\n            axisTick: { show: false },\n            axisLabel: { show: false },\n            axisPointer: {\n              label: { show: false },\n            },\n            splitLine: { show: false },\n            splitNumber: 20,\n          });\n        }\n        if (Array.isArray(this.chartOptions.dataZoom)) {\n          this.chartOptions.dataZoom.forEach((el) =>\n            el.xAxisIndex && Array.isArray(el.xAxisIndex) ? el.xAxisIndex.push(plotIndex) : null,\n          );\n        }\n        if (this.chartOptions.grid && Array.isArray(this.chartOptions.grid)) {\n          this.chartOptions.grid.push({\n            left: MARGINLEFT,\n            right: MARGINRIGHT,\n            bottom: `${(subplotCount - plotIndex + 1) * SUBPLOTHEIGHT}%`,\n            height: `${SUBPLOTHEIGHT}%`,\n          });\n        }\n        Object.entries(value).forEach(([sk, sv]) => {\n          // entries per subplot\n          const col = this.dataset.columns.findIndex((el) => el === sk);\n          if (col > 0) {\n            if (!Array.isArray(this.chartOptions.legend) && this.chartOptions.legend?.data) {\n              this.chartOptions.legend.data.push(sk);\n            }\n            const sp: SeriesOption = {\n              name: sk,\n              type: sv.type || 'line',\n              xAxisIndex: plotIndex,\n              yAxisIndex: plotIndex,\n              itemStyle: {\n                color: sv.color || randomColor(),\n              },\n              encode: {\n                x: colDate,\n                y: col,\n              },\n              showSymbol: false,\n            };\n            if (this.chartOptions.series && Array.isArray(this.chartOptions.series)) {\n              this.chartOptions.series.push(sp);\n            }\n          } else {\n            console.log(`element ${sk} was not found in the columns.`);\n          }\n        });\n\n        plotIndex += 1;\n      });\n    }\n    // END Subplots\n    // Last subplot should show xAxis labels\n    // if (options.xAxis && Array.isArray(options.xAxis)) {\n    //   options.xAxis[options.xAxis.length - 1].axisLabel.show = true;\n    //   options.xAxis[options.xAxis.length - 1].axisTick.show = true;\n    // }\n    if (this.chartOptions.grid && Array.isArray(this.chartOptions.grid)) {\n      // Last subplot is bottom\n      this.chartOptions.grid[this.chartOptions.grid.length - 1].bottom = '50px';\n      delete this.chartOptions.grid[this.chartOptions.grid.length - 1].top;\n    }\n    const { trades, tradesClose } = this.getTradeEntries();\n\n    const name = 'Trades';\n    const nameClose = 'Trades Close';\n    if (!Array.isArray(this.chartOptions.legend) && this.chartOptions.legend?.data) {\n      this.chartOptions.legend.data.push(name);\n    }\n    const sp: ScatterSeriesOption = {\n      name,\n      type: 'scatter',\n      xAxisIndex: 0,\n      yAxisIndex: 0,\n      itemStyle: {\n        color: tradeBuyColor,\n      },\n      data: trades,\n    };\n    if (Array.isArray(this.chartOptions?.series)) {\n      this.chartOptions.series.push(sp);\n    }\n    if (!Array.isArray(this.chartOptions.legend) && this.chartOptions.legend?.data) {\n      this.chartOptions.legend.data.push(nameClose);\n    }\n    const closeSeries: ScatterSeriesOption = {\n      name: nameClose,\n      type: 'scatter',\n      xAxisIndex: 0,\n      yAxisIndex: 0,\n      itemStyle: {\n        color: tradeSellColor,\n      },\n      data: tradesClose,\n    };\n    if (this.chartOptions.series && Array.isArray(this.chartOptions.series)) {\n      this.chartOptions.series.push(closeSeries);\n    }\n\n    console.log('chartOptions', this.chartOptions);\n\n    this.$refs.candleChart.setOption(this.chartOptions);\n  }\n\n  /** Return trade entries for charting */\n  getTradeEntries() {\n    const trades: (string | number)[][] = [];\n    const tradesClose: (string | number)[][] = [];\n    for (let i = 0, len = this.filteredTrades.length; i < len; i += 1) {\n      const trade: Trade = this.filteredTrades[i];\n      if (\n        trade.open_timestamp >= this.dataset.data_start_ts &&\n        trade.open_timestamp <= this.dataset.data_stop_ts\n      ) {\n        trades.push([roundTimeframe(this.timeframems, trade.open_timestamp), trade.open_rate]);\n      }\n      if (\n        trade.close_timestamp !== undefined &&\n        trade.close_timestamp < this.dataset.data_stop_ts &&\n        trade.close_timestamp > this.dataset.data_start_ts\n      ) {\n        if (trade.close_date !== undefined && trade.close_rate !== undefined) {\n          tradesClose.push([\n            roundTimeframe(this.timeframems, trade.close_timestamp),\n            trade.close_rate,\n          ]);\n        }\n      }\n    }\n    return { trades, tradesClose };\n  }\n\n  // createSignalData(colDate: number, colOpen: number, colBuy: number, colSell: number): void {\n  // Calculate Buy and sell Series\n  // if (!this.signalsCalculated) {\n  //   // Generate Buy and sell array (using open rate to display marker)\n  //   for (let i = 0, len = this.dataset.data.length; i < len; i += 1) {\n  //     if (this.dataset.data[i][colBuy] === 1) {\n  //       this.buyData.push([this.dataset.data[i][colDate], this.dataset.data[i][colOpen]]);\n  //     }\n  //     if (this.dataset.data[i][colSell] === 1) {\n  //       this.sellData.push([this.dataset.data[i][colDate], this.dataset.data[i][colOpen]]);\n  //     }\n  //   }\n  //   this.signalsCalculated = true;\n  // }\n  // }\n\n  @Watch('useUTC')\n  useUTCChanged() {\n    this.initializeChartOptions();\n  }\n}\n</script>\n\n<style scoped>\n.chart-wrapper {\n  width: 100%;\n  height: 100%;\n}\n.echarts {\n  width: 100%;\n  min-height: 200px;\n  /* TODO: height calculation is not working correctly - uses min-height for now */\n  /* height: 600px; */\n  height: 100%;\n}\n</style>\n","\n<div class=\"row flex-grow-1 chart-wrapper\">\n  <v-chart v-if=\"hasData\" ref=\"candleChart\" :theme=\"theme\" autoresize manual-update />\n</div>\n","<template>\n  <div>\n    <div v-if=\"addNew\">\n      <b-form-group label=\"Add indicator\" label-for=\"indicatorSelector\">\n        <b-form-select\n          id=\"indicatorSelector\"\n          v-model=\"selAvailableIndicator\"\n          :options=\"columns\"\n          :select-size=\"4\"\n        >\n        </b-form-select>\n      </b-form-group>\n    </div>\n\n    <b-form-group label=\"Type\" label-for=\"plotTypeSelector\">\n      <b-form-select\n        id=\"plotTypeSelector\"\n        v-model=\"graphType\"\n        size=\"sm\"\n        :options=\"availableGraphTypes\"\n        @change=\"emitIndicator()\"\n      >\n      </b-form-select>\n    </b-form-group>\n    <hr />\n    <b-form-group label=\"Color\" label-for=\"colsel\" size=\"sm\">\n      <b-input-group>\n        <b-input-group-prepend>\n          <div :style=\"{ 'background-color': selColor }\" class=\"colorbox mr-2\"></div>\n          <!-- <b-form-input\n            id=\"colsel\"\n            v-model=\"selColor\"\n            size=\"sm\"\n            class=\"colorbox\"\n            type=\"color\"\n            :style=\"{ 'background-color': selColor }\"\n          >\n          </b-form-input> -->\n        </b-input-group-prepend>\n\n        <b-form-input id=\"colsel\" v-model=\"selColor\" size=\"sm\"> </b-form-input>\n        <b-input-group-append>\n          <b-button variant=\"primary\" size=\"sm\" @click=\"newColor\">&#x21bb;</b-button>\n        </b-input-group-append>\n      </b-input-group>\n    </b-form-group>\n    <div class=\"d-flex d-flex-columns\">\n      <b-button\n        v-if=\"addNew\"\n        class=\"flex-grow-1\"\n        variant=\"primary\"\n        title=\"Add \"\n        size=\"sm\"\n        @click=\"emitIndicator\"\n      >\n        Save indicator\n      </b-button>\n      <b-button\n        v-if=\"addNew\"\n        class=\"ml-1 flex-grow-1\"\n        variant=\"primary\"\n        title=\"Add \"\n        size=\"sm\"\n        @click=\"clickCancel\"\n      >\n        Cancel\n      </b-button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { ChartType, IndicatorConfig } from '@/types';\nimport { Component, Emit, Prop, Vue, Watch } from 'vue-property-decorator';\nimport randomColor from '@/shared/randomColor';\n\n@Component({})\nexport default class PlotIndicator extends Vue {\n  @Prop({ required: true }) value!: Record<string, IndicatorConfig>;\n\n  @Prop({ required: true }) columns!: string[];\n\n  @Prop({ required: true }) addNew!: boolean;\n\n  @Emit('input')\n  emitIndicator() {\n    return this.combinedIndicator;\n  }\n\n  selColor = randomColor();\n\n  graphType: ChartType = ChartType.line;\n\n  availableGraphTypes = Object.keys(ChartType);\n\n  selAvailableIndicator = '';\n\n  cancelled = false;\n\n  @Watch('value')\n  watchValue() {\n    [this.selAvailableIndicator] = Object.keys(this.value);\n    this.cancelled = false;\n    if (this.selAvailableIndicator && this.value) {\n      this.selColor = this.value[this.selAvailableIndicator].color || randomColor();\n      this.graphType = this.value[this.selAvailableIndicator].type || ChartType.line;\n    }\n  }\n\n  @Watch('selColor')\n  watchColor() {\n    if (!this.addNew) {\n      this.emitIndicator();\n    }\n  }\n\n  clickCancel() {\n    this.cancelled = true;\n    this.emitIndicator();\n  }\n\n  get combinedIndicator() {\n    if (this.cancelled || !this.selAvailableIndicator) {\n      return {};\n    }\n    return {\n      [this.selAvailableIndicator]: {\n        color: this.selColor,\n        type: this.graphType,\n      },\n    };\n  }\n\n  newColor() {\n    this.selColor = randomColor();\n  }\n}\n</script>\n\n<style scoped>\n.colorbox {\n  border-radius: 50%;\n  margin-top: auto;\n  margin-bottom: auto;\n  height: 25px;\n  width: 25px;\n  vertical-align: center;\n}\n</style>\n","\n<div>\n  <div v-if=\"addNew\">\n    <b-form-group label=\"Add indicator\" label-for=\"indicatorSelector\">\n      <b-form-select\n        id=\"indicatorSelector\"\n        v-model=\"selAvailableIndicator\"\n        :options=\"columns\"\n        :select-size=\"4\"\n      >\n      </b-form-select>\n    </b-form-group>\n  </div>\n\n  <b-form-group label=\"Type\" label-for=\"plotTypeSelector\">\n    <b-form-select\n      id=\"plotTypeSelector\"\n      v-model=\"graphType\"\n      size=\"sm\"\n      :options=\"availableGraphTypes\"\n      @change=\"emitIndicator()\"\n    >\n    </b-form-select>\n  </b-form-group>\n  <hr />\n  <b-form-group label=\"Color\" label-for=\"colsel\" size=\"sm\">\n    <b-input-group>\n      <b-input-group-prepend>\n        <div :style=\"{ 'background-color': selColor }\" class=\"colorbox mr-2\"></div>\n        <!-- <b-form-input\n          id=\"colsel\"\n          v-model=\"selColor\"\n          size=\"sm\"\n          class=\"colorbox\"\n          type=\"color\"\n          :style=\"{ 'background-color': selColor }\"\n        >\n        </b-form-input> -->\n      </b-input-group-prepend>\n\n      <b-form-input id=\"colsel\" v-model=\"selColor\" size=\"sm\"> </b-form-input>\n      <b-input-group-append>\n        <b-button variant=\"primary\" size=\"sm\" @click=\"newColor\">&#x21bb;</b-button>\n      </b-input-group-append>\n    </b-input-group>\n  </b-form-group>\n  <div class=\"d-flex d-flex-columns\">\n    <b-button\n      v-if=\"addNew\"\n      class=\"flex-grow-1\"\n      variant=\"primary\"\n      title=\"Add \"\n      size=\"sm\"\n      @click=\"emitIndicator\"\n    >\n      Save indicator\n    </b-button>\n    <b-button\n      v-if=\"addNew\"\n      class=\"ml-1 flex-grow-1\"\n      variant=\"primary\"\n      title=\"Add \"\n      size=\"sm\"\n      @click=\"clickCancel\"\n    >\n      Cancel\n    </b-button>\n  </div>\n</div>\n","<template>\n  <div v-if=\"columns\">\n    <b-form-group label=\"Plot config name\" label-for=\"idPlotConfigName\">\n      <b-form-input id=\"idPlotConfigName\" v-model=\"plotConfigNameLoc\" size=\"sm\"> </b-form-input>\n    </b-form-group>\n    <div class=\"col-mb-3\">\n      <hr />\n\n      <b-form-group label=\"Target\" label-for=\"FieldSel\">\n        <b-form-select id=\"FieldSel\" v-model=\"selSubPlot\" :options=\"subplots\" :select-size=\"3\">\n        </b-form-select>\n      </b-form-group>\n    </div>\n    <b-form-group label=\"Add new plot\" label-for=\"newSubPlot\">\n      <b-input-group size=\"sm\">\n        <b-form-input id=\"newSubPlot\" v-model=\"newSubplotName\" class=\"addPlot\"></b-form-input>\n        <b-input-group-append>\n          <b-button :disabled=\"!newSubplotName\" @click=\"addSubplot\">+</b-button>\n          <b-button v-if=\"selSubPlot && selSubPlot != 'main_plot'\" @click=\"delSubplot\">-</b-button>\n        </b-input-group-append>\n      </b-input-group>\n    </b-form-group>\n    <hr />\n    <div>\n      <b-form-group label=\"Used indicators\" label-for=\"selectedIndicators\">\n        <b-form-select\n          id=\"selectedIndicators\"\n          v-model=\"selIndicatorName\"\n          :options=\"usedColumns\"\n          :select-size=\"4\"\n        >\n        </b-form-select>\n      </b-form-group>\n    </div>\n    <div>\n      <b-button\n        variant=\"primary\"\n        title=\"Add indicator to plot\"\n        size=\"sm\"\n        :disabled=\"addNewIndicator\"\n        @click=\"addNewIndicator = !addNewIndicator\"\n      >\n        Add new indicator\n      </b-button>\n      <b-button\n        variant=\"primary\"\n        title=\"Remove indicator to plot\"\n        size=\"sm\"\n        :disabled=\"!selIndicatorName\"\n        class=\"ml-1\"\n        @click=\"removeIndicator\"\n      >\n        Remove indicator\n      </b-button>\n    </div>\n\n    <PlotIndicator\n      v-if=\"selIndicatorName || addNewIndicator\"\n      v-model=\"selIndicator\"\n      class=\"mt-1\"\n      :columns=\"columns\"\n      :add-new=\"addNewIndicator\"\n    />\n    <hr />\n\n    <div>\n      <b-button class=\"ml-1\" variant=\"primary\" size=\"sm\" @click=\"loadPlotConfig\">Load</b-button>\n      <b-button class=\"ml-1\" variant=\"primary\" size=\"sm\" @click=\"loadPlotConfigFromStrategy\">\n        From strategy\n      </b-button>\n\n      <b-button\n        class=\"ml-1\"\n        variant=\"primary\"\n        size=\"sm\"\n        data-toggle=\"tooltip\"\n        title=\"Save configuration\"\n        @click=\"savePlotConfig\"\n        >Save</b-button\n      >\n      <b-button\n        class=\"ml-1\"\n        variant=\"primary\"\n        size=\"sm\"\n        title=\"Load configuration from text box below\"\n        @click=\"resetConfig\"\n        >Reset</b-button\n      >\n      <b-button\n        id=\"showButton\"\n        class=\"ml-1\"\n        variant=\"primary\"\n        size=\"sm\"\n        title=\"Show configuration for easy transfer to a strategy\"\n        @click=\"showConfig = !showConfig\"\n        >Show</b-button\n      >\n\n      <b-button\n        v-if=\"showConfig\"\n        class=\"ml-1\"\n        variant=\"primary\"\n        size=\"sm\"\n        title=\"Load configuration from text box below\"\n        @click=\"loadConfigFromString\"\n        >Load from String</b-button\n      >\n    </div>\n    <div v-if=\"showConfig\" class=\"col-mb-5 ml-1 mt-2\">\n      <b-textarea\n        id=\"TextArea\"\n        v-model=\"plotConfigJson\"\n        class=\"textArea\"\n        size=\"sm\"\n        :state=\"tempPlotConfigValid\"\n      >\n      </b-textarea>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue, Prop, Emit, Watch } from 'vue-property-decorator';\nimport { namespace } from 'vuex-class';\nimport { PlotConfig, EMPTY_PLOTCONFIG, IndicatorConfig } from '@/types';\nimport { getCustomPlotConfig } from '@/shared/storage';\nimport PlotIndicator from '@/components/charts/PlotIndicator.vue';\nimport { BotStoreGetters } from '@/store/modules/ftbot';\nimport { AlertActions } from '@/store/modules/alerts';\nimport StoreModules from '@/store/storeSubModules';\n\nconst ftbot = namespace(StoreModules.ftbot);\n\nconst alerts = namespace(StoreModules.alerts);\n\n@Component({\n  components: { PlotIndicator },\n})\nexport default class PlotConfigurator extends Vue {\n  @Prop({ required: true }) value!: PlotConfig;\n\n  @Prop({ required: true }) columns!: Array<string>;\n\n  @Prop({ required: false, default: true }) asModal!: boolean;\n\n  @Emit('input')\n  emitPlotConfig() {\n    return this.plotConfig;\n  }\n\n  @ftbot.Action getStrategyPlotConfig;\n\n  @ftbot.Getter [BotStoreGetters.strategyPlotConfig];\n\n  get selIndicator(): Record<string, IndicatorConfig> {\n    if (this.addNewIndicator) {\n      return {};\n    }\n    if (this.selIndicatorName) {\n      return {\n        [this.selIndicatorName]: this.currentPlotConfig[this.selIndicatorName],\n      };\n    }\n    return {};\n  }\n\n  set selIndicator(newValue: Record<string, IndicatorConfig>) {\n    // console.log('newValue', newValue);\n    const name = Object.keys(newValue)[0];\n    // this.currentPlotConfig[this.selIndicatorName] = { ...newValue[name] };\n    // this.emitPlotConfig();\n    if (name && newValue) {\n      this.addIndicator(newValue);\n    } else {\n      this.addNewIndicator = false;\n    }\n  }\n\n  plotConfig: PlotConfig = EMPTY_PLOTCONFIG;\n\n  plotOptions = [\n    { text: 'Main Plot', value: 'main_plot' },\n    { text: 'Subplots', value: 'subplots' },\n  ];\n\n  plotConfigNameLoc = 'default';\n\n  newSubplotName = '';\n\n  selAvailableIndicator = '';\n\n  selIndicatorName = '';\n\n  addNewIndicator = false;\n\n  showConfig = false;\n\n  selSubPlot = 'main_plot';\n\n  tempPlotConfig?: PlotConfig = undefined;\n\n  tempPlotConfigValid = true;\n\n  @ftbot.Action saveCustomPlotConfig;\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  @ftbot.Action updatePlotConfigName!: (plotConfigName: string) => void;\n\n  @ftbot.Getter [BotStoreGetters.plotConfigName]!: string;\n\n  @alerts.Action [AlertActions.addAlert];\n\n  get plotConfigJson() {\n    return JSON.stringify(this.plotConfig, null, 2);\n  }\n\n  set plotConfigJson(newValue: string) {\n    try {\n      this.tempPlotConfig = JSON.parse(newValue);\n      // TODO: Should Validate schema validity (should be PlotConfig type...)\n      this.tempPlotConfigValid = true;\n    } catch (err) {\n      this.tempPlotConfigValid = false;\n    }\n  }\n\n  get subplots(): string[] {\n    // Subplot keys (for selection window)\n    return ['main_plot', ...Object.keys(this.plotConfig.subplots)];\n  }\n\n  get usedColumns(): string[] {\n    if (this.isMainPlot) {\n      return Object.keys(this.plotConfig.main_plot);\n    }\n    if (this.selSubPlot in this.plotConfig.subplots) {\n      return Object.keys(this.plotConfig.subplots[this.selSubPlot]);\n    }\n    return [];\n  }\n\n  get isMainPlot() {\n    return this.selSubPlot === 'main_plot';\n  }\n\n  get currentPlotConfig() {\n    if (this.isMainPlot) {\n      return this.plotConfig.main_plot;\n    }\n\n    return this.plotConfig.subplots[this.selSubPlot];\n  }\n\n  mounted() {\n    console.log('Config Mounted', this.value);\n    this.plotConfig = this.value;\n    this.plotConfigNameLoc = this.plotConfigName;\n  }\n\n  @Watch('value')\n  watchValue() {\n    this.plotConfig = this.value;\n    this.plotConfigNameLoc = this.plotConfigName;\n  }\n\n  addIndicator(newIndicator: Record<string, IndicatorConfig>) {\n    console.log(this.plotConfig);\n\n    const { plotConfig } = this;\n    const name = Object.keys(newIndicator)[0];\n    const indicator = newIndicator[name];\n    if (this.isMainPlot) {\n      console.log(`Adding ${name} to MainPlot`);\n      plotConfig.main_plot[name] = { ...indicator };\n    } else {\n      console.log(`Adding ${name} to ${this.selSubPlot}`);\n      plotConfig.subplots[this.selSubPlot][name] = { ...indicator };\n    }\n\n    this.plotConfig = { ...plotConfig };\n    // Reset random color\n    this.addNewIndicator = false;\n    this.emitPlotConfig();\n  }\n\n  removeIndicator() {\n    console.log(this.plotConfig);\n    const { plotConfig } = this;\n    if (this.isMainPlot) {\n      console.log(`Removing ${this.selIndicatorName} from MainPlot`);\n      delete plotConfig.main_plot[this.selIndicatorName];\n    } else {\n      console.log(`Removing ${this.selIndicatorName} from ${this.selSubPlot}`);\n      delete plotConfig.subplots[this.selSubPlot][this.selIndicatorName];\n    }\n\n    this.plotConfig = { ...plotConfig };\n    console.log(this.plotConfig);\n    this.selIndicatorName = '';\n    this.emitPlotConfig();\n  }\n\n  addSubplot() {\n    this.plotConfig.subplots = {\n      ...this.plotConfig.subplots,\n      [this.newSubplotName]: {},\n    };\n    this.selSubPlot = this.newSubplotName;\n    this.newSubplotName = '';\n\n    console.log(this.plotConfig);\n    this.emitPlotConfig();\n  }\n\n  delSubplot() {\n    delete this.plotConfig.subplots[this.selSubPlot];\n    this.plotConfig.subplots = { ...this.plotConfig.subplots };\n    this.selSubPlot = '';\n  }\n\n  savePlotConfig() {\n    this.saveCustomPlotConfig({ [this.plotConfigNameLoc]: this.plotConfig });\n  }\n\n  loadPlotConfig() {\n    this.plotConfig = getCustomPlotConfig(this.plotConfigNameLoc);\n    console.log(this.plotConfig);\n    console.log('loading config');\n    this.emitPlotConfig();\n  }\n\n  loadConfigFromString() {\n    // this.plotConfig = JSON.parse();\n    if (this.tempPlotConfig !== undefined && this.tempPlotConfigValid) {\n      this.plotConfig = this.tempPlotConfig;\n      this.emitPlotConfig();\n    }\n  }\n\n  resetConfig() {\n    this.plotConfig = { ...EMPTY_PLOTCONFIG };\n  }\n\n  async loadPlotConfigFromStrategy() {\n    try {\n      await this.getStrategyPlotConfig();\n      this.plotConfig = this.strategyPlotConfig;\n      this.emitPlotConfig();\n    } catch (data) {\n      //\n      this.addAlert({ message: 'Failed to load Plot configuration from Strategy.' });\n    }\n  }\n}\n</script>\n\n<style scoped>\n.textArea {\n  min-height: 250px;\n}\n\n.form-group {\n  margin-bottom: 0.5rem;\n}\nhr {\n  margin-bottom: 0.5rem;\n  margin-top: 0.5rem;\n}\n</style>\n","\n<div v-if=\"columns\">\n  <b-form-group label=\"Plot config name\" label-for=\"idPlotConfigName\">\n    <b-form-input id=\"idPlotConfigName\" v-model=\"plotConfigNameLoc\" size=\"sm\"> </b-form-input>\n  </b-form-group>\n  <div class=\"col-mb-3\">\n    <hr />\n\n    <b-form-group label=\"Target\" label-for=\"FieldSel\">\n      <b-form-select id=\"FieldSel\" v-model=\"selSubPlot\" :options=\"subplots\" :select-size=\"3\">\n      </b-form-select>\n    </b-form-group>\n  </div>\n  <b-form-group label=\"Add new plot\" label-for=\"newSubPlot\">\n    <b-input-group size=\"sm\">\n      <b-form-input id=\"newSubPlot\" v-model=\"newSubplotName\" class=\"addPlot\"></b-form-input>\n      <b-input-group-append>\n        <b-button :disabled=\"!newSubplotName\" @click=\"addSubplot\">+</b-button>\n        <b-button v-if=\"selSubPlot && selSubPlot != 'main_plot'\" @click=\"delSubplot\">-</b-button>\n      </b-input-group-append>\n    </b-input-group>\n  </b-form-group>\n  <hr />\n  <div>\n    <b-form-group label=\"Used indicators\" label-for=\"selectedIndicators\">\n      <b-form-select\n        id=\"selectedIndicators\"\n        v-model=\"selIndicatorName\"\n        :options=\"usedColumns\"\n        :select-size=\"4\"\n      >\n      </b-form-select>\n    </b-form-group>\n  </div>\n  <div>\n    <b-button\n      variant=\"primary\"\n      title=\"Add indicator to plot\"\n      size=\"sm\"\n      :disabled=\"addNewIndicator\"\n      @click=\"addNewIndicator = !addNewIndicator\"\n    >\n      Add new indicator\n    </b-button>\n    <b-button\n      variant=\"primary\"\n      title=\"Remove indicator to plot\"\n      size=\"sm\"\n      :disabled=\"!selIndicatorName\"\n      class=\"ml-1\"\n      @click=\"removeIndicator\"\n    >\n      Remove indicator\n    </b-button>\n  </div>\n\n  <PlotIndicator\n    v-if=\"selIndicatorName || addNewIndicator\"\n    v-model=\"selIndicator\"\n    class=\"mt-1\"\n    :columns=\"columns\"\n    :add-new=\"addNewIndicator\"\n  />\n  <hr />\n\n  <div>\n    <b-button class=\"ml-1\" variant=\"primary\" size=\"sm\" @click=\"loadPlotConfig\">Load</b-button>\n    <b-button class=\"ml-1\" variant=\"primary\" size=\"sm\" @click=\"loadPlotConfigFromStrategy\">\n      From strategy\n    </b-button>\n\n    <b-button\n      class=\"ml-1\"\n      variant=\"primary\"\n      size=\"sm\"\n      data-toggle=\"tooltip\"\n      title=\"Save configuration\"\n      @click=\"savePlotConfig\"\n      >Save</b-button\n    >\n    <b-button\n      class=\"ml-1\"\n      variant=\"primary\"\n      size=\"sm\"\n      title=\"Load configuration from text box below\"\n      @click=\"resetConfig\"\n      >Reset</b-button\n    >\n    <b-button\n      id=\"showButton\"\n      class=\"ml-1\"\n      variant=\"primary\"\n      size=\"sm\"\n      title=\"Show configuration for easy transfer to a strategy\"\n      @click=\"showConfig = !showConfig\"\n      >Show</b-button\n    >\n\n    <b-button\n      v-if=\"showConfig\"\n      class=\"ml-1\"\n      variant=\"primary\"\n      size=\"sm\"\n      title=\"Load configuration from text box below\"\n      @click=\"loadConfigFromString\"\n      >Load from String</b-button\n    >\n  </div>\n  <div v-if=\"showConfig\" class=\"col-mb-5 ml-1 mt-2\">\n    <b-textarea\n      id=\"TextArea\"\n      v-model=\"plotConfigJson\"\n      class=\"textArea\"\n      size=\"sm\"\n      :state=\"tempPlotConfigValid\"\n    >\n    </b-textarea>\n  </div>\n</div>\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.VueSelect=e():t.VueSelect=e()}(\"undefined\"!=typeof self?self:this,(function(){return(()=>{var t={646:t=>{t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},713:t=>{t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},860:t=>{t.exports=function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}},206:t=>{t.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}},319:(t,e,n)=>{var o=n(646),i=n(860),s=n(206);t.exports=function(t){return o(t)||i(t)||s()}},8:t=>{function e(n){return\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},e(n)}t.exports=e}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})};var o={};return(()=>{\"use strict\";n.r(o),n.d(o,{VueSelect:()=>m,default:()=>O,mixins:()=>_});var t=n(319),e=n.n(t),i=n(8),s=n.n(i),r=n(713),a=n.n(r);const l={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()},open:function(t){var e=this;this.autoscroll&&t&&this.$nextTick((function(){return e.maybeAdjustScroll()}))}},methods:{maybeAdjustScroll:function(){var t,e=(null===(t=this.$refs.dropdownMenu)||void 0===t?void 0:t.children[this.typeAheadPointer])||!1;if(e){var n=this.getDropdownViewport(),o=e.getBoundingClientRect(),i=o.top,s=o.bottom,r=o.height;if(i<n.top)return this.$refs.dropdownMenu.scrollTop=e.offsetTop;if(s>n.bottom)return this.$refs.dropdownMenu.scrollTop=e.offsetTop-(n.height-r)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},c={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},open:function(t){t&&this.typeAheadToLastSelected()},selectedValue:function(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp:function(){for(var t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadDown:function(){for(var t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadSelect:function(){var t=this.filteredOptions[this.typeAheadPointer];t&&this.selectable(t)&&this.select(t)},typeAheadToLastSelected:function(){this.typeAheadPointer=0!==this.selectedValue.length?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},u={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit(\"search\",this.search,this.toggleLoading)},loading:function(t){this.mutableLoading=t}},methods:{toggleLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==t?!this.mutableLoading:t}}};function p(t,e,n,o,i,s,r,a){var l,c=\"function\"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),s&&(c._scopeId=\"data-v-\"+s),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=a?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:t,options:c}}const h={Deselect:p({},(function(){var t=this.$createElement,e=this._self._c||t;return e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"10\",height:\"10\"}},[e(\"path\",{attrs:{d:\"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z\"}})])}),[],!1,null,null,null).exports,OpenIndicator:p({},(function(){var t=this.$createElement,e=this._self._c||t;return e(\"svg\",{attrs:{xmlns:\"http://www.w3.org/2000/svg\",width:\"14\",height:\"10\"}},[e(\"path\",{attrs:{d:\"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z\"}})])}),[],!1,null,null,null).exports},d={inserted:function(t,e,n){var o=n.context;if(o.appendToBody){var i=o.$refs.toggle.getBoundingClientRect(),s=i.height,r=i.top,a=i.left,l=i.width,c=window.scrollX||window.pageXOffset,u=window.scrollY||window.pageYOffset;t.unbindPosition=o.calculatePosition(t,o,{width:l+\"px\",left:c+a+\"px\",top:u+r+s+\"px\"}),document.body.appendChild(t)}},unbind:function(t,e,n){n.context.appendToBody&&(t.unbindPosition&&\"function\"==typeof t.unbindPosition&&t.unbindPosition(),t.parentNode&&t.parentNode.removeChild(t))}};const f=function(t){var e={};return Object.keys(t).sort().forEach((function(n){e[n]=t[n]})),JSON.stringify(e)};var y=0;const b=function(){return++y};function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const m=p({components:v({},h),directives:{appendToBody:d},mixins:[l,c,u],props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:\"\"},transition:{type:String,default:\"vs__fade\"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:\"label\"},autocomplete:{type:String,default:\"off\"},reduce:{type:Function,default:function(t){return t}},selectable:{type:Function,default:function(t){return!0}},getOptionLabel:{type:Function,default:function(t){return\"object\"===s()(t)?t.hasOwnProperty(this.label)?t[this.label]:console.warn('[vue-select warn]: Label key \"option.'.concat(this.label,'\" does not')+\" exist in options object \".concat(JSON.stringify(t),\".\\n\")+\"https://vue-select.org/api/props.html#getoptionlabel\"):t}},getOptionKey:{type:Function,default:function(t){if(\"object\"!==s()(t))return t;try{return t.hasOwnProperty(\"id\")?t.id:f(t)}catch(e){return console.warn(\"[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\\nhttps://vue-select.org/api/props.html#getoptionkey\",t,e)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(t,e,n){return(e||\"\").toLocaleLowerCase().indexOf(n.toLocaleLowerCase())>-1}},filter:{type:Function,default:function(t,e){var n=this;return t.filter((function(t){var o=n.getOptionLabel(t);return\"number\"==typeof o&&(o=o.toString()),n.filterBy(t,o,e)}))}},createOption:{type:Function,default:function(t){return\"object\"===s()(this.optionList[0])?a()({},this.label,t):t}},resetOnOptionsChange:{default:!1,validator:function(t){return[\"function\",\"boolean\"].includes(s()(t))}},clearSearchOnBlur:{type:Function,default:function(t){var e=t.clearSearchOnSelect,n=t.multiple;return e&&!n}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:\"auto\"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:\"[type=search]\"},mapKeydown:{type:Function,default:function(t,e){return t}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(t,e,n){var o=n.width,i=n.top,s=n.left;t.style.top=i,t.style.left=s,t.style.width=o}},dropdownShouldOpen:{type:Function,default:function(t){var e=t.noDrop,n=t.open,o=t.mutableLoading;return!e&&(n&&!o)}},uid:{type:[String,Number],default:function(){return b()}}},data:function(){return{search:\"\",open:!1,isComposing:!1,pushedTags:[],_value:[]}},computed:{isTrackingValues:function(){return void 0===this.value||this.$options.propsData.hasOwnProperty(\"reduce\")},selectedValue:function(){var t=this.value;return this.isTrackingValues&&(t=this.$data._value),null!=t&&\"\"!==t?[].concat(t):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var t=this,e={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:v({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,\"aria-autocomplete\":\"list\",\"aria-labelledby\":\"vs\".concat(this.uid,\"__combobox\"),\"aria-controls\":\"vs\".concat(this.uid,\"__listbox\"),ref:\"search\",type:\"search\",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{\"aria-activedescendant\":\"vs\".concat(this.uid,\"__option-\").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return t.isComposing=!0},compositionend:function(){return t.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(e){return t.search=e.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:\"openIndicator\",role:\"presentation\",class:\"vs__open-indicator\"}},listHeader:e,listFooter:e,header:v({},e,{deselect:this.deselect}),footer:v({},e,{deselect:this.deselect})}},childComponents:function(){return v({},h,{},this.components)},stateClasses:function(){return{\"vs--open\":this.dropdownOpen,\"vs--single\":!this.multiple,\"vs--multiple\":this.multiple,\"vs--searching\":this.searching&&!this.noDrop,\"vs--searchable\":this.searchable&&!this.noDrop,\"vs--unsearchable\":!this.searchable,\"vs--loading\":this.mutableLoading,\"vs--disabled\":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return this.dropdownShouldOpen(this)},searchPlaceholder:function(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions:function(){var t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;var e=this.search.length?this.filter(t,this.search,this):t;if(this.taggable&&this.search.length){var n=this.createOption(this.search);this.optionExists(n)||e.unshift(n)}return e},isValueEmpty:function(){return 0===this.selectedValue.length},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options:function(t,e){var n=this;!this.taggable&&(\"function\"==typeof n.resetOnOptionsChange?n.resetOnOptionsChange(t,e,n.selectedValue):n.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:{immediate:!0,handler:function(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)}},multiple:function(){this.clearSelection()},open:function(t){this.$emit(t?\"open\":\"close\")}},created:function(){this.mutableLoading=this.loading,this.$on(\"option:created\",this.pushTag)},methods:{setInternalValueFromOptions:function(t){var e=this;Array.isArray(t)?this.$data._value=t.map((function(t){return e.findOptionFromReducedValue(t)})):this.$data._value=this.findOptionFromReducedValue(t)},select:function(t){this.$emit(\"option:selecting\",t),this.isOptionSelected(t)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(t):(this.taggable&&!this.optionExists(t)&&this.$emit(\"option:created\",t),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t),this.$emit(\"option:selected\",t)),this.onAfterSelect(t)},deselect:function(t){var e=this;this.$emit(\"option:deselecting\",t),this.updateValue(this.selectedValue.filter((function(n){return!e.optionComparator(n,t)}))),this.$emit(\"option:deselected\",t)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(t){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search=\"\")},updateValue:function(t){var e=this;void 0===this.value&&(this.$data._value=t),null!==t&&(t=Array.isArray(t)?t.map((function(t){return e.reduce(t)})):this.reduce(t)),this.$emit(\"input\",t)},toggleDropdown:function(t){var n=t.target!==this.searchEl;n&&t.preventDefault();var o=[].concat(e()(this.$refs.deselectButtons||[]),e()([this.$refs.clearButton]||0));void 0===this.searchEl||o.filter(Boolean).some((function(e){return e.contains(t.target)||e===t.target}))?t.preventDefault():this.open&&n?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(t){var e=this;return this.selectedValue.some((function(n){return e.optionComparator(n,t)}))},isOptionDeselectable:function(t){return this.isOptionSelected(t)&&this.deselectFromDropdown},optionComparator:function(t,e){return this.getOptionKey(t)===this.getOptionKey(e)},findOptionFromReducedValue:function(t){var n=this,o=[].concat(e()(this.options),e()(this.pushedTags)).filter((function(e){return JSON.stringify(n.reduce(e))===JSON.stringify(t)}));return 1===o.length?o[0]:o.find((function(t){return n.optionComparator(t,n.$data._value)}))||t},closeSearchOptions:function(){this.open=!1,this.$emit(\"search:blur\")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var t=null;this.multiple&&(t=e()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(t)}},optionExists:function(t){var e=this;return this.optionList.some((function(n){return e.optionComparator(n,t)}))},normalizeOptionForSlot:function(t){return\"object\"===s()(t)?t:a()({},this.label,t)},pushTag:function(t){this.pushedTags.push(t)},onEscape:function(){this.search.length?this.search=\"\":this.searchEl.blur()},onSearchBlur:function(){if(!this.mousedown||this.searching){var t=this.clearSearchOnSelect,e=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:t,multiple:e})&&(this.search=\"\"),void this.closeSearchOptions()}this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit(\"search:focus\")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(t){var e=this,n=function(t){return t.preventDefault(),!e.isComposing&&e.typeAheadSelect()},o={8:function(t){return e.maybeDeleteValue()},9:function(t){return e.onTab()},27:function(t){return e.onEscape()},38:function(t){return t.preventDefault(),e.typeAheadUp()},40:function(t){return t.preventDefault(),e.typeAheadDown()}};this.selectOnKeyCodes.forEach((function(t){return o[t]=n}));var i=this.mapKeydown(o,this);if(\"function\"==typeof i[t.keyCode])return i[t.keyCode](t)}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"v-select\",class:t.stateClasses,attrs:{dir:t.dir}},[t._t(\"header\",null,null,t.scope.header),t._v(\" \"),n(\"div\",{ref:\"toggle\",staticClass:\"vs__dropdown-toggle\",attrs:{id:\"vs\"+t.uid+\"__combobox\",role:\"combobox\",\"aria-expanded\":t.dropdownOpen.toString(),\"aria-owns\":\"vs\"+t.uid+\"__listbox\",\"aria-label\":\"Search for option\"},on:{mousedown:function(e){return t.toggleDropdown(e)}}},[n(\"div\",{ref:\"selectedOptions\",staticClass:\"vs__selected-options\"},[t._l(t.selectedValue,(function(e){return t._t(\"selected-option-container\",[n(\"span\",{key:t.getOptionKey(e),staticClass:\"vs__selected\"},[t._t(\"selected-option\",[t._v(\"\\n            \"+t._s(t.getOptionLabel(e))+\"\\n          \")],null,t.normalizeOptionForSlot(e)),t._v(\" \"),t.multiple?n(\"button\",{ref:\"deselectButtons\",refInFor:!0,staticClass:\"vs__deselect\",attrs:{disabled:t.disabled,type:\"button\",title:\"Deselect \"+t.getOptionLabel(e),\"aria-label\":\"Deselect \"+t.getOptionLabel(e)},on:{click:function(n){return t.deselect(e)}}},[n(t.childComponents.Deselect,{tag:\"component\"})],1):t._e()],2)],{option:t.normalizeOptionForSlot(e),deselect:t.deselect,multiple:t.multiple,disabled:t.disabled})})),t._v(\" \"),t._t(\"search\",[n(\"input\",t._g(t._b({staticClass:\"vs__search\"},\"input\",t.scope.search.attributes,!1),t.scope.search.events))],null,t.scope.search)],2),t._v(\" \"),n(\"div\",{ref:\"actions\",staticClass:\"vs__actions\"},[n(\"button\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.showClearButton,expression:\"showClearButton\"}],ref:\"clearButton\",staticClass:\"vs__clear\",attrs:{disabled:t.disabled,type:\"button\",title:\"Clear Selected\",\"aria-label\":\"Clear Selected\"},on:{click:t.clearSelection}},[n(t.childComponents.Deselect,{tag:\"component\"})],1),t._v(\" \"),t._t(\"open-indicator\",[t.noDrop?t._e():n(t.childComponents.OpenIndicator,t._b({tag:\"component\"},\"component\",t.scope.openIndicator.attributes,!1))],null,t.scope.openIndicator),t._v(\" \"),t._t(\"spinner\",[n(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.mutableLoading,expression:\"mutableLoading\"}],staticClass:\"vs__spinner\"},[t._v(\"Loading...\")])],null,t.scope.spinner)],2)]),t._v(\" \"),n(\"transition\",{attrs:{name:t.transition}},[t.dropdownOpen?n(\"ul\",{directives:[{name:\"append-to-body\",rawName:\"v-append-to-body\"}],key:\"vs\"+t.uid+\"__listbox\",ref:\"dropdownMenu\",staticClass:\"vs__dropdown-menu\",attrs:{id:\"vs\"+t.uid+\"__listbox\",role:\"listbox\",tabindex:\"-1\"},on:{mousedown:function(e){return e.preventDefault(),t.onMousedown(e)},mouseup:t.onMouseUp}},[t._t(\"list-header\",null,null,t.scope.listHeader),t._v(\" \"),t._l(t.filteredOptions,(function(e,o){return n(\"li\",{key:t.getOptionKey(e),staticClass:\"vs__dropdown-option\",class:{\"vs__dropdown-option--deselect\":t.isOptionDeselectable(e)&&o===t.typeAheadPointer,\"vs__dropdown-option--selected\":t.isOptionSelected(e),\"vs__dropdown-option--highlight\":o===t.typeAheadPointer,\"vs__dropdown-option--disabled\":!t.selectable(e)},attrs:{id:\"vs\"+t.uid+\"__option-\"+o,role:\"option\",\"aria-selected\":o===t.typeAheadPointer||null},on:{mouseover:function(n){t.selectable(e)&&(t.typeAheadPointer=o)},click:function(n){n.preventDefault(),n.stopPropagation(),t.selectable(e)&&t.select(e)}}},[t._t(\"option\",[t._v(\"\\n          \"+t._s(t.getOptionLabel(e))+\"\\n        \")],null,t.normalizeOptionForSlot(e))],2)})),t._v(\" \"),0===t.filteredOptions.length?n(\"li\",{staticClass:\"vs__no-options\"},[t._t(\"no-options\",[t._v(\"\\n          Sorry, no matching options.\\n        \")],null,t.scope.noOptions)],2):t._e(),t._v(\" \"),t._t(\"list-footer\",null,null,t.scope.listFooter)],2):n(\"ul\",{staticStyle:{display:\"none\",visibility:\"hidden\"},attrs:{id:\"vs\"+t.uid+\"__listbox\",role:\"listbox\"}})]),t._v(\" \"),t._t(\"footer\",null,null,t.scope.footer)],2)}),[],!1,null,null,null).exports,_={ajax:u,pointer:c,pointerScroll:l},O=m})(),o})()}));\n//# sourceMappingURL=vue-select.js.map","<template>\n  <div class=\"d-flex h-100\">\n    <div class=\"flex-fill container-fluid flex-column align-items-stretch d-flex h-100\">\n      <b-modal\n        v-if=\"plotConfigModal\"\n        id=\"plotConfiguratorModal\"\n        title=\"Plot Configurator\"\n        ok-only\n        hide-backdrop\n        button-size=\"sm\"\n      >\n        <PlotConfigurator v-model=\"plotConfig\" :columns=\"datasetColumns\" />\n      </b-modal>\n\n      <div class=\"row mr-0\">\n        <div class=\"ml-2 d-flex flex-wrap flex-md-nowrap align-items-center\">\n          <span class=\"ml-2 text-nowrap\">{{ strategyName }} | {{ timeframe || '' }}</span>\n          <v-select\n            v-model=\"pair\"\n            class=\"ml-2\"\n            :options=\"availablePairs\"\n            style=\"min-width: 7em\"\n            size=\"sm\"\n            :clearable=\"false\"\n            @change=\"refresh\"\n          >\n          </v-select>\n\n          <b-button class=\"ml-2\" :disabled=\"!!!pair\" size=\"sm\" @click=\"refresh\">&#x21bb;</b-button>\n          <small v-if=\"dataset\" class=\"ml-2 text-nowrap\"\n            >Buysignals: {{ dataset.buy_signals }}</small\n          >\n          <small v-if=\"dataset\" class=\"ml-2 text-nowrap\"\n            >SellSignals: {{ dataset.sell_signals }}</small\n          >\n          <small v-if=\"dataset && dataset.enter_short_signals\" class=\"ml-2 text-nowrap\"\n            >Short entries: {{ dataset.enter_short_signals }}</small\n          >\n          <small v-if=\"dataset && dataset.exit_short_signals\" class=\"ml-2 text-nowrap\"\n            >Short exits: {{ dataset.exit_short_signals }}</small\n          >\n        </div>\n        <div class=\"ml-auto mr-2\">\n          <b-select\n            v-model=\"plotConfigName\"\n            :options=\"availablePlotConfigNames\"\n            size=\"sm\"\n            @change=\"plotConfigChanged\"\n          >\n          </b-select>\n        </div>\n\n        <div class=\"mr-0 mr-md-1\">\n          <b-button size=\"sm\" title=\"Plot configurator\" @click=\"showConfigurator\">&#9881;</b-button>\n        </div>\n      </div>\n      <div class=\"row mr-1 ml-1 h-100\">\n        <CandleChart\n          v-if=\"hasDataset\"\n          :dataset=\"dataset\"\n          :trades=\"trades\"\n          :plot-config=\"plotConfig\"\n          :use-u-t-c=\"timezone === 'UTC'\"\n          :theme=\"getChartTheme\"\n        >\n        </CandleChart>\n        <div v-else class=\"m-auto\">\n          <b-spinner v-if=\"isLoadingDataset\" label=\"Spinning\" />\n\n          <div v-else style=\"font-size: 1.5rem\">\n            {{ noDatasetText }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <transition name=\"fade\" mode=\"in-out\">\n      <div v-if=\"!plotConfigModal\" v-show=\"showPlotConfig\" class=\"w-25 config-sidebar\">\n        <PlotConfigurator v-model=\"plotConfig\" :columns=\"datasetColumns\" :as-modal=\"false\" />\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\nimport { Getter, namespace } from 'vuex-class';\nimport {\n  Trade,\n  PairHistory,\n  EMPTY_PLOTCONFIG,\n  PlotConfig,\n  PairCandlePayload,\n  PairHistoryPayload,\n  LoadingStatus,\n} from '@/types';\nimport CandleChart from '@/components/charts/CandleChart.vue';\nimport PlotConfigurator from '@/components/charts/PlotConfigurator.vue';\nimport { getCustomPlotConfig, getPlotConfigName } from '@/shared/storage';\nimport { BotStoreGetters } from '@/store/modules/ftbot';\nimport { SettingsGetters } from '@/store/modules/settings';\nimport vSelect from 'vue-select';\nimport StoreModules from '@/store/storeSubModules';\n\nconst ftbot = namespace(StoreModules.ftbot);\nconst uiSettingsNs = namespace(StoreModules.uiSettings);\n\n@Component({ components: { CandleChart, PlotConfigurator, vSelect } })\nexport default class CandleChartContainer extends Vue {\n  @Prop({ required: true }) readonly availablePairs!: string[];\n\n  @Prop({ required: true }) readonly timeframe!: string;\n\n  @Prop({ required: false, default: () => [] }) readonly trades!: Array<Trade>;\n\n  @Prop({ required: false, default: false }) historicView!: boolean;\n\n  @Prop({ required: false, default: true }) plotConfigModal!: boolean;\n\n  /** Only required if historicView is true */\n  @Prop({ required: false, default: false }) timerange!: string;\n\n  /**\n   * Only required if historicView is true\n   */\n  @Prop({ required: false, default: false }) strategy!: string;\n\n  pair = '';\n\n  plotConfig: PlotConfig = { ...EMPTY_PLOTCONFIG };\n\n  plotConfigName = '';\n\n  showPlotConfig = this.plotConfigModal;\n\n  @Getter getChartTheme!: string;\n\n  @ftbot.Getter [BotStoreGetters.availablePlotConfigNames]!: string[];\n\n  @ftbot.Action setPlotConfigName;\n\n  @ftbot.Getter [BotStoreGetters.candleDataStatus]!: LoadingStatus;\n\n  @ftbot.Getter [BotStoreGetters.candleData]!: PairHistory;\n\n  @ftbot.Getter [BotStoreGetters.historyStatus]!: LoadingStatus;\n\n  @ftbot.Getter [BotStoreGetters.history]!: PairHistory;\n\n  @ftbot.Getter [BotStoreGetters.selectedPair]!: string;\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  @ftbot.Action public getPairCandles!: (payload: PairCandlePayload) => void;\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  @ftbot.Action public getPairHistory!: (payload: PairHistoryPayload) => void;\n\n  @uiSettingsNs.Getter [SettingsGetters.timezone]: string;\n\n  get dataset(): PairHistory {\n    if (this.historicView) {\n      return this.history[`${this.pair}__${this.timeframe}`];\n    }\n    return this.candleData[`${this.pair}__${this.timeframe}`];\n  }\n\n  get strategyName() {\n    return this.strategy || this.dataset?.strategy || '';\n  }\n\n  get datasetColumns() {\n    return this.dataset ? this.dataset.columns : [];\n  }\n\n  get isLoadingDataset(): boolean {\n    if (this.historicView) {\n      return this.historyStatus === 'loading';\n    }\n\n    return this.candleDataStatus === 'loading';\n  }\n\n  get noDatasetText(): string {\n    const status = this.historicView ? this.historyStatus : this.candleDataStatus;\n\n    switch (status) {\n      case 'loading':\n        return 'Loading...';\n\n      case 'success':\n        return 'No data available';\n\n      case 'error':\n        return 'Failed to load data';\n\n      default:\n        return 'Unknown';\n    }\n  }\n\n  get hasDataset(): boolean {\n    return !!this.dataset;\n  }\n\n  mounted() {\n    if (this.selectedPair) {\n      this.pair = this.selectedPair;\n    } else if (this.availablePairs.length > 0) {\n      [this.pair] = this.availablePairs;\n    }\n    this.plotConfigName = getPlotConfigName();\n    this.plotConfig = getCustomPlotConfig(this.plotConfigName);\n\n    if (!this.hasDataset) {\n      this.refresh();\n    }\n  }\n\n  plotConfigChanged() {\n    console.log('plotConfigChanged');\n    this.plotConfig = getCustomPlotConfig(this.plotConfigName);\n    this.setPlotConfigName(this.plotConfigName);\n  }\n\n  showConfigurator() {\n    if (this.plotConfigModal) {\n      this.$bvModal.show('plotConfiguratorModal');\n    } else {\n      this.showPlotConfig = !this.showPlotConfig;\n    }\n  }\n\n  refresh() {\n    if (this.pair && this.timeframe) {\n      if (this.historicView) {\n        this.getPairHistory({\n          pair: this.pair,\n          timeframe: this.timeframe,\n          timerange: this.timerange,\n          strategy: this.strategy,\n        });\n      } else {\n        this.getPairCandles({ pair: this.pair, timeframe: this.timeframe, limit: 500 });\n      }\n    }\n  }\n\n  @Watch('availablePairs')\n  watchAvailablePairs() {\n    if (!this.availablePairs.find((pair) => pair === this.pair)) {\n      [this.pair] = this.availablePairs;\n      this.refresh();\n    }\n  }\n\n  @Watch(BotStoreGetters.selectedPair)\n  watchSelectedPair() {\n    this.pair = this.selectedPair;\n    this.refresh();\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.fade-enter-active,\n.fade-leave-active {\n  transition: all 0.2s;\n}\n\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n  transform: translateX(30px);\n}\n</style>\n","\n<div class=\"d-flex h-100\">\n  <div class=\"flex-fill container-fluid flex-column align-items-stretch d-flex h-100\">\n    <b-modal\n      v-if=\"plotConfigModal\"\n      id=\"plotConfiguratorModal\"\n      title=\"Plot Configurator\"\n      ok-only\n      hide-backdrop\n      button-size=\"sm\"\n    >\n      <PlotConfigurator v-model=\"plotConfig\" :columns=\"datasetColumns\" />\n    </b-modal>\n\n    <div class=\"row mr-0\">\n      <div class=\"ml-2 d-flex flex-wrap flex-md-nowrap align-items-center\">\n        <span class=\"ml-2 text-nowrap\">{{ strategyName }} | {{ timeframe || '' }}</span>\n        <v-select\n          v-model=\"pair\"\n          class=\"ml-2\"\n          :options=\"availablePairs\"\n          style=\"min-width: 7em\"\n          size=\"sm\"\n          :clearable=\"false\"\n          @change=\"refresh\"\n        >\n        </v-select>\n\n        <b-button class=\"ml-2\" :disabled=\"!!!pair\" size=\"sm\" @click=\"refresh\">&#x21bb;</b-button>\n        <small v-if=\"dataset\" class=\"ml-2 text-nowrap\"\n          >Buysignals: {{ dataset.buy_signals }}</small\n        >\n        <small v-if=\"dataset\" class=\"ml-2 text-nowrap\"\n          >SellSignals: {{ dataset.sell_signals }}</small\n        >\n        <small v-if=\"dataset && dataset.enter_short_signals\" class=\"ml-2 text-nowrap\"\n          >Short entries: {{ dataset.enter_short_signals }}</small\n        >\n        <small v-if=\"dataset && dataset.exit_short_signals\" class=\"ml-2 text-nowrap\"\n          >Short exits: {{ dataset.exit_short_signals }}</small\n        >\n      </div>\n      <div class=\"ml-auto mr-2\">\n        <b-select\n          v-model=\"plotConfigName\"\n          :options=\"availablePlotConfigNames\"\n          size=\"sm\"\n          @change=\"plotConfigChanged\"\n        >\n        </b-select>\n      </div>\n\n      <div class=\"mr-0 mr-md-1\">\n        <b-button size=\"sm\" title=\"Plot configurator\" @click=\"showConfigurator\">&#9881;</b-button>\n      </div>\n    </div>\n    <div class=\"row mr-1 ml-1 h-100\">\n      <CandleChart\n        v-if=\"hasDataset\"\n        :dataset=\"dataset\"\n        :trades=\"trades\"\n        :plot-config=\"plotConfig\"\n        :use-u-t-c=\"timezone === 'UTC'\"\n        :theme=\"getChartTheme\"\n      >\n      </CandleChart>\n      <div v-else class=\"m-auto\">\n        <b-spinner v-if=\"isLoadingDataset\" label=\"Spinning\" />\n\n        <div v-else style=\"font-size: 1.5rem\">\n          {{ noDatasetText }}\n        </div>\n      </div>\n    </div>\n  </div>\n  <transition name=\"fade\" mode=\"in-out\">\n    <div v-if=\"!plotConfigModal\" v-show=\"showPlotConfig\" class=\"w-25 config-sidebar\">\n      <PlotConfigurator v-model=\"plotConfig\" :columns=\"datasetColumns\" :as-modal=\"false\" />\n    </div>\n  </transition>\n</div>\n"],"names":["graphic.BoundingRect","graphic.Path","graphic.Group","LargeSymbolDraw","installGridSimple","ScatterSeriesModel","ScatterView","layoutPoints","each","interactionMutex.take","interactionMutex.release","graphic.Rect","graphic.getTransform","graphic.transformDirection","graphic.Polyline","graphic.Polygon","graphicUtil.clipPointsByRect","zrUtil.each","zrUtil.isArray","zrUtil.extend","zrUtil.curry","graphic.traverseElements","graphic.initProps","graphic.updateProps","zrUtil.map","zrUtil.isObject","CandlestickView","CandlestickSeriesModel","preprocessor","candlestickVisual","candlestickLayout","graphic.Text","numberUtil.parseDate","layout.getLayoutRect","zrUtil.logError","CalendarModel","CalendarView","Calendar","featureManager.getFeature","zrUtil.merge","zrUtil.isString","graphic.createIcon","graphic.setTooltipConfig","zrUtil.bind","listComponentHelper.layout","listComponentHelper.makeBackground","zrUtil.isFunction","textContain.getBoundingRect","zrUtil.defaults","zrUtil.indexOf","echarts.registerAction","zrUtil.filter","zrUtil.isDom","history.clear","brushHelper.makeRectPanelClipPath","brushHelper.makeRectIsTargetByCursor","brushHelper.makeLinearBrushOtherExtent","modelUtilParseFinder","BrushController","BrushTargetManager","history.push","zrUtil.clone","history.pop","history.count","parseFinder","ToolboxModel","ToolboxView","SaveAsImage","MagicType","DataView","installDataZoomSelect","TimelineModel","matrix.create","matrix.translate","matrix.rotate","TimelineAxis","graphic.Line","parsePercent","numberUtil.asc","graphic.applyTransform","TimelineView","SliderTimelineModel","SliderTimelineView","CandleChart","render","staticRenderFns","PlotIndicator","PlotConfigurator","this","CandleChartContainer"],"mappings":"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"}