{
  "version": 3,
  "sources": ["../zrender/lib/zrender.js", "../zrender/lib/mixin/Draggable.js", "../zrender/lib/core/fourPointsTransform.js", "../zrender/lib/core/dom.js", "../zrender/lib/core/event.js", "../zrender/lib/core/GestureMgr.js", "../zrender/lib/Handler.js", "../zrender/lib/core/timsort.js", "../zrender/lib/Storage.js", "../zrender/lib/animation/Animation.js", "../zrender/lib/dom/HandlerProxy.js", "../echarts/lib/view/Component.js", "../echarts/lib/chart/helper/createRenderPlanner.js", "../echarts/lib/view/Chart.js", "../echarts/lib/util/throttle.js", "../echarts/lib/model/globalDefault.js", "../echarts/lib/model/internalComponentCreator.js", "../echarts/lib/model/Global.js", "../echarts/lib/core/ExtensionAPI.js", "../echarts/lib/core/CoordinateSystem.js", "../echarts/lib/model/OptionManager.js", "../echarts/lib/preprocessor/helper/compatStyle.js", "../echarts/lib/preprocessor/backwardCompat.js", "../echarts/lib/processor/dataStack.js", "../echarts/lib/visual/style.js", "../echarts/lib/loading/default.js", "../echarts/lib/core/Scheduler.js", "../echarts/lib/theme/light.js", "../echarts/lib/theme/dark.js", "../echarts/lib/util/ECEventProcessor.js", "../echarts/lib/visual/symbol.js", "../echarts/lib/visual/helper.js", "../echarts/lib/legacy/dataSelectAction.js", "../echarts/lib/util/event.js", "../zrender/lib/core/WeakMap.js", "../echarts/lib/util/symbol.js", "../echarts/lib/util/decal.js", "../echarts/lib/visual/decal.js", "../echarts/lib/core/lifecycle.js", "../echarts/lib/core/impl.js", "../echarts/lib/core/echarts.js", "../echarts/lib/data/helper/dimensionHelper.js", "../echarts/lib/data/SeriesDimensionDefine.js", "../echarts/lib/data/helper/SeriesDataSchema.js", "../echarts/lib/data/SeriesData.js", "../echarts/lib/extension.js", "../zrender/lib/contain/polygon.js", "../echarts/lib/coord/geo/Region.js", "../echarts/lib/coord/geo/parseGeoJson.js", "../echarts/lib/scale/Scale.js", "../echarts/lib/data/OrdinalMeta.js", "../echarts/lib/scale/helper.js", "../echarts/lib/scale/Ordinal.js", "../echarts/lib/scale/Interval.js", "../echarts/lib/data/helper/dataStackHelper.js", "../echarts/lib/util/vendor.js", "../echarts/lib/layout/barGrid.js", "../echarts/lib/scale/Time.js", "../echarts/lib/scale/Log.js", "../echarts/lib/coord/scaleRawExtentInfo.js", "../echarts/lib/coord/axisHelper.js", "../echarts/lib/coord/axisTickLabelBuilder.js", "../echarts/lib/coord/Axis.js", "../echarts/lib/coord/axisModelCommonMixin.js"],
  "sourcesContent": ["/*!\n* ZRender, a high performance 2d drawing library.\n*\n* Copyright (c) 2013, Baidu Inc.\n* All rights reserved.\n*\n* LICENSE\n* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n*/\nimport env from './core/env.js';\nimport * as zrUtil from './core/util.js';\nimport Handler from './Handler.js';\nimport Storage from './Storage.js';\nimport Animation, { getTime } from './animation/Animation.js';\nimport HandlerProxy from './dom/HandlerProxy.js';\nimport { lum } from './tool/color.js';\nimport { DARK_MODE_THRESHOLD } from './config.js';\nimport Group from './graphic/Group.js';\nvar painterCtors = {};\nvar instances = {};\nfunction delInstance(id) {\n    delete instances[id];\n}\nfunction isDarkMode(backgroundColor) {\n    if (!backgroundColor) {\n        return false;\n    }\n    if (typeof backgroundColor === 'string') {\n        return lum(backgroundColor, 1) < DARK_MODE_THRESHOLD;\n    }\n    else if (backgroundColor.colorStops) {\n        var colorStops = backgroundColor.colorStops;\n        var totalLum = 0;\n        var len = colorStops.length;\n        for (var i = 0; i < len; i++) {\n            totalLum += lum(colorStops[i].color, 1);\n        }\n        totalLum /= len;\n        return totalLum < DARK_MODE_THRESHOLD;\n    }\n    return false;\n}\nvar ZRender = (function () {\n    function ZRender(id, dom, opts) {\n        var _this = this;\n        this._sleepAfterStill = 10;\n        this._stillFrameAccum = 0;\n        this._needsRefresh = true;\n        this._needsRefreshHover = true;\n        this._darkMode = false;\n        opts = opts || {};\n        this.dom = dom;\n        this.id = id;\n        var storage = new Storage();\n        var rendererType = opts.renderer || 'canvas';\n        if (!painterCtors[rendererType]) {\n            rendererType = zrUtil.keys(painterCtors)[0];\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            if (!painterCtors[rendererType]) {\n                throw new Error(\"Renderer '\" + rendererType + \"' is not imported. Please import it first.\");\n            }\n        }\n        opts.useDirtyRect = opts.useDirtyRect == null\n            ? false\n            : opts.useDirtyRect;\n        var painter = new painterCtors[rendererType](dom, storage, opts, id);\n        var ssrMode = opts.ssr || painter.ssrOnly;\n        this.storage = storage;\n        this.painter = painter;\n        var handerProxy = (!env.node && !env.worker && !ssrMode)\n            ? new HandlerProxy(painter.getViewportRoot(), painter.root)\n            : null;\n        this.handler = new Handler(storage, painter, handerProxy, painter.root);\n        this.animation = new Animation({\n            stage: {\n                update: ssrMode ? null : function () { return _this._flush(true); }\n            }\n        });\n        if (!ssrMode) {\n            this.animation.start();\n        }\n    }\n    ZRender.prototype.add = function (el) {\n        if (!el) {\n            return;\n        }\n        this.storage.addRoot(el);\n        el.addSelfToZr(this);\n        this.refresh();\n    };\n    ZRender.prototype.remove = function (el) {\n        if (!el) {\n            return;\n        }\n        this.storage.delRoot(el);\n        el.removeSelfFromZr(this);\n        this.refresh();\n    };\n    ZRender.prototype.configLayer = function (zLevel, config) {\n        if (this.painter.configLayer) {\n            this.painter.configLayer(zLevel, config);\n        }\n        this.refresh();\n    };\n    ZRender.prototype.setBackgroundColor = function (backgroundColor) {\n        if (this.painter.setBackgroundColor) {\n            this.painter.setBackgroundColor(backgroundColor);\n        }\n        this.refresh();\n        this._backgroundColor = backgroundColor;\n        this._darkMode = isDarkMode(backgroundColor);\n    };\n    ZRender.prototype.getBackgroundColor = function () {\n        return this._backgroundColor;\n    };\n    ZRender.prototype.setDarkMode = function (darkMode) {\n        this._darkMode = darkMode;\n    };\n    ZRender.prototype.isDarkMode = function () {\n        return this._darkMode;\n    };\n    ZRender.prototype.refreshImmediately = function (fromInside) {\n        if (!fromInside) {\n            this.animation.update(true);\n        }\n        this._needsRefresh = false;\n        this.painter.refresh();\n        this._needsRefresh = false;\n    };\n    ZRender.prototype.refresh = function () {\n        this._needsRefresh = true;\n        this.animation.start();\n    };\n    ZRender.prototype.flush = function () {\n        this._flush(false);\n    };\n    ZRender.prototype._flush = function (fromInside) {\n        var triggerRendered;\n        var start = getTime();\n        if (this._needsRefresh) {\n            triggerRendered = true;\n            this.refreshImmediately(fromInside);\n        }\n        if (this._needsRefreshHover) {\n            triggerRendered = true;\n            this.refreshHoverImmediately();\n        }\n        var end = getTime();\n        if (triggerRendered) {\n            this._stillFrameAccum = 0;\n            this.trigger('rendered', {\n                elapsedTime: end - start\n            });\n        }\n        else if (this._sleepAfterStill > 0) {\n            this._stillFrameAccum++;\n            if (this._stillFrameAccum > this._sleepAfterStill) {\n                this.animation.stop();\n            }\n        }\n    };\n    ZRender.prototype.setSleepAfterStill = function (stillFramesCount) {\n        this._sleepAfterStill = stillFramesCount;\n    };\n    ZRender.prototype.wakeUp = function () {\n        this.animation.start();\n        this._stillFrameAccum = 0;\n    };\n    ZRender.prototype.refreshHover = function () {\n        this._needsRefreshHover = true;\n    };\n    ZRender.prototype.refreshHoverImmediately = function () {\n        this._needsRefreshHover = false;\n        if (this.painter.refreshHover && this.painter.getType() === 'canvas') {\n            this.painter.refreshHover();\n        }\n    };\n    ZRender.prototype.resize = function (opts) {\n        opts = opts || {};\n        this.painter.resize(opts.width, opts.height);\n        this.handler.resize();\n    };\n    ZRender.prototype.clearAnimation = function () {\n        this.animation.clear();\n    };\n    ZRender.prototype.getWidth = function () {\n        return this.painter.getWidth();\n    };\n    ZRender.prototype.getHeight = function () {\n        return this.painter.getHeight();\n    };\n    ZRender.prototype.setCursorStyle = function (cursorStyle) {\n        this.handler.setCursorStyle(cursorStyle);\n    };\n    ZRender.prototype.findHover = function (x, y) {\n        return this.handler.findHover(x, y);\n    };\n    ZRender.prototype.on = function (eventName, eventHandler, context) {\n        this.handler.on(eventName, eventHandler, context);\n        return this;\n    };\n    ZRender.prototype.off = function (eventName, eventHandler) {\n        this.handler.off(eventName, eventHandler);\n    };\n    ZRender.prototype.trigger = function (eventName, event) {\n        this.handler.trigger(eventName, event);\n    };\n    ZRender.prototype.clear = function () {\n        var roots = this.storage.getRoots();\n        for (var i = 0; i < roots.length; i++) {\n            if (roots[i] instanceof Group) {\n                roots[i].removeSelfFromZr(this);\n            }\n        }\n        this.storage.delAllRoots();\n        this.painter.clear();\n    };\n    ZRender.prototype.dispose = function () {\n        this.animation.stop();\n        this.clear();\n        this.storage.dispose();\n        this.painter.dispose();\n        this.handler.dispose();\n        this.animation =\n            this.storage =\n                this.painter =\n                    this.handler = null;\n        delInstance(this.id);\n    };\n    return ZRender;\n}());\nexport function init(dom, opts) {\n    var zr = new ZRender(zrUtil.guid(), dom, opts);\n    instances[zr.id] = zr;\n    return zr;\n}\nexport function dispose(zr) {\n    zr.dispose();\n}\nexport function disposeAll() {\n    for (var key in instances) {\n        if (instances.hasOwnProperty(key)) {\n            instances[key].dispose();\n        }\n    }\n    instances = {};\n}\nexport function getInstance(id) {\n    return instances[id];\n}\nexport function registerPainter(name, Ctor) {\n    painterCtors[name] = Ctor;\n}\nexport var version = '5.3.0';\n;\n", "var Param = (function () {\n    function Param(target, e) {\n        this.target = target;\n        this.topTarget = e && e.topTarget;\n    }\n    return Param;\n}());\nvar Draggable = (function () {\n    function Draggable(handler) {\n        this.handler = handler;\n        handler.on('mousedown', this._dragStart, this);\n        handler.on('mousemove', this._drag, this);\n        handler.on('mouseup', this._dragEnd, this);\n    }\n    Draggable.prototype._dragStart = function (e) {\n        var draggingTarget = e.target;\n        while (draggingTarget && !draggingTarget.draggable) {\n            draggingTarget = draggingTarget.parent || draggingTarget.__hostTarget;\n        }\n        if (draggingTarget) {\n            this._draggingTarget = draggingTarget;\n            draggingTarget.dragging = true;\n            this._x = e.offsetX;\n            this._y = e.offsetY;\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragstart', e.event);\n        }\n    };\n    Draggable.prototype._drag = function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n            var x = e.offsetX;\n            var y = e.offsetY;\n            var dx = x - this._x;\n            var dy = y - this._y;\n            this._x = x;\n            this._y = y;\n            draggingTarget.drift(dx, dy, e);\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'drag', e.event);\n            var dropTarget = this.handler.findHover(x, y, draggingTarget).target;\n            var lastDropTarget = this._dropTarget;\n            this._dropTarget = dropTarget;\n            if (draggingTarget !== dropTarget) {\n                if (lastDropTarget && dropTarget !== lastDropTarget) {\n                    this.handler.dispatchToElement(new Param(lastDropTarget, e), 'dragleave', e.event);\n                }\n                if (dropTarget && dropTarget !== lastDropTarget) {\n                    this.handler.dispatchToElement(new Param(dropTarget, e), 'dragenter', e.event);\n                }\n            }\n        }\n    };\n    Draggable.prototype._dragEnd = function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n            draggingTarget.dragging = false;\n        }\n        this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragend', e.event);\n        if (this._dropTarget) {\n            this.handler.dispatchToElement(new Param(this._dropTarget, e), 'drop', e.event);\n        }\n        this._draggingTarget = null;\n        this._dropTarget = null;\n    };\n    return Draggable;\n}());\nexport default Draggable;\n", "var LN2 = Math.log(2);\nfunction determinant(rows, rank, rowStart, rowMask, colMask, detCache) {\n    var cacheKey = rowMask + '-' + colMask;\n    var fullRank = rows.length;\n    if (detCache.hasOwnProperty(cacheKey)) {\n        return detCache[cacheKey];\n    }\n    if (rank === 1) {\n        var colStart = Math.round(Math.log(((1 << fullRank) - 1) & ~colMask) / LN2);\n        return rows[rowStart][colStart];\n    }\n    var subRowMask = rowMask | (1 << rowStart);\n    var subRowStart = rowStart + 1;\n    while (rowMask & (1 << subRowStart)) {\n        subRowStart++;\n    }\n    var sum = 0;\n    for (var j = 0, colLocalIdx = 0; j < fullRank; j++) {\n        var colTag = 1 << j;\n        if (!(colTag & colMask)) {\n            sum += (colLocalIdx % 2 ? -1 : 1) * rows[rowStart][j]\n                * determinant(rows, rank - 1, subRowStart, subRowMask, colMask | colTag, detCache);\n            colLocalIdx++;\n        }\n    }\n    detCache[cacheKey] = sum;\n    return sum;\n}\nexport function buildTransformer(src, dest) {\n    var mA = [\n        [src[0], src[1], 1, 0, 0, 0, -dest[0] * src[0], -dest[0] * src[1]],\n        [0, 0, 0, src[0], src[1], 1, -dest[1] * src[0], -dest[1] * src[1]],\n        [src[2], src[3], 1, 0, 0, 0, -dest[2] * src[2], -dest[2] * src[3]],\n        [0, 0, 0, src[2], src[3], 1, -dest[3] * src[2], -dest[3] * src[3]],\n        [src[4], src[5], 1, 0, 0, 0, -dest[4] * src[4], -dest[4] * src[5]],\n        [0, 0, 0, src[4], src[5], 1, -dest[5] * src[4], -dest[5] * src[5]],\n        [src[6], src[7], 1, 0, 0, 0, -dest[6] * src[6], -dest[6] * src[7]],\n        [0, 0, 0, src[6], src[7], 1, -dest[7] * src[6], -dest[7] * src[7]]\n    ];\n    var detCache = {};\n    var det = determinant(mA, 8, 0, 0, 0, detCache);\n    if (det === 0) {\n        return;\n    }\n    var vh = [];\n    for (var i = 0; i < 8; i++) {\n        for (var j = 0; j < 8; j++) {\n            vh[j] == null && (vh[j] = 0);\n            vh[j] += ((i + j) % 2 ? -1 : 1)\n                * determinant(mA, 7, i === 0 ? 1 : 0, 1 << i, 1 << j, detCache)\n                / det * dest[i];\n        }\n    }\n    return function (out, srcPointX, srcPointY) {\n        var pk = srcPointX * vh[6] + srcPointY * vh[7] + 1;\n        out[0] = (srcPointX * vh[0] + srcPointY * vh[1] + vh[2]) / pk;\n        out[1] = (srcPointX * vh[3] + srcPointY * vh[4] + vh[5]) / pk;\n    };\n}\n", "import env from './env.js';\nimport { buildTransformer } from './fourPointsTransform.js';\nvar EVENT_SAVED_PROP = '___zrEVENTSAVED';\nvar _calcOut = [];\nexport function transformLocalCoord(out, elFrom, elTarget, inX, inY) {\n    return transformCoordWithViewport(_calcOut, elFrom, inX, inY, true)\n        && transformCoordWithViewport(out, elTarget, _calcOut[0], _calcOut[1]);\n}\nexport function transformCoordWithViewport(out, el, inX, inY, inverse) {\n    if (el.getBoundingClientRect && env.domSupported && !isCanvasEl(el)) {\n        var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});\n        var markers = prepareCoordMarkers(el, saved);\n        var transformer = preparePointerTransformer(markers, saved, inverse);\n        if (transformer) {\n            transformer(out, inX, inY);\n            return true;\n        }\n    }\n    return false;\n}\nfunction prepareCoordMarkers(el, saved) {\n    var markers = saved.markers;\n    if (markers) {\n        return markers;\n    }\n    markers = saved.markers = [];\n    var propLR = ['left', 'right'];\n    var propTB = ['top', 'bottom'];\n    for (var i = 0; i < 4; i++) {\n        var marker = document.createElement('div');\n        var stl = marker.style;\n        var idxLR = i % 2;\n        var idxTB = (i >> 1) % 2;\n        stl.cssText = [\n            'position: absolute',\n            'visibility: hidden',\n            'padding: 0',\n            'margin: 0',\n            'border-width: 0',\n            'user-select: none',\n            'width:0',\n            'height:0',\n            propLR[idxLR] + ':0',\n            propTB[idxTB] + ':0',\n            propLR[1 - idxLR] + ':auto',\n            propTB[1 - idxTB] + ':auto',\n            ''\n        ].join('!important;');\n        el.appendChild(marker);\n        markers.push(marker);\n    }\n    return markers;\n}\nfunction preparePointerTransformer(markers, saved, inverse) {\n    var transformerName = inverse ? 'invTrans' : 'trans';\n    var transformer = saved[transformerName];\n    var oldSrcCoords = saved.srcCoords;\n    var srcCoords = [];\n    var destCoords = [];\n    var oldCoordTheSame = true;\n    for (var i = 0; i < 4; i++) {\n        var rect = markers[i].getBoundingClientRect();\n        var ii = 2 * i;\n        var x = rect.left;\n        var y = rect.top;\n        srcCoords.push(x, y);\n        oldCoordTheSame = oldCoordTheSame && oldSrcCoords && x === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];\n        destCoords.push(markers[i].offsetLeft, markers[i].offsetTop);\n    }\n    return (oldCoordTheSame && transformer)\n        ? transformer\n        : (saved.srcCoords = srcCoords,\n            saved[transformerName] = inverse\n                ? buildTransformer(destCoords, srcCoords)\n                : buildTransformer(srcCoords, destCoords));\n}\nexport function isCanvasEl(el) {\n    return el.nodeName.toUpperCase() === 'CANVAS';\n}\n", "import Eventful from './Eventful.js';\nimport env from './env.js';\nimport { isCanvasEl, transformCoordWithViewport } from './dom.js';\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\nvar firefoxNotSupportOffsetXY = env.browser.firefox\n    && +env.browser.version.split('.')[0] < 39;\nexport function clientToLocal(el, e, out, calculate) {\n    out = out || {};\n    if (calculate) {\n        calculateZrXY(el, e, out);\n    }\n    else if (firefoxNotSupportOffsetXY\n        && e.layerX != null\n        && e.layerX !== e.offsetX) {\n        out.zrX = e.layerX;\n        out.zrY = e.layerY;\n    }\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n    }\n    else {\n        calculateZrXY(el, e, out);\n    }\n    return out;\n}\nfunction calculateZrXY(el, e, out) {\n    if (env.domSupported && el.getBoundingClientRect) {\n        var ex = e.clientX;\n        var ey = e.clientY;\n        if (isCanvasEl(el)) {\n            var box = el.getBoundingClientRect();\n            out.zrX = ex - box.left;\n            out.zrY = ey - box.top;\n            return;\n        }\n        else {\n            if (transformCoordWithViewport(_calcOut, el, ex, ey)) {\n                out.zrX = _calcOut[0];\n                out.zrY = _calcOut[1];\n                return;\n            }\n        }\n    }\n    out.zrX = out.zrY = 0;\n}\nexport function getNativeEvent(e) {\n    return e\n        || window.event;\n}\nexport function normalizeEvent(el, e, calculate) {\n    e = getNativeEvent(e);\n    if (e.zrX != null) {\n        return e;\n    }\n    var eventType = e.type;\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\n    if (!isTouch) {\n        clientToLocal(el, e, e, calculate);\n        var wheelDelta = getWheelDeltaMayPolyfill(e);\n        e.zrDelta = wheelDelta ? wheelDelta / 120 : -(e.detail || 0) / 3;\n    }\n    else {\n        var touch = eventType !== 'touchend'\n            ? e.targetTouches[0]\n            : e.changedTouches[0];\n        touch && clientToLocal(el, touch, e, calculate);\n    }\n    var button = e.button;\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n        e.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\n    }\n    return e;\n}\nfunction getWheelDeltaMayPolyfill(e) {\n    var rawWheelDelta = e.wheelDelta;\n    if (rawWheelDelta) {\n        return rawWheelDelta;\n    }\n    var deltaX = e.deltaX;\n    var deltaY = e.deltaY;\n    if (deltaX == null || deltaY == null) {\n        return rawWheelDelta;\n    }\n    var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);\n    var sign = deltaY > 0 ? -1\n        : deltaY < 0 ? 1\n            : deltaX > 0 ? -1\n                : 1;\n    return 3 * delta * sign;\n}\nexport function addEventListener(el, name, handler, opt) {\n    el.addEventListener(name, handler, opt);\n}\nexport function removeEventListener(el, name, handler, opt) {\n    el.removeEventListener(name, handler, opt);\n}\nexport var stop = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    e.cancelBubble = true;\n};\nexport function isMiddleOrRightButtonOnMouseUpDown(e) {\n    return e.which === 2 || e.which === 3;\n}\nexport { Eventful as Dispatcher };\n", "import * as eventUtil from './event.js';\nvar GestureMgr = (function () {\n    function GestureMgr() {\n        this._track = [];\n    }\n    GestureMgr.prototype.recognize = function (event, target, root) {\n        this._doTrack(event, target, root);\n        return this._recognize(event);\n    };\n    GestureMgr.prototype.clear = function () {\n        this._track.length = 0;\n        return this;\n    };\n    GestureMgr.prototype._doTrack = function (event, target, root) {\n        var touches = event.touches;\n        if (!touches) {\n            return;\n        }\n        var trackItem = {\n            points: [],\n            touches: [],\n            target: target,\n            event: event\n        };\n        for (var i = 0, len = touches.length; i < len; i++) {\n            var touch = touches[i];\n            var pos = eventUtil.clientToLocal(root, touch, {});\n            trackItem.points.push([pos.zrX, pos.zrY]);\n            trackItem.touches.push(touch);\n        }\n        this._track.push(trackItem);\n    };\n    GestureMgr.prototype._recognize = function (event) {\n        for (var eventName in recognizers) {\n            if (recognizers.hasOwnProperty(eventName)) {\n                var gestureInfo = recognizers[eventName](this._track, event);\n                if (gestureInfo) {\n                    return gestureInfo;\n                }\n            }\n        }\n    };\n    return GestureMgr;\n}());\nexport { GestureMgr };\nfunction dist(pointPair) {\n    var dx = pointPair[1][0] - pointPair[0][0];\n    var dy = pointPair[1][1] - pointPair[0][1];\n    return Math.sqrt(dx * dx + dy * dy);\n}\nfunction center(pointPair) {\n    return [\n        (pointPair[0][0] + pointPair[1][0]) / 2,\n        (pointPair[0][1] + pointPair[1][1]) / 2\n    ];\n}\nvar recognizers = {\n    pinch: function (tracks, event) {\n        var trackLen = tracks.length;\n        if (!trackLen) {\n            return;\n        }\n        var pinchEnd = (tracks[trackLen - 1] || {}).points;\n        var pinchPre = (tracks[trackLen - 2] || {}).points || pinchEnd;\n        if (pinchPre\n            && pinchPre.length > 1\n            && pinchEnd\n            && pinchEnd.length > 1) {\n            var pinchScale = dist(pinchEnd) / dist(pinchPre);\n            !isFinite(pinchScale) && (pinchScale = 1);\n            event.pinchScale = pinchScale;\n            var pinchCenter = center(pinchEnd);\n            event.pinchX = pinchCenter[0];\n            event.pinchY = pinchCenter[1];\n            return {\n                type: 'pinch',\n                target: tracks[0].target,\n                event: event\n            };\n        }\n    }\n};\n", "import { __extends } from \"tslib\";\nimport * as util from './core/util.js';\nimport * as vec2 from './core/vector.js';\nimport Draggable from './mixin/Draggable.js';\nimport Eventful from './core/Eventful.js';\nimport * as eventTool from './core/event.js';\nimport { GestureMgr } from './core/GestureMgr.js';\nvar SILENT = 'silent';\nfunction makeEventPacket(eveType, targetInfo, event) {\n    return {\n        type: eveType,\n        event: event,\n        target: targetInfo.target,\n        topTarget: targetInfo.topTarget,\n        cancelBubble: false,\n        offsetX: event.zrX,\n        offsetY: event.zrY,\n        gestureEvent: event.gestureEvent,\n        pinchX: event.pinchX,\n        pinchY: event.pinchY,\n        pinchScale: event.pinchScale,\n        wheelDelta: event.zrDelta,\n        zrByTouch: event.zrByTouch,\n        which: event.which,\n        stop: stopEvent\n    };\n}\nfunction stopEvent() {\n    eventTool.stop(this.event);\n}\nvar EmptyProxy = (function (_super) {\n    __extends(EmptyProxy, _super);\n    function EmptyProxy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handler = null;\n        return _this;\n    }\n    EmptyProxy.prototype.dispose = function () { };\n    EmptyProxy.prototype.setCursor = function () { };\n    return EmptyProxy;\n}(Eventful));\nvar HoveredResult = (function () {\n    function HoveredResult(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return HoveredResult;\n}());\nvar handlerNames = [\n    'click', 'dblclick', 'mousewheel', 'mouseout',\n    'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n];\nvar Handler = (function (_super) {\n    __extends(Handler, _super);\n    function Handler(storage, painter, proxy, painterRoot) {\n        var _this = _super.call(this) || this;\n        _this._hovered = new HoveredResult(0, 0);\n        _this.storage = storage;\n        _this.painter = painter;\n        _this.painterRoot = painterRoot;\n        proxy = proxy || new EmptyProxy();\n        _this.proxy = null;\n        _this.setHandlerProxy(proxy);\n        _this._draggingMgr = new Draggable(_this);\n        return _this;\n    }\n    Handler.prototype.setHandlerProxy = function (proxy) {\n        if (this.proxy) {\n            this.proxy.dispose();\n        }\n        if (proxy) {\n            util.each(handlerNames, function (name) {\n                proxy.on && proxy.on(name, this[name], this);\n            }, this);\n            proxy.handler = this;\n        }\n        this.proxy = proxy;\n    };\n    Handler.prototype.mousemove = function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n        var isOutside = isOutsideBoundary(this, x, y);\n        var lastHovered = this._hovered;\n        var lastHoveredTarget = lastHovered.target;\n        if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n            lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n            lastHoveredTarget = lastHovered.target;\n        }\n        var hovered = this._hovered = isOutside ? new HoveredResult(x, y) : this.findHover(x, y);\n        var hoveredTarget = hovered.target;\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default');\n        if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(lastHovered, 'mouseout', event);\n        }\n        this.dispatchToElement(hovered, 'mousemove', event);\n        if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(hovered, 'mouseover', event);\n        }\n    };\n    Handler.prototype.mouseout = function (event) {\n        var eventControl = event.zrEventControl;\n        if (eventControl !== 'only_globalout') {\n            this.dispatchToElement(this._hovered, 'mouseout', event);\n        }\n        if (eventControl !== 'no_globalout') {\n            this.trigger('globalout', { type: 'globalout', event: event });\n        }\n    };\n    Handler.prototype.resize = function () {\n        this._hovered = new HoveredResult(0, 0);\n    };\n    Handler.prototype.dispatch = function (eventName, eventArgs) {\n        var handler = this[eventName];\n        handler && handler.call(this, eventArgs);\n    };\n    Handler.prototype.dispose = function () {\n        this.proxy.dispose();\n        this.storage = null;\n        this.proxy = null;\n        this.painter = null;\n    };\n    Handler.prototype.setCursorStyle = function (cursorStyle) {\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(cursorStyle);\n    };\n    Handler.prototype.dispatchToElement = function (targetInfo, eventName, event) {\n        targetInfo = targetInfo || {};\n        var el = targetInfo.target;\n        if (el && el.silent) {\n            return;\n        }\n        var eventKey = ('on' + eventName);\n        var eventPacket = makeEventPacket(eventName, targetInfo, event);\n        while (el) {\n            el[eventKey]\n                && (eventPacket.cancelBubble = !!el[eventKey].call(el, eventPacket));\n            el.trigger(eventName, eventPacket);\n            el = el.__hostTarget ? el.__hostTarget : el.parent;\n            if (eventPacket.cancelBubble) {\n                break;\n            }\n        }\n        if (!eventPacket.cancelBubble) {\n            this.trigger(eventName, eventPacket);\n            if (this.painter && this.painter.eachOtherLayer) {\n                this.painter.eachOtherLayer(function (layer) {\n                    if (typeof (layer[eventKey]) === 'function') {\n                        layer[eventKey].call(layer, eventPacket);\n                    }\n                    if (layer.trigger) {\n                        layer.trigger(eventName, eventPacket);\n                    }\n                });\n            }\n        }\n    };\n    Handler.prototype.findHover = function (x, y, exclude) {\n        var list = this.storage.getDisplayList();\n        var out = new HoveredResult(x, y);\n        for (var i = list.length - 1; i >= 0; i--) {\n            var hoverCheckResult = void 0;\n            if (list[i] !== exclude\n                && !list[i].ignore\n                && (hoverCheckResult = isHover(list[i], x, y))) {\n                !out.topTarget && (out.topTarget = list[i]);\n                if (hoverCheckResult !== SILENT) {\n                    out.target = list[i];\n                    break;\n                }\n            }\n        }\n        return out;\n    };\n    Handler.prototype.processGesture = function (event, stage) {\n        if (!this._gestureMgr) {\n            this._gestureMgr = new GestureMgr();\n        }\n        var gestureMgr = this._gestureMgr;\n        stage === 'start' && gestureMgr.clear();\n        var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n        stage === 'end' && gestureMgr.clear();\n        if (gestureInfo) {\n            var type = gestureInfo.type;\n            event.gestureEvent = type;\n            var res = new HoveredResult();\n            res.target = gestureInfo.target;\n            this.dispatchToElement(res, type, gestureInfo.event);\n        }\n    };\n    return Handler;\n}(Eventful));\nutil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    Handler.prototype[name] = function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n        var isOutside = isOutsideBoundary(this, x, y);\n        var hovered;\n        var hoveredTarget;\n        if (name !== 'mouseup' || !isOutside) {\n            hovered = this.findHover(x, y);\n            hoveredTarget = hovered.target;\n        }\n        if (name === 'mousedown') {\n            this._downEl = hoveredTarget;\n            this._downPoint = [event.zrX, event.zrY];\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'mouseup') {\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'click') {\n            if (this._downEl !== this._upEl\n                || !this._downPoint\n                || vec2.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n                return;\n            }\n            this._downPoint = null;\n        }\n        this.dispatchToElement(hovered, name, event);\n    };\n});\nfunction isHover(displayable, x, y) {\n    if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n        var el = displayable;\n        var isSilent = void 0;\n        var ignoreClip = false;\n        while (el) {\n            if (el.ignoreClip) {\n                ignoreClip = true;\n            }\n            if (!ignoreClip) {\n                var clipPath = el.getClipPath();\n                if (clipPath && !clipPath.contain(x, y)) {\n                    return false;\n                }\n                if (el.silent) {\n                    isSilent = true;\n                }\n            }\n            var hostEl = el.__hostTarget;\n            el = hostEl ? hostEl : el.parent;\n        }\n        return isSilent ? SILENT : true;\n    }\n    return false;\n}\nfunction isOutsideBoundary(handlerInstance, x, y) {\n    var painter = handlerInstance.painter;\n    return x < 0 || x > painter.getWidth() || y < 0 || y > painter.getHeight();\n}\nexport default Handler;\n", "var DEFAULT_MIN_MERGE = 32;\nvar DEFAULT_MIN_GALLOPING = 7;\nvar DEFAULT_TMP_STORAGE_LENGTH = 256;\nfunction minRunLength(n) {\n    var r = 0;\n    while (n >= DEFAULT_MIN_MERGE) {\n        r |= n & 1;\n        n >>= 1;\n    }\n    return n + r;\n}\nfunction makeAscendingRun(array, lo, hi, compare) {\n    var runHi = lo + 1;\n    if (runHi === hi) {\n        return 1;\n    }\n    if (compare(array[runHi++], array[lo]) < 0) {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n            runHi++;\n        }\n        reverseRun(array, lo, runHi);\n    }\n    else {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n            runHi++;\n        }\n    }\n    return runHi - lo;\n}\nfunction reverseRun(array, lo, hi) {\n    hi--;\n    while (lo < hi) {\n        var t = array[lo];\n        array[lo++] = array[hi];\n        array[hi--] = t;\n    }\n}\nfunction binaryInsertionSort(array, lo, hi, start, compare) {\n    if (start === lo) {\n        start++;\n    }\n    for (; start < hi; start++) {\n        var pivot = array[start];\n        var left = lo;\n        var right = start;\n        var mid;\n        while (left < right) {\n            mid = left + right >>> 1;\n            if (compare(pivot, array[mid]) < 0) {\n                right = mid;\n            }\n            else {\n                left = mid + 1;\n            }\n        }\n        var n = start - left;\n        switch (n) {\n            case 3:\n                array[left + 3] = array[left + 2];\n            case 2:\n                array[left + 2] = array[left + 1];\n            case 1:\n                array[left + 1] = array[left];\n                break;\n            default:\n                while (n > 0) {\n                    array[left + n] = array[left + n - 1];\n                    n--;\n                }\n        }\n        array[left] = pivot;\n    }\n}\nfunction gallopLeft(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n    if (compare(value, array[start + hint]) > 0) {\n        maxOffset = length - hint;\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        lastOffset += hint;\n        offset += hint;\n    }\n    else {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n        if (compare(value, array[start + m]) > 0) {\n            lastOffset = m + 1;\n        }\n        else {\n            offset = m;\n        }\n    }\n    return offset;\n}\nfunction gallopRight(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n    if (compare(value, array[start + hint]) < 0) {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    else {\n        maxOffset = length - hint;\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        lastOffset += hint;\n        offset += hint;\n    }\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n        if (compare(value, array[start + m]) < 0) {\n            offset = m;\n        }\n        else {\n            lastOffset = m + 1;\n        }\n    }\n    return offset;\n}\nfunction TimSort(array, compare) {\n    var minGallop = DEFAULT_MIN_GALLOPING;\n    var length = 0;\n    var tmpStorageLength = DEFAULT_TMP_STORAGE_LENGTH;\n    var stackLength = 0;\n    var runStart;\n    var runLength;\n    var stackSize = 0;\n    length = array.length;\n    if (length < 2 * DEFAULT_TMP_STORAGE_LENGTH) {\n        tmpStorageLength = length >>> 1;\n    }\n    var tmp = [];\n    stackLength = length < 120 ? 5 : length < 1542 ? 10 : length < 119151 ? 19 : 40;\n    runStart = [];\n    runLength = [];\n    function pushRun(_runStart, _runLength) {\n        runStart[stackSize] = _runStart;\n        runLength[stackSize] = _runLength;\n        stackSize += 1;\n    }\n    function mergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n            if ((n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1])\n                || (n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1])) {\n                if (runLength[n - 1] < runLength[n + 1]) {\n                    n--;\n                }\n            }\n            else if (runLength[n] > runLength[n + 1]) {\n                break;\n            }\n            mergeAt(n);\n        }\n    }\n    function forceMergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n            if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n                n--;\n            }\n            mergeAt(n);\n        }\n    }\n    function mergeAt(i) {\n        var start1 = runStart[i];\n        var length1 = runLength[i];\n        var start2 = runStart[i + 1];\n        var length2 = runLength[i + 1];\n        runLength[i] = length1 + length2;\n        if (i === stackSize - 3) {\n            runStart[i + 1] = runStart[i + 2];\n            runLength[i + 1] = runLength[i + 2];\n        }\n        stackSize--;\n        var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n        start1 += k;\n        length1 -= k;\n        if (length1 === 0) {\n            return;\n        }\n        length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n        if (length2 === 0) {\n            return;\n        }\n        if (length1 <= length2) {\n            mergeLow(start1, length1, start2, length2);\n        }\n        else {\n            mergeHigh(start1, length1, start2, length2);\n        }\n    }\n    function mergeLow(start1, length1, start2, length2) {\n        var i = 0;\n        for (i = 0; i < length1; i++) {\n            tmp[i] = array[start1 + i];\n        }\n        var cursor1 = 0;\n        var cursor2 = start2;\n        var dest = start1;\n        array[dest++] = array[cursor2++];\n        if (--length2 === 0) {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n            return;\n        }\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n            return;\n        }\n        var _minGallop = minGallop;\n        var count1;\n        var count2;\n        var exit;\n        while (1) {\n            count1 = 0;\n            count2 = 0;\n            exit = false;\n            do {\n                if (compare(array[cursor2], tmp[cursor1]) < 0) {\n                    array[dest++] = array[cursor2++];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest++] = tmp[cursor1++];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n            if (exit) {\n                break;\n            }\n            do {\n                count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n                if (count1 !== 0) {\n                    for (i = 0; i < count1; i++) {\n                        array[dest + i] = tmp[cursor1 + i];\n                    }\n                    dest += count1;\n                    cursor1 += count1;\n                    length1 -= count1;\n                    if (length1 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = array[cursor2++];\n                if (--length2 === 0) {\n                    exit = true;\n                    break;\n                }\n                count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n                if (count2 !== 0) {\n                    for (i = 0; i < count2; i++) {\n                        array[dest + i] = array[cursor2 + i];\n                    }\n                    dest += count2;\n                    cursor2 += count2;\n                    length2 -= count2;\n                    if (length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = tmp[cursor1++];\n                if (--length1 === 1) {\n                    exit = true;\n                    break;\n                }\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n            if (exit) {\n                break;\n            }\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n            _minGallop += 2;\n        }\n        minGallop = _minGallop;\n        minGallop < 1 && (minGallop = 1);\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n        }\n        else if (length1 === 0) {\n            throw new Error();\n        }\n        else {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n        }\n    }\n    function mergeHigh(start1, length1, start2, length2) {\n        var i = 0;\n        for (i = 0; i < length2; i++) {\n            tmp[i] = array[start2 + i];\n        }\n        var cursor1 = start1 + length1 - 1;\n        var cursor2 = length2 - 1;\n        var dest = start2 + length2 - 1;\n        var customCursor = 0;\n        var customDest = 0;\n        array[dest--] = array[cursor1--];\n        if (--length1 === 0) {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n            return;\n        }\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n            array[dest] = tmp[cursor2];\n            return;\n        }\n        var _minGallop = minGallop;\n        while (true) {\n            var count1 = 0;\n            var count2 = 0;\n            var exit = false;\n            do {\n                if (compare(tmp[cursor2], array[cursor1]) < 0) {\n                    array[dest--] = array[cursor1--];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest--] = tmp[cursor2--];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n            if (exit) {\n                break;\n            }\n            do {\n                count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n                if (count1 !== 0) {\n                    dest -= count1;\n                    cursor1 -= count1;\n                    length1 -= count1;\n                    customDest = dest + 1;\n                    customCursor = cursor1 + 1;\n                    for (i = count1 - 1; i >= 0; i--) {\n                        array[customDest + i] = array[customCursor + i];\n                    }\n                    if (length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest--] = tmp[cursor2--];\n                if (--length2 === 1) {\n                    exit = true;\n                    break;\n                }\n                count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n                if (count2 !== 0) {\n                    dest -= count2;\n                    cursor2 -= count2;\n                    length2 -= count2;\n                    customDest = dest + 1;\n                    customCursor = cursor2 + 1;\n                    for (i = 0; i < count2; i++) {\n                        array[customDest + i] = tmp[customCursor + i];\n                    }\n                    if (length2 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest--] = array[cursor1--];\n                if (--length1 === 0) {\n                    exit = true;\n                    break;\n                }\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n            if (exit) {\n                break;\n            }\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n            _minGallop += 2;\n        }\n        minGallop = _minGallop;\n        if (minGallop < 1) {\n            minGallop = 1;\n        }\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n            array[dest] = tmp[cursor2];\n        }\n        else if (length2 === 0) {\n            throw new Error();\n        }\n        else {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n        }\n    }\n    return {\n        mergeRuns: mergeRuns,\n        forceMergeRuns: forceMergeRuns,\n        pushRun: pushRun\n    };\n}\nexport default function sort(array, compare, lo, hi) {\n    if (!lo) {\n        lo = 0;\n    }\n    if (!hi) {\n        hi = array.length;\n    }\n    var remaining = hi - lo;\n    if (remaining < 2) {\n        return;\n    }\n    var runLength = 0;\n    if (remaining < DEFAULT_MIN_MERGE) {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n        return;\n    }\n    var ts = TimSort(array, compare);\n    var minRun = minRunLength(remaining);\n    do {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        if (runLength < minRun) {\n            var force = remaining;\n            if (force > minRun) {\n                force = minRun;\n            }\n            binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n            runLength = force;\n        }\n        ts.pushRun(lo, runLength);\n        ts.mergeRuns();\n        remaining -= runLength;\n        lo += runLength;\n    } while (remaining !== 0);\n    ts.forceMergeRuns();\n}\n", "import * as util from './core/util.js';\nimport timsort from './core/timsort.js';\nimport { REDRAW_BIT } from './graphic/constants.js';\nvar invalidZErrorLogged = false;\nfunction logInvalidZError() {\n    if (invalidZErrorLogged) {\n        return;\n    }\n    invalidZErrorLogged = true;\n    console.warn('z / z2 / zlevel of displayable is invalid, which may cause unexpected errors');\n}\nfunction shapeCompareFunc(a, b) {\n    if (a.zlevel === b.zlevel) {\n        if (a.z === b.z) {\n            return a.z2 - b.z2;\n        }\n        return a.z - b.z;\n    }\n    return a.zlevel - b.zlevel;\n}\nvar Storage = (function () {\n    function Storage() {\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        this.displayableSortFunc = shapeCompareFunc;\n    }\n    Storage.prototype.traverse = function (cb, context) {\n        for (var i = 0; i < this._roots.length; i++) {\n            this._roots[i].traverse(cb, context);\n        }\n    };\n    Storage.prototype.getDisplayList = function (update, includeIgnore) {\n        includeIgnore = includeIgnore || false;\n        var displayList = this._displayList;\n        if (update || !displayList.length) {\n            this.updateDisplayList(includeIgnore);\n        }\n        return displayList;\n    };\n    Storage.prototype.updateDisplayList = function (includeIgnore) {\n        this._displayListLen = 0;\n        var roots = this._roots;\n        var displayList = this._displayList;\n        for (var i = 0, len = roots.length; i < len; i++) {\n            this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n        }\n        displayList.length = this._displayListLen;\n        timsort(displayList, shapeCompareFunc);\n    };\n    Storage.prototype._updateAndAddDisplayable = function (el, clipPaths, includeIgnore) {\n        if (el.ignore && !includeIgnore) {\n            return;\n        }\n        el.beforeUpdate();\n        el.update();\n        el.afterUpdate();\n        var userSetClipPath = el.getClipPath();\n        if (el.ignoreClip) {\n            clipPaths = null;\n        }\n        else if (userSetClipPath) {\n            if (clipPaths) {\n                clipPaths = clipPaths.slice();\n            }\n            else {\n                clipPaths = [];\n            }\n            var currentClipPath = userSetClipPath;\n            var parentClipPath = el;\n            while (currentClipPath) {\n                currentClipPath.parent = parentClipPath;\n                currentClipPath.updateTransform();\n                clipPaths.push(currentClipPath);\n                parentClipPath = currentClipPath;\n                currentClipPath = currentClipPath.getClipPath();\n            }\n        }\n        if (el.childrenRef) {\n            var children = el.childrenRef();\n            for (var i = 0; i < children.length; i++) {\n                var child = children[i];\n                if (el.__dirty) {\n                    child.__dirty |= REDRAW_BIT;\n                }\n                this._updateAndAddDisplayable(child, clipPaths, includeIgnore);\n            }\n            el.__dirty = 0;\n        }\n        else {\n            var disp = el;\n            if (clipPaths && clipPaths.length) {\n                disp.__clipPaths = clipPaths;\n            }\n            else if (disp.__clipPaths && disp.__clipPaths.length > 0) {\n                disp.__clipPaths = [];\n            }\n            if (isNaN(disp.z)) {\n                logInvalidZError();\n                disp.z = 0;\n            }\n            if (isNaN(disp.z2)) {\n                logInvalidZError();\n                disp.z2 = 0;\n            }\n            if (isNaN(disp.zlevel)) {\n                logInvalidZError();\n                disp.zlevel = 0;\n            }\n            this._displayList[this._displayListLen++] = disp;\n        }\n        var decalEl = el.getDecalElement && el.getDecalElement();\n        if (decalEl) {\n            this._updateAndAddDisplayable(decalEl, clipPaths, includeIgnore);\n        }\n        var textGuide = el.getTextGuideLine();\n        if (textGuide) {\n            this._updateAndAddDisplayable(textGuide, clipPaths, includeIgnore);\n        }\n        var textEl = el.getTextContent();\n        if (textEl) {\n            this._updateAndAddDisplayable(textEl, clipPaths, includeIgnore);\n        }\n    };\n    Storage.prototype.addRoot = function (el) {\n        if (el.__zr && el.__zr.storage === this) {\n            return;\n        }\n        this._roots.push(el);\n    };\n    Storage.prototype.delRoot = function (el) {\n        if (el instanceof Array) {\n            for (var i = 0, l = el.length; i < l; i++) {\n                this.delRoot(el[i]);\n            }\n            return;\n        }\n        var idx = util.indexOf(this._roots, el);\n        if (idx >= 0) {\n            this._roots.splice(idx, 1);\n        }\n    };\n    Storage.prototype.delAllRoots = function () {\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        return;\n    };\n    Storage.prototype.getRoots = function () {\n        return this._roots;\n    };\n    Storage.prototype.dispose = function () {\n        this._displayList = null;\n        this._roots = null;\n    };\n    return Storage;\n}());\nexport default Storage;\n", "import { __extends } from \"tslib\";\nimport Eventful from '../core/Eventful.js';\nimport requestAnimationFrame from './requestAnimationFrame.js';\nimport Animator from './Animator.js';\nexport function getTime() {\n    return new Date().getTime();\n}\nvar Animation = (function (_super) {\n    __extends(Animation, _super);\n    function Animation(opts) {\n        var _this = _super.call(this) || this;\n        _this._running = false;\n        _this._time = 0;\n        _this._pausedTime = 0;\n        _this._pauseStart = 0;\n        _this._paused = false;\n        opts = opts || {};\n        _this.stage = opts.stage || {};\n        return _this;\n    }\n    Animation.prototype.addClip = function (clip) {\n        if (clip.animation) {\n            this.removeClip(clip);\n        }\n        if (!this._head) {\n            this._head = this._tail = clip;\n        }\n        else {\n            this._tail.next = clip;\n            clip.prev = this._tail;\n            clip.next = null;\n            this._tail = clip;\n        }\n        clip.animation = this;\n    };\n    Animation.prototype.addAnimator = function (animator) {\n        animator.animation = this;\n        var clip = animator.getClip();\n        if (clip) {\n            this.addClip(clip);\n        }\n    };\n    Animation.prototype.removeClip = function (clip) {\n        if (!clip.animation) {\n            return;\n        }\n        var prev = clip.prev;\n        var next = clip.next;\n        if (prev) {\n            prev.next = next;\n        }\n        else {\n            this._head = next;\n        }\n        if (next) {\n            next.prev = prev;\n        }\n        else {\n            this._tail = prev;\n        }\n        clip.next = clip.prev = clip.animation = null;\n    };\n    Animation.prototype.removeAnimator = function (animator) {\n        var clip = animator.getClip();\n        if (clip) {\n            this.removeClip(clip);\n        }\n        animator.animation = null;\n    };\n    Animation.prototype.update = function (notTriggerFrameAndStageUpdate) {\n        var time = getTime() - this._pausedTime;\n        var delta = time - this._time;\n        var clip = this._head;\n        while (clip) {\n            var nextClip = clip.next;\n            var finished = clip.step(time, delta);\n            if (finished) {\n                clip.ondestroy();\n                this.removeClip(clip);\n                clip = nextClip;\n            }\n            else {\n                clip = nextClip;\n            }\n        }\n        this._time = time;\n        if (!notTriggerFrameAndStageUpdate) {\n            this.trigger('frame', delta);\n            this.stage.update && this.stage.update();\n        }\n    };\n    Animation.prototype._startLoop = function () {\n        var self = this;\n        this._running = true;\n        function step() {\n            if (self._running) {\n                requestAnimationFrame(step);\n                !self._paused && self.update();\n            }\n        }\n        requestAnimationFrame(step);\n    };\n    Animation.prototype.start = function () {\n        if (this._running) {\n            return;\n        }\n        this._time = getTime();\n        this._pausedTime = 0;\n        this._startLoop();\n    };\n    Animation.prototype.stop = function () {\n        this._running = false;\n    };\n    Animation.prototype.pause = function () {\n        if (!this._paused) {\n            this._pauseStart = getTime();\n            this._paused = true;\n        }\n    };\n    Animation.prototype.resume = function () {\n        if (this._paused) {\n            this._pausedTime += getTime() - this._pauseStart;\n            this._paused = false;\n        }\n    };\n    Animation.prototype.clear = function () {\n        var clip = this._head;\n        while (clip) {\n            var nextClip = clip.next;\n            clip.prev = clip.next = clip.animation = null;\n            clip = nextClip;\n        }\n        this._head = this._tail = null;\n    };\n    Animation.prototype.isFinished = function () {\n        return this._head == null;\n    };\n    Animation.prototype.animate = function (target, options) {\n        options = options || {};\n        this.start();\n        var animator = new Animator(target, options.loop);\n        this.addAnimator(animator);\n        return animator;\n    };\n    return Animation;\n}(Eventful));\nexport default Animation;\n", "import { __extends } from \"tslib\";\nimport { addEventListener, removeEventListener, normalizeEvent, getNativeEvent } from '../core/event.js';\nimport * as zrUtil from '../core/util.js';\nimport Eventful from '../core/Eventful.js';\nimport env from '../core/env.js';\nvar TOUCH_CLICK_DELAY = 300;\nvar globalEventSupported = env.domSupported;\nvar localNativeListenerNames = (function () {\n    var mouseHandlerNames = [\n        'click', 'dblclick', 'mousewheel', 'wheel', 'mouseout',\n        'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n    ];\n    var touchHandlerNames = [\n        'touchstart', 'touchend', 'touchmove'\n    ];\n    var pointerEventNameMap = {\n        pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1\n    };\n    var pointerHandlerNames = zrUtil.map(mouseHandlerNames, function (name) {\n        var nm = name.replace('mouse', 'pointer');\n        return pointerEventNameMap.hasOwnProperty(nm) ? nm : name;\n    });\n    return {\n        mouse: mouseHandlerNames,\n        touch: touchHandlerNames,\n        pointer: pointerHandlerNames\n    };\n})();\nvar globalNativeListenerNames = {\n    mouse: ['mousemove', 'mouseup'],\n    pointer: ['pointermove', 'pointerup']\n};\nvar wheelEventSupported = false;\nfunction isPointerFromTouch(event) {\n    var pointerType = event.pointerType;\n    return pointerType === 'pen' || pointerType === 'touch';\n}\nfunction setTouchTimer(scope) {\n    scope.touching = true;\n    if (scope.touchTimer != null) {\n        clearTimeout(scope.touchTimer);\n        scope.touchTimer = null;\n    }\n    scope.touchTimer = setTimeout(function () {\n        scope.touching = false;\n        scope.touchTimer = null;\n    }, 700);\n}\nfunction markTouch(event) {\n    event && (event.zrByTouch = true);\n}\nfunction normalizeGlobalEvent(instance, event) {\n    return normalizeEvent(instance.dom, new FakeGlobalEvent(instance, event), true);\n}\nfunction isLocalEl(instance, el) {\n    var elTmp = el;\n    var isLocal = false;\n    while (elTmp && elTmp.nodeType !== 9\n        && !(isLocal = elTmp.domBelongToZr\n            || (elTmp !== el && elTmp === instance.painterRoot))) {\n        elTmp = elTmp.parentNode;\n    }\n    return isLocal;\n}\nvar FakeGlobalEvent = (function () {\n    function FakeGlobalEvent(instance, event) {\n        this.stopPropagation = zrUtil.noop;\n        this.stopImmediatePropagation = zrUtil.noop;\n        this.preventDefault = zrUtil.noop;\n        this.type = event.type;\n        this.target = this.currentTarget = instance.dom;\n        this.pointerType = event.pointerType;\n        this.clientX = event.clientX;\n        this.clientY = event.clientY;\n    }\n    return FakeGlobalEvent;\n}());\nvar localDOMHandlers = {\n    mousedown: function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.__mayPointerCapture = [event.zrX, event.zrY];\n        this.trigger('mousedown', event);\n    },\n    mousemove: function (event) {\n        event = normalizeEvent(this.dom, event);\n        var downPoint = this.__mayPointerCapture;\n        if (downPoint && (event.zrX !== downPoint[0] || event.zrY !== downPoint[1])) {\n            this.__togglePointerCapture(true);\n        }\n        this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.__togglePointerCapture(false);\n        this.trigger('mouseup', event);\n    },\n    mouseout: function (event) {\n        event = normalizeEvent(this.dom, event);\n        var element = event.toElement || event.relatedTarget;\n        if (!isLocalEl(this, element)) {\n            if (this.__pointerCapturing) {\n                event.zrEventControl = 'no_globalout';\n            }\n            this.trigger('mouseout', event);\n        }\n    },\n    wheel: function (event) {\n        wheelEventSupported = true;\n        event = normalizeEvent(this.dom, event);\n        this.trigger('mousewheel', event);\n    },\n    mousewheel: function (event) {\n        if (wheelEventSupported) {\n            return;\n        }\n        event = normalizeEvent(this.dom, event);\n        this.trigger('mousewheel', event);\n    },\n    touchstart: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.__lastTouchMoment = new Date();\n        this.handler.processGesture(event, 'start');\n        localDOMHandlers.mousemove.call(this, event);\n        localDOMHandlers.mousedown.call(this, event);\n    },\n    touchmove: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.handler.processGesture(event, 'change');\n        localDOMHandlers.mousemove.call(this, event);\n    },\n    touchend: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.handler.processGesture(event, 'end');\n        localDOMHandlers.mouseup.call(this, event);\n        if (+new Date() - (+this.__lastTouchMoment) < TOUCH_CLICK_DELAY) {\n            localDOMHandlers.click.call(this, event);\n        }\n    },\n    pointerdown: function (event) {\n        localDOMHandlers.mousedown.call(this, event);\n    },\n    pointermove: function (event) {\n        if (!isPointerFromTouch(event)) {\n            localDOMHandlers.mousemove.call(this, event);\n        }\n    },\n    pointerup: function (event) {\n        localDOMHandlers.mouseup.call(this, event);\n    },\n    pointerout: function (event) {\n        if (!isPointerFromTouch(event)) {\n            localDOMHandlers.mouseout.call(this, event);\n        }\n    }\n};\nzrUtil.each(['click', 'dblclick', 'contextmenu'], function (name) {\n    localDOMHandlers[name] = function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.trigger(name, event);\n    };\n});\nvar globalDOMHandlers = {\n    pointermove: function (event) {\n        if (!isPointerFromTouch(event)) {\n            globalDOMHandlers.mousemove.call(this, event);\n        }\n    },\n    pointerup: function (event) {\n        globalDOMHandlers.mouseup.call(this, event);\n    },\n    mousemove: function (event) {\n        this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n        var pointerCaptureReleasing = this.__pointerCapturing;\n        this.__togglePointerCapture(false);\n        this.trigger('mouseup', event);\n        if (pointerCaptureReleasing) {\n            event.zrEventControl = 'only_globalout';\n            this.trigger('mouseout', event);\n        }\n    }\n};\nfunction mountLocalDOMEventListeners(instance, scope) {\n    var domHandlers = scope.domHandlers;\n    if (env.pointerEventsSupported) {\n        zrUtil.each(localNativeListenerNames.pointer, function (nativeEventName) {\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                domHandlers[nativeEventName].call(instance, event);\n            });\n        });\n    }\n    else {\n        if (env.touchEventsSupported) {\n            zrUtil.each(localNativeListenerNames.touch, function (nativeEventName) {\n                mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                    domHandlers[nativeEventName].call(instance, event);\n                    setTouchTimer(scope);\n                });\n            });\n        }\n        zrUtil.each(localNativeListenerNames.mouse, function (nativeEventName) {\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                event = getNativeEvent(event);\n                if (!scope.touching) {\n                    domHandlers[nativeEventName].call(instance, event);\n                }\n            });\n        });\n    }\n}\nfunction mountGlobalDOMEventListeners(instance, scope) {\n    if (env.pointerEventsSupported) {\n        zrUtil.each(globalNativeListenerNames.pointer, mount);\n    }\n    else if (!env.touchEventsSupported) {\n        zrUtil.each(globalNativeListenerNames.mouse, mount);\n    }\n    function mount(nativeEventName) {\n        function nativeEventListener(event) {\n            event = getNativeEvent(event);\n            if (!isLocalEl(instance, event.target)) {\n                event = normalizeGlobalEvent(instance, event);\n                scope.domHandlers[nativeEventName].call(instance, event);\n            }\n        }\n        mountSingleDOMEventListener(scope, nativeEventName, nativeEventListener, { capture: true });\n    }\n}\nfunction mountSingleDOMEventListener(scope, nativeEventName, listener, opt) {\n    scope.mounted[nativeEventName] = listener;\n    scope.listenerOpts[nativeEventName] = opt;\n    addEventListener(scope.domTarget, nativeEventName, listener, opt);\n}\nfunction unmountDOMEventListeners(scope) {\n    var mounted = scope.mounted;\n    for (var nativeEventName in mounted) {\n        if (mounted.hasOwnProperty(nativeEventName)) {\n            removeEventListener(scope.domTarget, nativeEventName, mounted[nativeEventName], scope.listenerOpts[nativeEventName]);\n        }\n    }\n    scope.mounted = {};\n}\nvar DOMHandlerScope = (function () {\n    function DOMHandlerScope(domTarget, domHandlers) {\n        this.mounted = {};\n        this.listenerOpts = {};\n        this.touching = false;\n        this.domTarget = domTarget;\n        this.domHandlers = domHandlers;\n    }\n    return DOMHandlerScope;\n}());\nvar HandlerDomProxy = (function (_super) {\n    __extends(HandlerDomProxy, _super);\n    function HandlerDomProxy(dom, painterRoot) {\n        var _this = _super.call(this) || this;\n        _this.__pointerCapturing = false;\n        _this.dom = dom;\n        _this.painterRoot = painterRoot;\n        _this._localHandlerScope = new DOMHandlerScope(dom, localDOMHandlers);\n        if (globalEventSupported) {\n            _this._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers);\n        }\n        mountLocalDOMEventListeners(_this, _this._localHandlerScope);\n        return _this;\n    }\n    HandlerDomProxy.prototype.dispose = function () {\n        unmountDOMEventListeners(this._localHandlerScope);\n        if (globalEventSupported) {\n            unmountDOMEventListeners(this._globalHandlerScope);\n        }\n    };\n    HandlerDomProxy.prototype.setCursor = function (cursorStyle) {\n        this.dom.style && (this.dom.style.cursor = cursorStyle || 'default');\n    };\n    HandlerDomProxy.prototype.__togglePointerCapture = function (isPointerCapturing) {\n        this.__mayPointerCapture = null;\n        if (globalEventSupported\n            && ((+this.__pointerCapturing) ^ (+isPointerCapturing))) {\n            this.__pointerCapturing = isPointerCapturing;\n            var globalHandlerScope = this._globalHandlerScope;\n            isPointerCapturing\n                ? mountGlobalDOMEventListeners(this, globalHandlerScope)\n                : unmountDOMEventListeners(globalHandlerScope);\n        }\n    };\n    return HandlerDomProxy;\n}(Eventful));\nexport default HandlerDomProxy;\n", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport Group from 'zrender/lib/graphic/Group.js';\nimport * as componentUtil from '../util/component.js';\nimport * as clazzUtil from '../util/clazz.js';\n\nvar ComponentView =\n/** @class */\nfunction () {\n  function ComponentView() {\n    this.group = new Group();\n    this.uid = componentUtil.getUID('viewComponent');\n  }\n\n  ComponentView.prototype.init = function (ecModel, api) {};\n\n  ComponentView.prototype.render = function (model, ecModel, api, payload) {};\n\n  ComponentView.prototype.dispose = function (ecModel, api) {};\n\n  ComponentView.prototype.updateView = function (model, ecModel, api, payload) {// Do nothing;\n  };\n\n  ComponentView.prototype.updateLayout = function (model, ecModel, api, payload) {// Do nothing;\n  };\n\n  ComponentView.prototype.updateVisual = function (model, ecModel, api, payload) {// Do nothing;\n  };\n  /**\n   * Hook for blur target series.\n   * Can be used in marker for blur the markers\n   */\n\n\n  ComponentView.prototype.blurSeries = function (seriesModels, ecModel) {// Do nothing;\n  };\n  /**\n   * Traverse the new rendered elements.\n   *\n   * It will traverse the new added element in progressive rendering.\n   * And traverse all in normal rendering.\n   */\n\n\n  ComponentView.prototype.eachRendered = function (cb) {\n    var group = this.group;\n\n    if (group) {\n      group.traverse(cb);\n    }\n  };\n\n  return ComponentView;\n}();\n\n;\nclazzUtil.enableClassExtend(ComponentView);\nclazzUtil.enableClassManagement(ComponentView);\nexport default ComponentView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { makeInner } from '../../util/model.js';\n/**\n * @return {string} If large mode changed, return string 'reset';\n */\n\nexport default function createRenderPlanner() {\n  var inner = makeInner();\n  return function (seriesModel) {\n    var fields = inner(seriesModel);\n    var pipelineContext = seriesModel.pipelineContext;\n    var originalLarge = !!fields.large;\n    var originalProgressive = !!fields.progressiveRender; // FIXME: if the planner works on a filtered series, `pipelineContext` does not\n    // exists. See #11611 . Probably we need to modify this structure, see the comment\n    // on `performRawSeries` in `Schedular.js`.\n\n    var large = fields.large = !!(pipelineContext && pipelineContext.large);\n    var progressive = fields.progressiveRender = !!(pipelineContext && pipelineContext.progressiveRender);\n    return !!(originalLarge !== large || originalProgressive !== progressive) && 'reset';\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each } from 'zrender/lib/core/util.js';\nimport Group from 'zrender/lib/graphic/Group.js';\nimport * as componentUtil from '../util/component.js';\nimport * as clazzUtil from '../util/clazz.js';\nimport * as modelUtil from '../util/model.js';\nimport { enterEmphasis, leaveEmphasis, getHighlightDigit, isHighDownDispatcher } from '../util/states.js';\nimport { createTask } from '../core/task.js';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner.js';\nimport { traverseElements } from '../util/graphic.js';\nimport { error } from '../util/log.js';\nvar inner = modelUtil.makeInner();\nvar renderPlanner = createRenderPlanner();\n\nvar ChartView =\n/** @class */\nfunction () {\n  function ChartView() {\n    this.group = new Group();\n    this.uid = componentUtil.getUID('viewChart');\n    this.renderTask = createTask({\n      plan: renderTaskPlan,\n      reset: renderTaskReset\n    });\n    this.renderTask.context = {\n      view: this\n    };\n  }\n\n  ChartView.prototype.init = function (ecModel, api) {};\n\n  ChartView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    if (process.env.NODE_ENV !== 'production') {\n      throw new Error('render method must been implemented');\n    }\n  };\n  /**\n   * Highlight series or specified data item.\n   */\n\n\n  ChartView.prototype.highlight = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData(payload && payload.dataType);\n\n    if (!data) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(\"Unknown dataType \" + payload.dataType);\n      }\n\n      return;\n    }\n\n    toggleHighlight(data, payload, 'emphasis');\n  };\n  /**\n   * Downplay series or specified data item.\n   */\n\n\n  ChartView.prototype.downplay = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData(payload && payload.dataType);\n\n    if (!data) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(\"Unknown dataType \" + payload.dataType);\n      }\n\n      return;\n    }\n\n    toggleHighlight(data, payload, 'normal');\n  };\n  /**\n   * Remove self.\n   */\n\n\n  ChartView.prototype.remove = function (ecModel, api) {\n    this.group.removeAll();\n  };\n  /**\n   * Dispose self.\n   */\n\n\n  ChartView.prototype.dispose = function (ecModel, api) {};\n\n  ChartView.prototype.updateView = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  }; // FIXME never used?\n\n\n  ChartView.prototype.updateLayout = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  }; // FIXME never used?\n\n\n  ChartView.prototype.updateVisual = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  };\n  /**\n   * Traverse the new rendered elements.\n   *\n   * It will traverse the new added element in progressive rendering.\n   * And traverse all in normal rendering.\n   */\n\n\n  ChartView.prototype.eachRendered = function (cb) {\n    traverseElements(this.group, cb);\n  };\n\n  ChartView.markUpdateMethod = function (payload, methodName) {\n    inner(payload).updateMethod = methodName;\n  };\n\n  ChartView.protoInitialize = function () {\n    var proto = ChartView.prototype;\n    proto.type = 'chart';\n  }();\n\n  return ChartView;\n}();\n\n;\n/**\n * Set state of single element\n */\n\nfunction elSetState(el, state, highlightDigit) {\n  if (el && isHighDownDispatcher(el)) {\n    (state === 'emphasis' ? enterEmphasis : leaveEmphasis)(el, highlightDigit);\n  }\n}\n\nfunction toggleHighlight(data, payload, state) {\n  var dataIndex = modelUtil.queryDataIndex(data, payload);\n  var highlightDigit = payload && payload.highlightKey != null ? getHighlightDigit(payload.highlightKey) : null;\n\n  if (dataIndex != null) {\n    each(modelUtil.normalizeToArray(dataIndex), function (dataIdx) {\n      elSetState(data.getItemGraphicEl(dataIdx), state, highlightDigit);\n    });\n  } else {\n    data.eachItemGraphicEl(function (el) {\n      elSetState(el, state, highlightDigit);\n    });\n  }\n}\n\nclazzUtil.enableClassExtend(ChartView, ['dispose']);\nclazzUtil.enableClassManagement(ChartView);\n\nfunction renderTaskPlan(context) {\n  return renderPlanner(context.model);\n}\n\nfunction renderTaskReset(context) {\n  var seriesModel = context.model;\n  var ecModel = context.ecModel;\n  var api = context.api;\n  var payload = context.payload; // FIXME: remove updateView updateVisual\n\n  var progressiveRender = seriesModel.pipelineContext.progressiveRender;\n  var view = context.view;\n  var updateMethod = payload && inner(payload).updateMethod;\n  var methodName = progressiveRender ? 'incrementalPrepareRender' : updateMethod && view[updateMethod] ? updateMethod // `appendData` is also supported when data amount\n  // is less than progressive threshold.\n  : 'render';\n\n  if (methodName !== 'render') {\n    view[methodName](seriesModel, ecModel, api, payload);\n  }\n\n  return progressMethodMap[methodName];\n}\n\nvar progressMethodMap = {\n  incrementalPrepareRender: {\n    progress: function (params, context) {\n      context.view.incrementalRender(params, context.model, context.ecModel, context.api, context.payload);\n    }\n  },\n  render: {\n    // Put view.render in `progress` to support appendData. But in this case\n    // view.render should not be called in reset, otherwise it will be called\n    // twise. Use `forceFirstProgress` to make sure that view.render is called\n    // in any cases.\n    forceFirstProgress: true,\n    progress: function (params, context) {\n      context.view.render(context.model, context.ecModel, context.api, context.payload);\n    }\n  }\n};\nexport default ChartView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ORIGIN_METHOD = '\\0__throttleOriginMethod';\nvar RATE = '\\0__throttleRate';\nvar THROTTLE_TYPE = '\\0__throttleType';\n;\n/**\n * @public\n * @param {(Function)} fn\n * @param {number} [delay=0] Unit: ms.\n * @param {boolean} [debounce=false]\n *        true: If call interval less than `delay`, only the last call works.\n *        false: If call interval less than `delay, call works on fixed rate.\n * @return {(Function)} throttled fn.\n */\n\nexport function throttle(fn, delay, debounce) {\n  var currCall;\n  var lastCall = 0;\n  var lastExec = 0;\n  var timer = null;\n  var diff;\n  var scope;\n  var args;\n  var debounceNextCall;\n  delay = delay || 0;\n\n  function exec() {\n    lastExec = new Date().getTime();\n    timer = null;\n    fn.apply(scope, args || []);\n  }\n\n  var cb = function () {\n    var cbArgs = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      cbArgs[_i] = arguments[_i];\n    }\n\n    currCall = new Date().getTime();\n    scope = this;\n    args = cbArgs;\n    var thisDelay = debounceNextCall || delay;\n    var thisDebounce = debounceNextCall || debounce;\n    debounceNextCall = null;\n    diff = currCall - (thisDebounce ? lastCall : lastExec) - thisDelay;\n    clearTimeout(timer); // Here we should make sure that: the `exec` SHOULD NOT be called later\n    // than a new call of `cb`, that is, preserving the command order. Consider\n    // calculating \"scale rate\" when roaming as an example. When a call of `cb`\n    // happens, either the `exec` is called dierectly, or the call is delayed.\n    // But the delayed call should never be later than next call of `cb`. Under\n    // this assurance, we can simply update view state each time `dispatchAction`\n    // triggered by user roaming, but not need to add extra code to avoid the\n    // state being \"rolled-back\".\n\n    if (thisDebounce) {\n      timer = setTimeout(exec, thisDelay);\n    } else {\n      if (diff >= 0) {\n        exec();\n      } else {\n        timer = setTimeout(exec, -diff);\n      }\n    }\n\n    lastCall = currCall;\n  };\n  /**\n   * Clear throttle.\n   * @public\n   */\n\n\n  cb.clear = function () {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  };\n  /**\n   * Enable debounce once.\n   */\n\n\n  cb.debounceNextCall = function (debounceDelay) {\n    debounceNextCall = debounceDelay;\n  };\n\n  return cb;\n}\n/**\n * Create throttle method or update throttle rate.\n *\n * @example\n * ComponentView.prototype.render = function () {\n *     ...\n *     throttle.createOrUpdate(\n *         this,\n *         '_dispatchAction',\n *         this.model.get('throttle'),\n *         'fixRate'\n *     );\n * };\n * ComponentView.prototype.remove = function () {\n *     throttle.clear(this, '_dispatchAction');\n * };\n * ComponentView.prototype.dispose = function () {\n *     throttle.clear(this, '_dispatchAction');\n * };\n *\n */\n\nexport function createOrUpdate(obj, fnAttr, rate, throttleType) {\n  var fn = obj[fnAttr];\n\n  if (!fn) {\n    return;\n  }\n\n  var originFn = fn[ORIGIN_METHOD] || fn;\n  var lastThrottleType = fn[THROTTLE_TYPE];\n  var lastRate = fn[RATE];\n\n  if (lastRate !== rate || lastThrottleType !== throttleType) {\n    if (rate == null || !throttleType) {\n      return obj[fnAttr] = originFn;\n    }\n\n    fn = obj[fnAttr] = throttle(originFn, rate, throttleType === 'debounce');\n    fn[ORIGIN_METHOD] = originFn;\n    fn[THROTTLE_TYPE] = throttleType;\n    fn[RATE] = rate;\n  }\n\n  return fn;\n}\n/**\n * Clear throttle. Example see throttle.createOrUpdate.\n */\n\nexport function clear(obj, fnAttr) {\n  var fn = obj[fnAttr];\n\n  if (fn && fn[ORIGIN_METHOD]) {\n    // Clear throttle\n    fn.clear && fn.clear();\n    obj[fnAttr] = fn[ORIGIN_METHOD];\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar platform = ''; // Navigator not exists in node\n\nif (typeof navigator !== 'undefined') {\n  /* global navigator */\n  platform = navigator.platform || '';\n}\n\nvar decalColor = 'rgba(0, 0, 0, 0.2)';\nexport default {\n  darkMode: 'auto',\n  // backgroundColor: 'rgba(0,0,0,0)',\n  colorBy: 'series',\n  color: ['#5470c6', '#91cc75', '#fac858', '#ee6666', '#73c0de', '#3ba272', '#fc8452', '#9a60b4', '#ea7ccc'],\n  gradientColor: ['#f6efa6', '#d88273', '#bf444c'],\n  aria: {\n    decal: {\n      decals: [{\n        color: decalColor,\n        dashArrayX: [1, 0],\n        dashArrayY: [2, 5],\n        symbolSize: 1,\n        rotation: Math.PI / 6\n      }, {\n        color: decalColor,\n        symbol: 'circle',\n        dashArrayX: [[8, 8], [0, 8, 8, 0]],\n        dashArrayY: [6, 0],\n        symbolSize: 0.8\n      }, {\n        color: decalColor,\n        dashArrayX: [1, 0],\n        dashArrayY: [4, 3],\n        rotation: -Math.PI / 4\n      }, {\n        color: decalColor,\n        dashArrayX: [[6, 6], [0, 6, 6, 0]],\n        dashArrayY: [6, 0]\n      }, {\n        color: decalColor,\n        dashArrayX: [[1, 0], [1, 6]],\n        dashArrayY: [1, 0, 6, 0],\n        rotation: Math.PI / 4\n      }, {\n        color: decalColor,\n        symbol: 'triangle',\n        dashArrayX: [[9, 9], [0, 9, 9, 0]],\n        dashArrayY: [7, 2],\n        symbolSize: 0.75\n      }]\n    }\n  },\n  // If xAxis and yAxis declared, grid is created by default.\n  // grid: {},\n  textStyle: {\n    // color: '#000',\n    // decoration: 'none',\n    // PENDING\n    fontFamily: platform.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',\n    // fontFamily: 'Arial, Verdana, sans-serif',\n    fontSize: 12,\n    fontStyle: 'normal',\n    fontWeight: 'normal'\n  },\n  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/\n  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n  // Default is source-over\n  blendMode: null,\n  stateAnimation: {\n    duration: 300,\n    easing: 'cubicOut'\n  },\n  animation: 'auto',\n  animationDuration: 1000,\n  animationDurationUpdate: 500,\n  animationEasing: 'cubicInOut',\n  animationEasingUpdate: 'cubicInOut',\n  animationThreshold: 2000,\n  // Configuration for progressive/incremental rendering\n  progressiveThreshold: 3000,\n  progressive: 400,\n  // Threshold of if use single hover layer to optimize.\n  // It is recommended that `hoverLayerThreshold` is equivalent to or less than\n  // `progressiveThreshold`, otherwise hover will cause restart of progressive,\n  // which is unexpected.\n  // see example <echarts/test/heatmap-large.html>.\n  hoverLayerThreshold: 3000,\n  // See: module:echarts/scale/Time\n  useUTC: false\n};", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, assert } from 'zrender/lib/core/util.js';\nimport { isComponentIdInternal } from '../util/model.js';\nvar internalOptionCreatorMap = createHashMap();\nexport function registerInternalOptionCreator(mainType, creator) {\n  assert(internalOptionCreatorMap.get(mainType) == null && creator);\n  internalOptionCreatorMap.set(mainType, creator);\n}\nexport function concatInternalOptions(ecModel, mainType, newCmptOptionList) {\n  var internalOptionCreator = internalOptionCreatorMap.get(mainType);\n\n  if (!internalOptionCreator) {\n    return newCmptOptionList;\n  }\n\n  var internalOptions = internalOptionCreator(ecModel);\n\n  if (!internalOptions) {\n    return newCmptOptionList;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < internalOptions.length; i++) {\n      assert(isComponentIdInternal(internalOptions[i]));\n    }\n  }\n\n  return newCmptOptionList.concat(internalOptions);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Caution: If the mechanism should be changed some day, these cases\n * should be considered:\n *\n * (1) In `merge option` mode, if using the same option to call `setOption`\n * many times, the result should be the same (try our best to ensure that).\n * (2) In `merge option` mode, if a component has no id/name specified, it\n * will be merged by index, and the result sequence of the components is\n * consistent to the original sequence.\n * (3) In `replaceMerge` mode, keep the result sequence of the components is\n * consistent to the original sequence, even though there might result in \"hole\".\n * (4) `reset` feature (in toolbox). Find detailed info in comments about\n * `mergeOption` in module:echarts/model/OptionManager.\n */\n\nimport { each, filter, isArray, isObject, isString, createHashMap, assert, clone, merge, extend, mixin, isFunction } from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../util/model.js';\nimport Model from './Model.js';\nimport ComponentModel from './Component.js';\nimport globalDefault from './globalDefault.js';\nimport { resetSourceDefaulter } from '../data/helper/sourceHelper.js';\nimport { concatInternalOptions } from './internalComponentCreator.js';\nimport { PaletteMixin } from './mixin/palette.js';\nimport { error, warn } from '../util/log.js'; // -----------------------\n// Internal method names:\n// -----------------------\n\nvar reCreateSeriesIndices;\nvar assertSeriesInitialized;\nvar initBase;\nvar OPTION_INNER_KEY = '\\0_ec_inner';\nvar OPTION_INNER_VALUE = 1;\nvar BUITIN_COMPONENTS_MAP = {\n  grid: 'GridComponent',\n  polar: 'PolarComponent',\n  geo: 'GeoComponent',\n  singleAxis: 'SingleAxisComponent',\n  parallel: 'ParallelComponent',\n  calendar: 'CalendarComponent',\n  graphic: 'GraphicComponent',\n  toolbox: 'ToolboxComponent',\n  tooltip: 'TooltipComponent',\n  axisPointer: 'AxisPointerComponent',\n  brush: 'BrushComponent',\n  title: 'TitleComponent',\n  timeline: 'TimelineComponent',\n  markPoint: 'MarkPointComponent',\n  markLine: 'MarkLineComponent',\n  markArea: 'MarkAreaComponent',\n  legend: 'LegendComponent',\n  dataZoom: 'DataZoomComponent',\n  visualMap: 'VisualMapComponent',\n  // aria: 'AriaComponent',\n  // dataset: 'DatasetComponent',\n  // Dependencies\n  xAxis: 'GridComponent',\n  yAxis: 'GridComponent',\n  angleAxis: 'PolarComponent',\n  radiusAxis: 'PolarComponent'\n};\nvar BUILTIN_CHARTS_MAP = {\n  line: 'LineChart',\n  bar: 'BarChart',\n  pie: 'PieChart',\n  scatter: 'ScatterChart',\n  radar: 'RadarChart',\n  map: 'MapChart',\n  tree: 'TreeChart',\n  treemap: 'TreemapChart',\n  graph: 'GraphChart',\n  gauge: 'GaugeChart',\n  funnel: 'FunnelChart',\n  parallel: 'ParallelChart',\n  sankey: 'SankeyChart',\n  boxplot: 'BoxplotChart',\n  candlestick: 'CandlestickChart',\n  effectScatter: 'EffectScatterChart',\n  lines: 'LinesChart',\n  heatmap: 'HeatmapChart',\n  pictorialBar: 'PictorialBarChart',\n  themeRiver: 'ThemeRiverChart',\n  sunburst: 'SunburstChart',\n  custom: 'CustomChart'\n};\nvar componetsMissingLogPrinted = {};\n\nfunction checkMissingComponents(option) {\n  each(option, function (componentOption, mainType) {\n    if (!ComponentModel.hasClass(mainType)) {\n      var componentImportName = BUITIN_COMPONENTS_MAP[mainType];\n\n      if (componentImportName && !componetsMissingLogPrinted[componentImportName]) {\n        error(\"Component \" + mainType + \" is used but not imported.\\nimport { \" + componentImportName + \" } from 'echarts/components';\\necharts.use([\" + componentImportName + \"]);\");\n        componetsMissingLogPrinted[componentImportName] = true;\n      }\n    }\n  });\n}\n\nvar GlobalModel =\n/** @class */\nfunction (_super) {\n  __extends(GlobalModel, _super);\n\n  function GlobalModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GlobalModel.prototype.init = function (option, parentModel, ecModel, theme, locale, optionManager) {\n    theme = theme || {};\n    this.option = null; // Mark as not initialized.\n\n    this._theme = new Model(theme);\n    this._locale = new Model(locale);\n    this._optionManager = optionManager;\n  };\n\n  GlobalModel.prototype.setOption = function (option, opts, optionPreprocessorFuncs) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(option != null, 'option is null/undefined');\n      assert(option[OPTION_INNER_KEY] !== OPTION_INNER_VALUE, 'please use chart.getOption()');\n    }\n\n    var innerOpt = normalizeSetOptionInput(opts);\n\n    this._optionManager.setOption(option, optionPreprocessorFuncs, innerOpt);\n\n    this._resetOption(null, innerOpt);\n  };\n  /**\n   * @param type null/undefined: reset all.\n   *        'recreate': force recreate all.\n   *        'timeline': only reset timeline option\n   *        'media': only reset media query option\n   * @return Whether option changed.\n   */\n\n\n  GlobalModel.prototype.resetOption = function (type, opt) {\n    return this._resetOption(type, normalizeSetOptionInput(opt));\n  };\n\n  GlobalModel.prototype._resetOption = function (type, opt) {\n    var optionChanged = false;\n    var optionManager = this._optionManager;\n\n    if (!type || type === 'recreate') {\n      var baseOption = optionManager.mountOption(type === 'recreate');\n\n      if (process.env.NODE_ENV !== 'production') {\n        checkMissingComponents(baseOption);\n      }\n\n      if (!this.option || type === 'recreate') {\n        initBase(this, baseOption);\n      } else {\n        this.restoreData();\n\n        this._mergeOption(baseOption, opt);\n      }\n\n      optionChanged = true;\n    }\n\n    if (type === 'timeline' || type === 'media') {\n      this.restoreData();\n    } // By design, if `setOption(option2)` at the second time, and `option2` is a `ECUnitOption`,\n    // it should better not have the same props with `MediaUnit['option']`.\n    // Becuase either `option2` or `MediaUnit['option']` will be always merged to \"current option\"\n    // rather than original \"baseOption\". If they both override a prop, the result might be\n    // unexpected when media state changed after `setOption` called.\n    // If we really need to modify a props in each `MediaUnit['option']`, use the full version\n    // (`{baseOption, media}`) in `setOption`.\n    // For `timeline`, the case is the same.\n\n\n    if (!type || type === 'recreate' || type === 'timeline') {\n      var timelineOption = optionManager.getTimelineOption(this);\n\n      if (timelineOption) {\n        optionChanged = true;\n\n        this._mergeOption(timelineOption, opt);\n      }\n    }\n\n    if (!type || type === 'recreate' || type === 'media') {\n      var mediaOptions = optionManager.getMediaOption(this);\n\n      if (mediaOptions.length) {\n        each(mediaOptions, function (mediaOption) {\n          optionChanged = true;\n\n          this._mergeOption(mediaOption, opt);\n        }, this);\n      }\n    }\n\n    return optionChanged;\n  };\n\n  GlobalModel.prototype.mergeOption = function (option) {\n    this._mergeOption(option, null);\n  };\n\n  GlobalModel.prototype._mergeOption = function (newOption, opt) {\n    var option = this.option;\n    var componentsMap = this._componentsMap;\n    var componentsCount = this._componentsCount;\n    var newCmptTypes = [];\n    var newCmptTypeMap = createHashMap();\n    var replaceMergeMainTypeMap = opt && opt.replaceMergeMainTypeMap;\n    resetSourceDefaulter(this); // If no component class, merge directly.\n    // For example: color, animaiton options, etc.\n\n    each(newOption, function (componentOption, mainType) {\n      if (componentOption == null) {\n        return;\n      }\n\n      if (!ComponentModel.hasClass(mainType)) {\n        // globalSettingTask.dirty();\n        option[mainType] = option[mainType] == null ? clone(componentOption) : merge(option[mainType], componentOption, true);\n      } else if (mainType) {\n        newCmptTypes.push(mainType);\n        newCmptTypeMap.set(mainType, true);\n      }\n    });\n\n    if (replaceMergeMainTypeMap) {\n      // If there is a mainType `xxx` in `replaceMerge` but not declared in option,\n      // we trade it as it is declared in option as `{xxx: []}`. Because:\n      // (1) for normal merge, `{xxx: null/undefined}` are the same meaning as `{xxx: []}`.\n      // (2) some preprocessor may convert some of `{xxx: null/undefined}` to `{xxx: []}`.\n      replaceMergeMainTypeMap.each(function (val, mainTypeInReplaceMerge) {\n        if (ComponentModel.hasClass(mainTypeInReplaceMerge) && !newCmptTypeMap.get(mainTypeInReplaceMerge)) {\n          newCmptTypes.push(mainTypeInReplaceMerge);\n          newCmptTypeMap.set(mainTypeInReplaceMerge, true);\n        }\n      });\n    }\n\n    ComponentModel.topologicalTravel(newCmptTypes, ComponentModel.getAllClassMainTypes(), visitComponent, this);\n\n    function visitComponent(mainType) {\n      var newCmptOptionList = concatInternalOptions(this, mainType, modelUtil.normalizeToArray(newOption[mainType]));\n      var oldCmptList = componentsMap.get(mainType);\n      var mergeMode = // `!oldCmptList` means init. See the comment in `mappingToExists`\n      !oldCmptList ? 'replaceAll' : replaceMergeMainTypeMap && replaceMergeMainTypeMap.get(mainType) ? 'replaceMerge' : 'normalMerge';\n      var mappingResult = modelUtil.mappingToExists(oldCmptList, newCmptOptionList, mergeMode); // Set mainType and complete subType.\n\n      modelUtil.setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel); // Empty it before the travel, in order to prevent `this._componentsMap`\n      // from being used in the `init`/`mergeOption`/`optionUpdated` of some\n      // components, which is probably incorrect logic.\n\n      option[mainType] = null;\n      componentsMap.set(mainType, null);\n      componentsCount.set(mainType, 0);\n      var optionsByMainType = [];\n      var cmptsByMainType = [];\n      var cmptsCountByMainType = 0;\n      var tooltipExists;\n      var tooltipWarningLogged;\n      each(mappingResult, function (resultItem, index) {\n        var componentModel = resultItem.existing;\n        var newCmptOption = resultItem.newOption;\n\n        if (!newCmptOption) {\n          if (componentModel) {\n            // Consider where is no new option and should be merged using {},\n            // see removeEdgeAndAdd in topologicalTravel and\n            // ComponentModel.getAllClassMainTypes.\n            componentModel.mergeOption({}, this);\n            componentModel.optionUpdated({}, false);\n          } // If no both `resultItem.exist` and `resultItem.option`,\n          // either it is in `replaceMerge` and not matched by any id,\n          // or it has been removed in previous `replaceMerge` and left a \"hole\" in this component index.\n\n        } else {\n          var isSeriesType = mainType === 'series';\n          var ComponentModelClass = ComponentModel.getClass(mainType, resultItem.keyInfo.subType, !isSeriesType // Give a more detailed warn later if series don't exists\n          );\n\n          if (!ComponentModelClass) {\n            if (process.env.NODE_ENV !== 'production') {\n              var subType = resultItem.keyInfo.subType;\n              var seriesImportName = BUILTIN_CHARTS_MAP[subType];\n\n              if (!componetsMissingLogPrinted[subType]) {\n                componetsMissingLogPrinted[subType] = true;\n\n                if (seriesImportName) {\n                  error(\"Series \" + subType + \" is used but not imported.\\nimport { \" + seriesImportName + \" } from 'echarts/charts';\\necharts.use([\" + seriesImportName + \"]);\");\n                } else {\n                  error(\"Unkown series \" + subType);\n                }\n              }\n            }\n\n            return;\n          } // TODO Before multiple tooltips get supported, we do this check to avoid unexpected exception.\n\n\n          if (mainType === 'tooltip') {\n            if (tooltipExists) {\n              if (process.env.NODE_ENV !== 'production') {\n                if (!tooltipWarningLogged) {\n                  warn('Currently only one tooltip component is allowed.');\n                  tooltipWarningLogged = true;\n                }\n              }\n\n              return;\n            }\n\n            tooltipExists = true;\n          }\n\n          if (componentModel && componentModel.constructor === ComponentModelClass) {\n            componentModel.name = resultItem.keyInfo.name; // componentModel.settingTask && componentModel.settingTask.dirty();\n\n            componentModel.mergeOption(newCmptOption, this);\n            componentModel.optionUpdated(newCmptOption, false);\n          } else {\n            // PENDING Global as parent ?\n            var extraOpt = extend({\n              componentIndex: index\n            }, resultItem.keyInfo);\n            componentModel = new ComponentModelClass(newCmptOption, this, this, extraOpt); // Assign `keyInfo`\n\n            extend(componentModel, extraOpt);\n\n            if (resultItem.brandNew) {\n              componentModel.__requireNewView = true;\n            }\n\n            componentModel.init(newCmptOption, this, this); // Call optionUpdated after init.\n            // newCmptOption has been used as componentModel.option\n            // and may be merged with theme and default, so pass null\n            // to avoid confusion.\n\n            componentModel.optionUpdated(null, true);\n          }\n        }\n\n        if (componentModel) {\n          optionsByMainType.push(componentModel.option);\n          cmptsByMainType.push(componentModel);\n          cmptsCountByMainType++;\n        } else {\n          // Always do assign to avoid elided item in array.\n          optionsByMainType.push(void 0);\n          cmptsByMainType.push(void 0);\n        }\n      }, this);\n      option[mainType] = optionsByMainType;\n      componentsMap.set(mainType, cmptsByMainType);\n      componentsCount.set(mainType, cmptsCountByMainType); // Backup series for filtering.\n\n      if (mainType === 'series') {\n        reCreateSeriesIndices(this);\n      }\n    } // If no series declared, ensure `_seriesIndices` initialized.\n\n\n    if (!this._seriesIndices) {\n      reCreateSeriesIndices(this);\n    }\n  };\n  /**\n   * Get option for output (cloned option and inner info removed)\n   */\n\n\n  GlobalModel.prototype.getOption = function () {\n    var option = clone(this.option);\n    each(option, function (optInMainType, mainType) {\n      if (ComponentModel.hasClass(mainType)) {\n        var opts = modelUtil.normalizeToArray(optInMainType); // Inner cmpts need to be removed.\n        // Inner cmpts might not be at last since ec5.0, but still\n        // compatible for users: if inner cmpt at last, splice the returned array.\n\n        var realLen = opts.length;\n        var metNonInner = false;\n\n        for (var i = realLen - 1; i >= 0; i--) {\n          // Remove options with inner id.\n          if (opts[i] && !modelUtil.isComponentIdInternal(opts[i])) {\n            metNonInner = true;\n          } else {\n            opts[i] = null;\n            !metNonInner && realLen--;\n          }\n        }\n\n        opts.length = realLen;\n        option[mainType] = opts;\n      }\n    });\n    delete option[OPTION_INNER_KEY];\n    return option;\n  };\n\n  GlobalModel.prototype.getTheme = function () {\n    return this._theme;\n  };\n\n  GlobalModel.prototype.getLocaleModel = function () {\n    return this._locale;\n  };\n\n  GlobalModel.prototype.setUpdatePayload = function (payload) {\n    this._payload = payload;\n  };\n\n  GlobalModel.prototype.getUpdatePayload = function () {\n    return this._payload;\n  };\n  /**\n   * @param idx If not specified, return the first one.\n   */\n\n\n  GlobalModel.prototype.getComponent = function (mainType, idx) {\n    var list = this._componentsMap.get(mainType);\n\n    if (list) {\n      var cmpt = list[idx || 0];\n\n      if (cmpt) {\n        return cmpt;\n      } else if (idx == null) {\n        for (var i = 0; i < list.length; i++) {\n          if (list[i]) {\n            return list[i];\n          }\n        }\n      }\n    }\n  };\n  /**\n   * @return Never be null/undefined.\n   */\n\n\n  GlobalModel.prototype.queryComponents = function (condition) {\n    var mainType = condition.mainType;\n\n    if (!mainType) {\n      return [];\n    }\n\n    var index = condition.index;\n    var id = condition.id;\n    var name = condition.name;\n\n    var cmpts = this._componentsMap.get(mainType);\n\n    if (!cmpts || !cmpts.length) {\n      return [];\n    }\n\n    var result;\n\n    if (index != null) {\n      result = [];\n      each(modelUtil.normalizeToArray(index), function (idx) {\n        cmpts[idx] && result.push(cmpts[idx]);\n      });\n    } else if (id != null) {\n      result = queryByIdOrName('id', id, cmpts);\n    } else if (name != null) {\n      result = queryByIdOrName('name', name, cmpts);\n    } else {\n      // Return all non-empty components in that mainType\n      result = filter(cmpts, function (cmpt) {\n        return !!cmpt;\n      });\n    }\n\n    return filterBySubType(result, condition);\n  };\n  /**\n   * The interface is different from queryComponents,\n   * which is convenient for inner usage.\n   *\n   * @usage\n   * let result = findComponents(\n   *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\n   * );\n   * let result = findComponents(\n   *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\n   * );\n   * let result = findComponents(\n   *     {mainType: 'series',\n   *     filter: function (model, index) {...}}\n   * );\n   * // result like [component0, componnet1, ...]\n   */\n\n\n  GlobalModel.prototype.findComponents = function (condition) {\n    var query = condition.query;\n    var mainType = condition.mainType;\n    var queryCond = getQueryCond(query);\n    var result = queryCond ? this.queryComponents(queryCond) // Retrieve all non-empty components.\n    : filter(this._componentsMap.get(mainType), function (cmpt) {\n      return !!cmpt;\n    });\n    return doFilter(filterBySubType(result, condition));\n\n    function getQueryCond(q) {\n      var indexAttr = mainType + 'Index';\n      var idAttr = mainType + 'Id';\n      var nameAttr = mainType + 'Name';\n      return q && (q[indexAttr] != null || q[idAttr] != null || q[nameAttr] != null) ? {\n        mainType: mainType,\n        // subType will be filtered finally.\n        index: q[indexAttr],\n        id: q[idAttr],\n        name: q[nameAttr]\n      } : null;\n    }\n\n    function doFilter(res) {\n      return condition.filter ? filter(res, condition.filter) : res;\n    }\n  };\n\n  GlobalModel.prototype.eachComponent = function (mainType, cb, context) {\n    var componentsMap = this._componentsMap;\n\n    if (isFunction(mainType)) {\n      var ctxForAll_1 = cb;\n      var cbForAll_1 = mainType;\n      componentsMap.each(function (cmpts, componentType) {\n        for (var i = 0; cmpts && i < cmpts.length; i++) {\n          var cmpt = cmpts[i];\n          cmpt && cbForAll_1.call(ctxForAll_1, componentType, cmpt, cmpt.componentIndex);\n        }\n      });\n    } else {\n      var cmpts = isString(mainType) ? componentsMap.get(mainType) : isObject(mainType) ? this.findComponents(mainType) : null;\n\n      for (var i = 0; cmpts && i < cmpts.length; i++) {\n        var cmpt = cmpts[i];\n        cmpt && cb.call(context, cmpt, cmpt.componentIndex);\n      }\n    }\n  };\n  /**\n   * Get series list before filtered by name.\n   */\n\n\n  GlobalModel.prototype.getSeriesByName = function (name) {\n    var nameStr = modelUtil.convertOptionIdName(name, null);\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries && nameStr != null && oneSeries.name === nameStr;\n    });\n  };\n  /**\n   * Get series list before filtered by index.\n   */\n\n\n  GlobalModel.prototype.getSeriesByIndex = function (seriesIndex) {\n    return this._componentsMap.get('series')[seriesIndex];\n  };\n  /**\n   * Get series list before filtered by type.\n   * FIXME: rename to getRawSeriesByType?\n   */\n\n\n  GlobalModel.prototype.getSeriesByType = function (subType) {\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries && oneSeries.subType === subType;\n    });\n  };\n  /**\n   * Get all series before filtered.\n   */\n\n\n  GlobalModel.prototype.getSeries = function () {\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries;\n    });\n  };\n  /**\n   * Count series before filtered.\n   */\n\n\n  GlobalModel.prototype.getSeriesCount = function () {\n    return this._componentsCount.get('series');\n  };\n  /**\n   * After filtering, series may be different\n   * frome raw series.\n   */\n\n\n  GlobalModel.prototype.eachSeries = function (cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n      cb.call(context, series, rawSeriesIndex);\n    }, this);\n  };\n  /**\n   * Iterate raw series before filtered.\n   *\n   * @param {Function} cb\n   * @param {*} context\n   */\n\n\n  GlobalModel.prototype.eachRawSeries = function (cb, context) {\n    each(this._componentsMap.get('series'), function (series) {\n      series && cb.call(context, series, series.componentIndex);\n    });\n  };\n  /**\n   * After filtering, series may be different.\n   * frome raw series.\n   */\n\n\n  GlobalModel.prototype.eachSeriesByType = function (subType, cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n      if (series.subType === subType) {\n        cb.call(context, series, rawSeriesIndex);\n      }\n    }, this);\n  };\n  /**\n   * Iterate raw series before filtered of given type.\n   */\n\n\n  GlobalModel.prototype.eachRawSeriesByType = function (subType, cb, context) {\n    return each(this.getSeriesByType(subType), cb, context);\n  };\n\n  GlobalModel.prototype.isSeriesFiltered = function (seriesModel) {\n    assertSeriesInitialized(this);\n    return this._seriesIndicesMap.get(seriesModel.componentIndex) == null;\n  };\n\n  GlobalModel.prototype.getCurrentSeriesIndices = function () {\n    return (this._seriesIndices || []).slice();\n  };\n\n  GlobalModel.prototype.filterSeries = function (cb, context) {\n    assertSeriesInitialized(this);\n    var newSeriesIndices = [];\n    each(this._seriesIndices, function (seriesRawIdx) {\n      var series = this._componentsMap.get('series')[seriesRawIdx];\n\n      cb.call(context, series, seriesRawIdx) && newSeriesIndices.push(seriesRawIdx);\n    }, this);\n    this._seriesIndices = newSeriesIndices;\n    this._seriesIndicesMap = createHashMap(newSeriesIndices);\n  };\n\n  GlobalModel.prototype.restoreData = function (payload) {\n    reCreateSeriesIndices(this);\n    var componentsMap = this._componentsMap;\n    var componentTypes = [];\n    componentsMap.each(function (components, componentType) {\n      if (ComponentModel.hasClass(componentType)) {\n        componentTypes.push(componentType);\n      }\n    });\n    ComponentModel.topologicalTravel(componentTypes, ComponentModel.getAllClassMainTypes(), function (componentType) {\n      each(componentsMap.get(componentType), function (component) {\n        if (component && (componentType !== 'series' || !isNotTargetSeries(component, payload))) {\n          component.restoreData();\n        }\n      });\n    });\n  };\n\n  GlobalModel.internalField = function () {\n    reCreateSeriesIndices = function (ecModel) {\n      var seriesIndices = ecModel._seriesIndices = [];\n      each(ecModel._componentsMap.get('series'), function (series) {\n        // series may have been removed by `replaceMerge`.\n        series && seriesIndices.push(series.componentIndex);\n      });\n      ecModel._seriesIndicesMap = createHashMap(seriesIndices);\n    };\n\n    assertSeriesInitialized = function (ecModel) {\n      // Components that use _seriesIndices should depends on series component,\n      // which make sure that their initialization is after series.\n      if (process.env.NODE_ENV !== 'production') {\n        if (!ecModel._seriesIndices) {\n          throw new Error('Option should contains series.');\n        }\n      }\n    };\n\n    initBase = function (ecModel, baseOption) {\n      // Using OPTION_INNER_KEY to mark that this option can not be used outside,\n      // i.e. `chart.setOption(chart.getModel().option);` is forbiden.\n      ecModel.option = {};\n      ecModel.option[OPTION_INNER_KEY] = OPTION_INNER_VALUE; // Init with series: [], in case of calling findSeries method\n      // before series initialized.\n\n      ecModel._componentsMap = createHashMap({\n        series: []\n      });\n      ecModel._componentsCount = createHashMap(); // If user spefied `option.aria`, aria will be enable. This detection should be\n      // performed before theme and globalDefault merge.\n\n      var airaOption = baseOption.aria;\n\n      if (isObject(airaOption) && airaOption.enabled == null) {\n        airaOption.enabled = true;\n      }\n\n      mergeTheme(baseOption, ecModel._theme.option); // TODO Needs clone when merging to the unexisted property\n\n      merge(baseOption, globalDefault, false);\n\n      ecModel._mergeOption(baseOption, null);\n    };\n  }();\n\n  return GlobalModel;\n}(Model);\n\nfunction isNotTargetSeries(seriesModel, payload) {\n  if (payload) {\n    var index = payload.seriesIndex;\n    var id = payload.seriesId;\n    var name_1 = payload.seriesName;\n    return index != null && seriesModel.componentIndex !== index || id != null && seriesModel.id !== id || name_1 != null && seriesModel.name !== name_1;\n  }\n}\n\nfunction mergeTheme(option, theme) {\n  // PENDING\n  // NOT use `colorLayer` in theme if option has `color`\n  var notMergeColorLayer = option.color && !option.colorLayer;\n  each(theme, function (themeItem, name) {\n    if (name === 'colorLayer' && notMergeColorLayer) {\n      return;\n    } // If it is component model mainType, the model handles that merge later.\n    // otherwise, merge them here.\n\n\n    if (!ComponentModel.hasClass(name)) {\n      if (typeof themeItem === 'object') {\n        option[name] = !option[name] ? clone(themeItem) : merge(option[name], themeItem, false);\n      } else {\n        if (option[name] == null) {\n          option[name] = themeItem;\n        }\n      }\n    }\n  });\n}\n\nfunction queryByIdOrName(attr, idOrName, cmpts) {\n  // Here is a break from echarts4: string and number are\n  // treated as equal.\n  if (isArray(idOrName)) {\n    var keyMap_1 = createHashMap();\n    each(idOrName, function (idOrNameItem) {\n      if (idOrNameItem != null) {\n        var idName = modelUtil.convertOptionIdName(idOrNameItem, null);\n        idName != null && keyMap_1.set(idOrNameItem, true);\n      }\n    });\n    return filter(cmpts, function (cmpt) {\n      return cmpt && keyMap_1.get(cmpt[attr]);\n    });\n  } else {\n    var idName_1 = modelUtil.convertOptionIdName(idOrName, null);\n    return filter(cmpts, function (cmpt) {\n      return cmpt && idName_1 != null && cmpt[attr] === idName_1;\n    });\n  }\n}\n\nfunction filterBySubType(components, condition) {\n  // Using hasOwnProperty for restrict. Consider\n  // subType is undefined in user payload.\n  return condition.hasOwnProperty('subType') ? filter(components, function (cmpt) {\n    return cmpt && cmpt.subType === condition.subType;\n  }) : components;\n}\n\nfunction normalizeSetOptionInput(opts) {\n  var replaceMergeMainTypeMap = createHashMap();\n  opts && each(modelUtil.normalizeToArray(opts.replaceMerge), function (mainType) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(ComponentModel.hasClass(mainType), '\"' + mainType + '\" is not valid component main type in \"replaceMerge\"');\n    }\n\n    replaceMergeMainTypeMap.set(mainType, true);\n  });\n  return {\n    replaceMergeMainTypeMap: replaceMergeMainTypeMap\n  };\n}\n\nmixin(GlobalModel, PaletteMixin);\nexport default GlobalModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar availableMethods = ['getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isSSR', 'isDisposed', 'on', 'off', 'getDataURL', 'getConnectedDataURL', // 'getModel',\n'getOption', // 'getViewOfComponentModel',\n// 'getViewOfSeriesModel',\n'getId', 'updateLabelLayout'];\n\nvar ExtensionAPI =\n/** @class */\nfunction () {\n  function ExtensionAPI(ecInstance) {\n    zrUtil.each(availableMethods, function (methodName) {\n      this[methodName] = zrUtil.bind(ecInstance[methodName], ecInstance);\n    }, this);\n  }\n\n  return ExtensionAPI;\n}();\n\nexport default ExtensionAPI;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar coordinateSystemCreators = {};\n\nvar CoordinateSystemManager =\n/** @class */\nfunction () {\n  function CoordinateSystemManager() {\n    this._coordinateSystems = [];\n  }\n\n  CoordinateSystemManager.prototype.create = function (ecModel, api) {\n    var coordinateSystems = [];\n    zrUtil.each(coordinateSystemCreators, function (creater, type) {\n      var list = creater.create(ecModel, api);\n      coordinateSystems = coordinateSystems.concat(list || []);\n    });\n    this._coordinateSystems = coordinateSystems;\n  };\n\n  CoordinateSystemManager.prototype.update = function (ecModel, api) {\n    zrUtil.each(this._coordinateSystems, function (coordSys) {\n      coordSys.update && coordSys.update(ecModel, api);\n    });\n  };\n\n  CoordinateSystemManager.prototype.getCoordinateSystems = function () {\n    return this._coordinateSystems.slice();\n  };\n\n  CoordinateSystemManager.register = function (type, creator) {\n    coordinateSystemCreators[type] = creator;\n  };\n\n  CoordinateSystemManager.get = function (type) {\n    return coordinateSystemCreators[type];\n  };\n\n  return CoordinateSystemManager;\n}();\n\nexport default CoordinateSystemManager;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { normalizeToArray // , MappingExistingItem, setComponentTypeToKeyInfo, mappingToExists\n} from '../util/model.js';\nimport { each, clone, map, isTypedArray, setAsPrimitive, isArray, isObject // , HashMap , createHashMap, extend, merge,\n} from 'zrender/lib/core/util.js';\nimport { error } from '../util/log.js';\nvar QUERY_REG = /^(min|max)?(.+)$/; // Key: mainType\n// type FakeComponentsMap = HashMap<(MappingExistingItem & { subType: string })[]>;\n\n/**\n * TERM EXPLANATIONS:\n * See `ECOption` and `ECUnitOption` in `src/util/types.ts`.\n */\n\nvar OptionManager =\n/** @class */\nfunction () {\n  // timeline.notMerge is not supported in ec3. Firstly there is rearly\n  // case that notMerge is needed. Secondly supporting 'notMerge' requires\n  // rawOption cloned and backuped when timeline changed, which does no\n  // good to performance. What's more, that both timeline and setOption\n  // method supply 'notMerge' brings complex and some problems.\n  // Consider this case:\n  // (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);\n  // (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);\n  function OptionManager(api) {\n    this._timelineOptions = [];\n    this._mediaList = [];\n    /**\n     * -1, means default.\n     * empty means no media.\n     */\n\n    this._currentMediaIndices = [];\n    this._api = api;\n  }\n\n  OptionManager.prototype.setOption = function (rawOption, optionPreprocessorFuncs, opt) {\n    if (rawOption) {\n      // That set dat primitive is dangerous if user reuse the data when setOption again.\n      each(normalizeToArray(rawOption.series), function (series) {\n        series && series.data && isTypedArray(series.data) && setAsPrimitive(series.data);\n      });\n      each(normalizeToArray(rawOption.dataset), function (dataset) {\n        dataset && dataset.source && isTypedArray(dataset.source) && setAsPrimitive(dataset.source);\n      });\n    } // Caution: some series modify option data, if do not clone,\n    // it should ensure that the repeat modify correctly\n    // (create a new object when modify itself).\n\n\n    rawOption = clone(rawOption); // FIXME\n    // If some property is set in timeline options or media option but\n    // not set in baseOption, a warning should be given.\n\n    var optionBackup = this._optionBackup;\n    var newParsedOption = parseRawOption(rawOption, optionPreprocessorFuncs, !optionBackup);\n    this._newBaseOption = newParsedOption.baseOption; // For setOption at second time (using merge mode);\n\n    if (optionBackup) {\n      // FIXME\n      // the restore merge solution is essentially incorrect.\n      // the mapping can not be 100% consistent with ecModel, which probably brings\n      // potential bug!\n      // The first merge is delayed, becuase in most cases, users do not call `setOption` twice.\n      // let fakeCmptsMap = this._fakeCmptsMap;\n      // if (!fakeCmptsMap) {\n      //     fakeCmptsMap = this._fakeCmptsMap = createHashMap();\n      //     mergeToBackupOption(fakeCmptsMap, null, optionBackup.baseOption, null);\n      // }\n      // mergeToBackupOption(\n      //     fakeCmptsMap, optionBackup.baseOption, newParsedOption.baseOption, opt\n      // );\n      // For simplicity, timeline options and media options do not support merge,\n      // that is, if you `setOption` twice and both has timeline options, the latter\n      // timeline opitons will not be merged to the formers, but just substitude them.\n      if (newParsedOption.timelineOptions.length) {\n        optionBackup.timelineOptions = newParsedOption.timelineOptions;\n      }\n\n      if (newParsedOption.mediaList.length) {\n        optionBackup.mediaList = newParsedOption.mediaList;\n      }\n\n      if (newParsedOption.mediaDefault) {\n        optionBackup.mediaDefault = newParsedOption.mediaDefault;\n      }\n    } else {\n      this._optionBackup = newParsedOption;\n    }\n  };\n\n  OptionManager.prototype.mountOption = function (isRecreate) {\n    var optionBackup = this._optionBackup;\n    this._timelineOptions = optionBackup.timelineOptions;\n    this._mediaList = optionBackup.mediaList;\n    this._mediaDefault = optionBackup.mediaDefault;\n    this._currentMediaIndices = [];\n    return clone(isRecreate // this._optionBackup.baseOption, which is created at the first `setOption`\n    // called, and is merged into every new option by inner method `mergeToBackupOption`\n    // each time `setOption` called, can be only used in `isRecreate`, because\n    // its reliability is under suspicion. In other cases option merge is\n    // performed by `model.mergeOption`.\n    ? optionBackup.baseOption : this._newBaseOption);\n  };\n\n  OptionManager.prototype.getTimelineOption = function (ecModel) {\n    var option;\n    var timelineOptions = this._timelineOptions;\n\n    if (timelineOptions.length) {\n      // getTimelineOption can only be called after ecModel inited,\n      // so we can get currentIndex from timelineModel.\n      var timelineModel = ecModel.getComponent('timeline');\n\n      if (timelineModel) {\n        option = clone( // FIXME:TS as TimelineModel or quivlant interface\n        timelineOptions[timelineModel.getCurrentIndex()]);\n      }\n    }\n\n    return option;\n  };\n\n  OptionManager.prototype.getMediaOption = function (ecModel) {\n    var ecWidth = this._api.getWidth();\n\n    var ecHeight = this._api.getHeight();\n\n    var mediaList = this._mediaList;\n    var mediaDefault = this._mediaDefault;\n    var indices = [];\n    var result = []; // No media defined.\n\n    if (!mediaList.length && !mediaDefault) {\n      return result;\n    } // Multi media may be applied, the latter defined media has higher priority.\n\n\n    for (var i = 0, len = mediaList.length; i < len; i++) {\n      if (applyMediaQuery(mediaList[i].query, ecWidth, ecHeight)) {\n        indices.push(i);\n      }\n    } // FIXME\n    // Whether mediaDefault should force users to provide? Otherwise\n    // the change by media query can not be recorvered.\n\n\n    if (!indices.length && mediaDefault) {\n      indices = [-1];\n    }\n\n    if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {\n      result = map(indices, function (index) {\n        return clone(index === -1 ? mediaDefault.option : mediaList[index].option);\n      });\n    } // Otherwise return nothing.\n\n\n    this._currentMediaIndices = indices;\n    return result;\n  };\n\n  return OptionManager;\n}();\n/**\n * [RAW_OPTION_PATTERNS]\n * (Note: \"series: []\" represents all other props in `ECUnitOption`)\n *\n * (1) No prop \"baseOption\" declared:\n * Root option is used as \"baseOption\" (except prop \"options\" and \"media\").\n * ```js\n * option = {\n *     series: [],\n *     timeline: {},\n *     options: [],\n * };\n * option = {\n *     series: [],\n *     media: {},\n * };\n * option = {\n *     series: [],\n *     timeline: {},\n *     options: [],\n *     media: {},\n * }\n * ```\n *\n * (2) Prop \"baseOption\" declared:\n * If \"baseOption\" declared, `ECUnitOption` props can only be declared\n * inside \"baseOption\" except prop \"timeline\" (compat ec2).\n * ```js\n * option = {\n *     baseOption: {\n *         timeline: {},\n *         series: [],\n *     },\n *     options: []\n * };\n * option = {\n *     baseOption: {\n *         series: [],\n *     },\n *     media: []\n * };\n * option = {\n *     baseOption: {\n *         timeline: {},\n *         series: [],\n *     },\n *     options: []\n *     media: []\n * };\n * option = {\n *     // ec3 compat ec2: allow (only) `timeline` declared\n *     // outside baseOption. Keep this setting for compat.\n *     timeline: {},\n *     baseOption: {\n *         series: [],\n *     },\n *     options: [],\n *     media: []\n * };\n * ```\n */\n\n\nfunction parseRawOption( // `rawOption` May be modified\nrawOption, optionPreprocessorFuncs, isNew) {\n  var mediaList = [];\n  var mediaDefault;\n  var baseOption;\n  var declaredBaseOption = rawOption.baseOption; // Compatible with ec2, [RAW_OPTION_PATTERNS] above.\n\n  var timelineOnRoot = rawOption.timeline;\n  var timelineOptionsOnRoot = rawOption.options;\n  var mediaOnRoot = rawOption.media;\n  var hasMedia = !!rawOption.media;\n  var hasTimeline = !!(timelineOptionsOnRoot || timelineOnRoot || declaredBaseOption && declaredBaseOption.timeline);\n\n  if (declaredBaseOption) {\n    baseOption = declaredBaseOption; // For merge option.\n\n    if (!baseOption.timeline) {\n      baseOption.timeline = timelineOnRoot;\n    }\n  } // For convenience, enable to use the root option as the `baseOption`:\n  // `{ ...normalOptionProps, media: [{ ... }, { ... }] }`\n  else {\n      if (hasTimeline || hasMedia) {\n        rawOption.options = rawOption.media = null;\n      }\n\n      baseOption = rawOption;\n    }\n\n  if (hasMedia) {\n    if (isArray(mediaOnRoot)) {\n      each(mediaOnRoot, function (singleMedia) {\n        if (process.env.NODE_ENV !== 'production') {\n          // Real case of wrong config.\n          if (singleMedia && !singleMedia.option && isObject(singleMedia.query) && isObject(singleMedia.query.option)) {\n            error('Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }');\n          }\n        }\n\n        if (singleMedia && singleMedia.option) {\n          if (singleMedia.query) {\n            mediaList.push(singleMedia);\n          } else if (!mediaDefault) {\n            // Use the first media default.\n            mediaDefault = singleMedia;\n          }\n        }\n      });\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        // Real case of wrong config.\n        error('Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }');\n      }\n    }\n  }\n\n  doPreprocess(baseOption);\n  each(timelineOptionsOnRoot, function (option) {\n    return doPreprocess(option);\n  });\n  each(mediaList, function (media) {\n    return doPreprocess(media.option);\n  });\n\n  function doPreprocess(option) {\n    each(optionPreprocessorFuncs, function (preProcess) {\n      preProcess(option, isNew);\n    });\n  }\n\n  return {\n    baseOption: baseOption,\n    timelineOptions: timelineOptionsOnRoot || [],\n    mediaDefault: mediaDefault,\n    mediaList: mediaList\n  };\n}\n/**\n * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>\n * Support: width, height, aspectRatio\n * Can use max or min as prefix.\n */\n\n\nfunction applyMediaQuery(query, ecWidth, ecHeight) {\n  var realMap = {\n    width: ecWidth,\n    height: ecHeight,\n    aspectratio: ecWidth / ecHeight // lowser case for convenientce.\n\n  };\n  var applicatable = true;\n  each(query, function (value, attr) {\n    var matched = attr.match(QUERY_REG);\n\n    if (!matched || !matched[1] || !matched[2]) {\n      return;\n    }\n\n    var operator = matched[1];\n    var realAttr = matched[2].toLowerCase();\n\n    if (!compare(realMap[realAttr], value, operator)) {\n      applicatable = false;\n    }\n  });\n  return applicatable;\n}\n\nfunction compare(real, expect, operator) {\n  if (operator === 'min') {\n    return real >= expect;\n  } else if (operator === 'max') {\n    return real <= expect;\n  } else {\n    // Equals\n    return real === expect;\n  }\n}\n\nfunction indicesEquals(indices1, indices2) {\n  // indices is always order by asc and has only finite number.\n  return indices1.join(',') === indices2.join(',');\n}\n/**\n * Consider case:\n * `chart.setOption(opt1);`\n * Then user do some interaction like dataZoom, dataView changing.\n * `chart.setOption(opt2);`\n * Then user press 'reset button' in toolbox.\n *\n * After doing that all of the interaction effects should be reset, the\n * chart should be the same as the result of invoke\n * `chart.setOption(opt1); chart.setOption(opt2);`.\n *\n * Although it is not able ensure that\n * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to\n * `chart.setOption(merge(opt1, opt2));` exactly,\n * this might be the only simple way to implement that feature.\n *\n * MEMO: We've considered some other approaches:\n * 1. Each model handle its self restoration but not uniform treatment.\n *     (Too complex in logic and error-prone)\n * 2. Use a shadow ecModel. (Performace expensive)\n *\n * FIXME: A possible solution:\n * Add a extra level of model for each component model. The inheritance chain would be:\n * ecModel <- componentModel <- componentActionModel <- dataItemModel\n * And all of the actions can only modify the `componentActionModel` rather than\n * `componentModel`. `setOption` will only modify the `ecModel` and `componentModel`.\n * When \"resotre\" action triggered, model from `componentActionModel` will be discarded\n * instead of recreating the \"ecModel\" from the \"_optionBackup\".\n */\n// function mergeToBackupOption(\n//     fakeCmptsMap: FakeComponentsMap,\n//     // `tarOption` Can be null/undefined, means init\n//     tarOption: ECUnitOption,\n//     newOption: ECUnitOption,\n//     // Can be null/undefined\n//     opt: InnerSetOptionOpts\n// ): void {\n//     newOption = newOption || {} as ECUnitOption;\n//     const notInit = !!tarOption;\n//     each(newOption, function (newOptsInMainType, mainType) {\n//         if (newOptsInMainType == null) {\n//             return;\n//         }\n//         if (!ComponentModel.hasClass(mainType)) {\n//             if (tarOption) {\n//                 tarOption[mainType] = merge(tarOption[mainType], newOptsInMainType, true);\n//             }\n//         }\n//         else {\n//             const oldTarOptsInMainType = notInit ? normalizeToArray(tarOption[mainType]) : null;\n//             const oldFakeCmptsInMainType = fakeCmptsMap.get(mainType) || [];\n//             const resultTarOptsInMainType = notInit ? (tarOption[mainType] = [] as ComponentOption[]) : null;\n//             const resultFakeCmptsInMainType = fakeCmptsMap.set(mainType, []);\n//             const mappingResult = mappingToExists(\n//                 oldFakeCmptsInMainType,\n//                 normalizeToArray(newOptsInMainType),\n//                 (opt && opt.replaceMergeMainTypeMap.get(mainType)) ? 'replaceMerge' : 'normalMerge'\n//             );\n//             setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel as ComponentModelConstructor);\n//             each(mappingResult, function (resultItem, index) {\n//                 // The same logic as `Global.ts#_mergeOption`.\n//                 let fakeCmpt = resultItem.existing;\n//                 const newOption = resultItem.newOption;\n//                 const keyInfo = resultItem.keyInfo;\n//                 let fakeCmptOpt;\n//                 if (!newOption) {\n//                     fakeCmptOpt = oldTarOptsInMainType[index];\n//                 }\n//                 else {\n//                     if (fakeCmpt && fakeCmpt.subType === keyInfo.subType) {\n//                         fakeCmpt.name = keyInfo.name;\n//                         if (notInit) {\n//                             fakeCmptOpt = merge(oldTarOptsInMainType[index], newOption, true);\n//                         }\n//                     }\n//                     else {\n//                         fakeCmpt = extend({}, keyInfo);\n//                         if (notInit) {\n//                             fakeCmptOpt = clone(newOption);\n//                         }\n//                     }\n//                 }\n//                 if (fakeCmpt) {\n//                     notInit && resultTarOptsInMainType.push(fakeCmptOpt);\n//                     resultFakeCmptsInMainType.push(fakeCmpt);\n//                 }\n//                 else {\n//                     notInit && resultTarOptsInMainType.push(void 0);\n//                     resultFakeCmptsInMainType.push(void 0);\n//                 }\n//             });\n//         }\n//     });\n// }\n\n\nexport default OptionManager;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\nimport { deprecateLog, deprecateReplaceLog } from '../../util/log.js';\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar POSSIBLE_STYLES = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine'];\n\nfunction compatEC2ItemStyle(opt) {\n  var itemStyleOpt = opt && opt.itemStyle;\n\n  if (!itemStyleOpt) {\n    return;\n  }\n\n  for (var i = 0, len = POSSIBLE_STYLES.length; i < len; i++) {\n    var styleName = POSSIBLE_STYLES[i];\n    var normalItemStyleOpt = itemStyleOpt.normal;\n    var emphasisItemStyleOpt = itemStyleOpt.emphasis;\n\n    if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(\"itemStyle.normal.\" + styleName, styleName);\n      }\n\n      opt[styleName] = opt[styleName] || {};\n\n      if (!opt[styleName].normal) {\n        opt[styleName].normal = normalItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].normal, normalItemStyleOpt[styleName]);\n      }\n\n      normalItemStyleOpt[styleName] = null;\n    }\n\n    if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(\"itemStyle.emphasis.\" + styleName, \"emphasis.\" + styleName);\n      }\n\n      opt[styleName] = opt[styleName] || {};\n\n      if (!opt[styleName].emphasis) {\n        opt[styleName].emphasis = emphasisItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);\n      }\n\n      emphasisItemStyleOpt[styleName] = null;\n    }\n  }\n}\n\nfunction convertNormalEmphasis(opt, optType, useExtend) {\n  if (opt && opt[optType] && (opt[optType].normal || opt[optType].emphasis)) {\n    var normalOpt = opt[optType].normal;\n    var emphasisOpt = opt[optType].emphasis;\n\n    if (normalOpt) {\n      if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line max-len\n        deprecateLog(\"'normal' hierarchy in \" + optType + \" has been removed since 4.0. All style properties are configured in \" + optType + \" directly now.\");\n      } // Timeline controlStyle has other properties besides normal and emphasis\n\n\n      if (useExtend) {\n        opt[optType].normal = opt[optType].emphasis = null;\n        zrUtil.defaults(opt[optType], normalOpt);\n      } else {\n        opt[optType] = normalOpt;\n      }\n    }\n\n    if (emphasisOpt) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog(optType + \".emphasis has been changed to emphasis.\" + optType + \" since 4.0\");\n      }\n\n      opt.emphasis = opt.emphasis || {};\n      opt.emphasis[optType] = emphasisOpt; // Also compat the case user mix the style and focus together in ec3 style\n      // for example: { itemStyle: { normal: {}, emphasis: {focus, shadowBlur} } }\n\n      if (emphasisOpt.focus) {\n        opt.emphasis.focus = emphasisOpt.focus;\n      }\n\n      if (emphasisOpt.blurScope) {\n        opt.emphasis.blurScope = emphasisOpt.blurScope;\n      }\n    }\n  }\n}\n\nfunction removeEC3NormalStatus(opt) {\n  convertNormalEmphasis(opt, 'itemStyle');\n  convertNormalEmphasis(opt, 'lineStyle');\n  convertNormalEmphasis(opt, 'areaStyle');\n  convertNormalEmphasis(opt, 'label');\n  convertNormalEmphasis(opt, 'labelLine'); // treemap\n\n  convertNormalEmphasis(opt, 'upperLabel'); // graph\n\n  convertNormalEmphasis(opt, 'edgeLabel');\n}\n\nfunction compatTextStyle(opt, propName) {\n  // Check whether is not object (string\\null\\undefined ...)\n  var labelOptSingle = isObject(opt) && opt[propName];\n  var textStyle = isObject(labelOptSingle) && labelOptSingle.textStyle;\n\n  if (textStyle) {\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line max-len\n      deprecateLog(\"textStyle hierarchy in \" + propName + \" has been removed since 4.0. All textStyle properties are configured in \" + propName + \" directly now.\");\n    }\n\n    for (var i = 0, len = modelUtil.TEXT_STYLE_OPTIONS.length; i < len; i++) {\n      var textPropName = modelUtil.TEXT_STYLE_OPTIONS[i];\n\n      if (textStyle.hasOwnProperty(textPropName)) {\n        labelOptSingle[textPropName] = textStyle[textPropName];\n      }\n    }\n  }\n}\n\nfunction compatEC3CommonStyles(opt) {\n  if (opt) {\n    removeEC3NormalStatus(opt);\n    compatTextStyle(opt, 'label');\n    opt.emphasis && compatTextStyle(opt.emphasis, 'label');\n  }\n}\n\nfunction processSeries(seriesOpt) {\n  if (!isObject(seriesOpt)) {\n    return;\n  }\n\n  compatEC2ItemStyle(seriesOpt);\n  removeEC3NormalStatus(seriesOpt);\n  compatTextStyle(seriesOpt, 'label'); // treemap\n\n  compatTextStyle(seriesOpt, 'upperLabel'); // graph\n\n  compatTextStyle(seriesOpt, 'edgeLabel');\n\n  if (seriesOpt.emphasis) {\n    compatTextStyle(seriesOpt.emphasis, 'label'); // treemap\n\n    compatTextStyle(seriesOpt.emphasis, 'upperLabel'); // graph\n\n    compatTextStyle(seriesOpt.emphasis, 'edgeLabel');\n  }\n\n  var markPoint = seriesOpt.markPoint;\n\n  if (markPoint) {\n    compatEC2ItemStyle(markPoint);\n    compatEC3CommonStyles(markPoint);\n  }\n\n  var markLine = seriesOpt.markLine;\n\n  if (markLine) {\n    compatEC2ItemStyle(markLine);\n    compatEC3CommonStyles(markLine);\n  }\n\n  var markArea = seriesOpt.markArea;\n\n  if (markArea) {\n    compatEC3CommonStyles(markArea);\n  }\n\n  var data = seriesOpt.data; // Break with ec3: if `setOption` again, there may be no `type` in option,\n  // then the backward compat based on option type will not be performed.\n\n  if (seriesOpt.type === 'graph') {\n    data = data || seriesOpt.nodes;\n    var edgeData = seriesOpt.links || seriesOpt.edges;\n\n    if (edgeData && !zrUtil.isTypedArray(edgeData)) {\n      for (var i = 0; i < edgeData.length; i++) {\n        compatEC3CommonStyles(edgeData[i]);\n      }\n    }\n\n    zrUtil.each(seriesOpt.categories, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  }\n\n  if (data && !zrUtil.isTypedArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      compatEC3CommonStyles(data[i]);\n    }\n  } // mark point data\n\n\n  markPoint = seriesOpt.markPoint;\n\n  if (markPoint && markPoint.data) {\n    var mpData = markPoint.data;\n\n    for (var i = 0; i < mpData.length; i++) {\n      compatEC3CommonStyles(mpData[i]);\n    }\n  } // mark line data\n\n\n  markLine = seriesOpt.markLine;\n\n  if (markLine && markLine.data) {\n    var mlData = markLine.data;\n\n    for (var i = 0; i < mlData.length; i++) {\n      if (zrUtil.isArray(mlData[i])) {\n        compatEC3CommonStyles(mlData[i][0]);\n        compatEC3CommonStyles(mlData[i][1]);\n      } else {\n        compatEC3CommonStyles(mlData[i]);\n      }\n    }\n  } // Series\n\n\n  if (seriesOpt.type === 'gauge') {\n    compatTextStyle(seriesOpt, 'axisLabel');\n    compatTextStyle(seriesOpt, 'title');\n    compatTextStyle(seriesOpt, 'detail');\n  } else if (seriesOpt.type === 'treemap') {\n    convertNormalEmphasis(seriesOpt.breadcrumb, 'itemStyle');\n    zrUtil.each(seriesOpt.levels, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  } else if (seriesOpt.type === 'tree') {\n    removeEC3NormalStatus(seriesOpt.leaves);\n  } // sunburst starts from ec4, so it does not need to compat levels.\n\n}\n\nfunction toArr(o) {\n  return zrUtil.isArray(o) ? o : o ? [o] : [];\n}\n\nfunction toObj(o) {\n  return (zrUtil.isArray(o) ? o[0] : o) || {};\n}\n\nexport default function globalCompatStyle(option, isTheme) {\n  each(toArr(option.series), function (seriesOpt) {\n    isObject(seriesOpt) && processSeries(seriesOpt);\n  });\n  var axes = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar'];\n  isTheme && axes.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis');\n  each(axes, function (axisName) {\n    each(toArr(option[axisName]), function (axisOpt) {\n      if (axisOpt) {\n        compatTextStyle(axisOpt, 'axisLabel');\n        compatTextStyle(axisOpt.axisPointer, 'label');\n      }\n    });\n  });\n  each(toArr(option.parallel), function (parallelOpt) {\n    var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;\n    compatTextStyle(parallelAxisDefault, 'axisLabel');\n    compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, 'label');\n  });\n  each(toArr(option.calendar), function (calendarOpt) {\n    convertNormalEmphasis(calendarOpt, 'itemStyle');\n    compatTextStyle(calendarOpt, 'dayLabel');\n    compatTextStyle(calendarOpt, 'monthLabel');\n    compatTextStyle(calendarOpt, 'yearLabel');\n  }); // radar.name.textStyle\n\n  each(toArr(option.radar), function (radarOpt) {\n    compatTextStyle(radarOpt, 'name'); // Use axisName instead of name because component has name property\n\n    if (radarOpt.name && radarOpt.axisName == null) {\n      radarOpt.axisName = radarOpt.name;\n      delete radarOpt.name;\n\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog('name property in radar component has been changed to axisName');\n      }\n    }\n\n    if (radarOpt.nameGap != null && radarOpt.axisNameGap == null) {\n      radarOpt.axisNameGap = radarOpt.nameGap;\n      delete radarOpt.nameGap;\n\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog('nameGap property in radar component has been changed to axisNameGap');\n      }\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      each(radarOpt.indicator, function (indicatorOpt) {\n        if (indicatorOpt.text) {\n          deprecateReplaceLog('text', 'name', 'radar.indicator');\n        }\n      });\n    }\n  });\n  each(toArr(option.geo), function (geoOpt) {\n    if (isObject(geoOpt)) {\n      compatEC3CommonStyles(geoOpt);\n      each(toArr(geoOpt.regions), function (regionObj) {\n        compatEC3CommonStyles(regionObj);\n      });\n    }\n  });\n  each(toArr(option.timeline), function (timelineOpt) {\n    compatEC3CommonStyles(timelineOpt);\n    convertNormalEmphasis(timelineOpt, 'label');\n    convertNormalEmphasis(timelineOpt, 'itemStyle');\n    convertNormalEmphasis(timelineOpt, 'controlStyle', true);\n    var data = timelineOpt.data;\n    zrUtil.isArray(data) && zrUtil.each(data, function (item) {\n      if (zrUtil.isObject(item)) {\n        convertNormalEmphasis(item, 'label');\n        convertNormalEmphasis(item, 'itemStyle');\n      }\n    });\n  });\n  each(toArr(option.toolbox), function (toolboxOpt) {\n    convertNormalEmphasis(toolboxOpt, 'iconStyle');\n    each(toolboxOpt.feature, function (featureOpt) {\n      convertNormalEmphasis(featureOpt, 'iconStyle');\n    });\n  });\n  compatTextStyle(toObj(option.axisPointer), 'label');\n  compatTextStyle(toObj(option.tooltip).axisPointer, 'label'); // Clean logs\n  // storedLogs = {};\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isArray, isObject, isTypedArray, defaults } from 'zrender/lib/core/util.js';\nimport compatStyle from './helper/compatStyle.js';\nimport { normalizeToArray } from '../util/model.js';\nimport { deprecateLog, deprecateReplaceLog } from '../util/log.js';\n\nfunction get(opt, path) {\n  var pathArr = path.split(',');\n  var obj = opt;\n\n  for (var i = 0; i < pathArr.length; i++) {\n    obj = obj && obj[pathArr[i]];\n\n    if (obj == null) {\n      break;\n    }\n  }\n\n  return obj;\n}\n\nfunction set(opt, path, val, overwrite) {\n  var pathArr = path.split(',');\n  var obj = opt;\n  var key;\n  var i = 0;\n\n  for (; i < pathArr.length - 1; i++) {\n    key = pathArr[i];\n\n    if (obj[key] == null) {\n      obj[key] = {};\n    }\n\n    obj = obj[key];\n  }\n\n  if (overwrite || obj[pathArr[i]] == null) {\n    obj[pathArr[i]] = val;\n  }\n}\n\nfunction compatLayoutProperties(option) {\n  option && each(LAYOUT_PROPERTIES, function (prop) {\n    if (prop[0] in option && !(prop[1] in option)) {\n      option[prop[1]] = option[prop[0]];\n    }\n  });\n}\n\nvar LAYOUT_PROPERTIES = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']];\nvar COMPATITABLE_COMPONENTS = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'];\nvar BAR_ITEM_STYLE_MAP = [['borderRadius', 'barBorderRadius'], ['borderColor', 'barBorderColor'], ['borderWidth', 'barBorderWidth']];\n\nfunction compatBarItemStyle(option) {\n  var itemStyle = option && option.itemStyle;\n\n  if (itemStyle) {\n    for (var i = 0; i < BAR_ITEM_STYLE_MAP.length; i++) {\n      var oldName = BAR_ITEM_STYLE_MAP[i][1];\n      var newName = BAR_ITEM_STYLE_MAP[i][0];\n\n      if (itemStyle[oldName] != null) {\n        itemStyle[newName] = itemStyle[oldName];\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog(oldName, newName);\n        }\n      }\n    }\n  }\n}\n\nfunction compatPieLabel(option) {\n  if (!option) {\n    return;\n  }\n\n  if (option.alignTo === 'edge' && option.margin != null && option.edgeDistance == null) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('label.margin', 'label.edgeDistance', 'pie');\n    }\n\n    option.edgeDistance = option.margin;\n  }\n}\n\nfunction compatSunburstState(option) {\n  if (!option) {\n    return;\n  }\n\n  if (option.downplay && !option.blur) {\n    option.blur = option.downplay;\n\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('downplay', 'blur', 'sunburst');\n    }\n  }\n}\n\nfunction compatGraphFocus(option) {\n  if (!option) {\n    return;\n  }\n\n  if (option.focusNodeAdjacency != null) {\n    option.emphasis = option.emphasis || {};\n\n    if (option.emphasis.focus == null) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog('focusNodeAdjacency', 'emphasis: { focus: \\'adjacency\\'}', 'graph/sankey');\n      }\n\n      option.emphasis.focus = 'adjacency';\n    }\n  }\n}\n\nfunction traverseTree(data, cb) {\n  if (data) {\n    for (var i = 0; i < data.length; i++) {\n      cb(data[i]);\n      data[i] && traverseTree(data[i].children, cb);\n    }\n  }\n}\n\nexport default function globalBackwardCompat(option, isTheme) {\n  compatStyle(option, isTheme); // Make sure series array for model initialization.\n\n  option.series = normalizeToArray(option.series);\n  each(option.series, function (seriesOpt) {\n    if (!isObject(seriesOpt)) {\n      return;\n    }\n\n    var seriesType = seriesOpt.type;\n\n    if (seriesType === 'line') {\n      if (seriesOpt.clipOverflow != null) {\n        seriesOpt.clip = seriesOpt.clipOverflow;\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('clipOverflow', 'clip', 'line');\n        }\n      }\n    } else if (seriesType === 'pie' || seriesType === 'gauge') {\n      if (seriesOpt.clockWise != null) {\n        seriesOpt.clockwise = seriesOpt.clockWise;\n\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('clockWise', 'clockwise');\n        }\n      }\n\n      compatPieLabel(seriesOpt.label);\n      var data = seriesOpt.data;\n\n      if (data && !isTypedArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          compatPieLabel(data[i]);\n        }\n      }\n\n      if (seriesOpt.hoverOffset != null) {\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\n\n        if (seriesOpt.emphasis.scaleSize = null) {\n          if (process.env.NODE_ENV !== 'production') {\n            deprecateReplaceLog('hoverOffset', 'emphasis.scaleSize');\n          }\n\n          seriesOpt.emphasis.scaleSize = seriesOpt.hoverOffset;\n        }\n      }\n    } else if (seriesType === 'gauge') {\n      var pointerColor = get(seriesOpt, 'pointer.color');\n      pointerColor != null && set(seriesOpt, 'itemStyle.color', pointerColor);\n    } else if (seriesType === 'bar') {\n      compatBarItemStyle(seriesOpt);\n      compatBarItemStyle(seriesOpt.backgroundStyle);\n      compatBarItemStyle(seriesOpt.emphasis);\n      var data = seriesOpt.data;\n\n      if (data && !isTypedArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          if (typeof data[i] === 'object') {\n            compatBarItemStyle(data[i]);\n            compatBarItemStyle(data[i] && data[i].emphasis);\n          }\n        }\n      }\n    } else if (seriesType === 'sunburst') {\n      var highlightPolicy = seriesOpt.highlightPolicy;\n\n      if (highlightPolicy) {\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\n\n        if (!seriesOpt.emphasis.focus) {\n          seriesOpt.emphasis.focus = highlightPolicy;\n\n          if (process.env.NODE_ENV !== 'production') {\n            deprecateReplaceLog('highlightPolicy', 'emphasis.focus', 'sunburst');\n          }\n        }\n      }\n\n      compatSunburstState(seriesOpt);\n      traverseTree(seriesOpt.data, compatSunburstState);\n    } else if (seriesType === 'graph' || seriesType === 'sankey') {\n      compatGraphFocus(seriesOpt); // TODO nodes, edges?\n    } else if (seriesType === 'map') {\n      if (seriesOpt.mapType && !seriesOpt.map) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('mapType', 'map', 'map');\n        }\n\n        seriesOpt.map = seriesOpt.mapType;\n      }\n\n      if (seriesOpt.mapLocation) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('`mapLocation` is not used anymore.');\n        }\n\n        defaults(seriesOpt, seriesOpt.mapLocation);\n      }\n    }\n\n    if (seriesOpt.hoverAnimation != null) {\n      seriesOpt.emphasis = seriesOpt.emphasis || {};\n\n      if (seriesOpt.emphasis && seriesOpt.emphasis.scale == null) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('hoverAnimation', 'emphasis.scale');\n        }\n\n        seriesOpt.emphasis.scale = seriesOpt.hoverAnimation;\n      }\n    }\n\n    compatLayoutProperties(seriesOpt);\n  }); // dataRange has changed to visualMap\n\n  if (option.dataRange) {\n    option.visualMap = option.dataRange;\n  }\n\n  each(COMPATITABLE_COMPONENTS, function (componentName) {\n    var options = option[componentName];\n\n    if (options) {\n      if (!isArray(options)) {\n        options = [options];\n      }\n\n      each(options, function (option) {\n        compatLayoutProperties(option);\n      });\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport { addSafe } from '../util/number.js'; // (1) [Caution]: the logic is correct based on the premises:\n//     data processing stage is blocked in stream.\n//     See <module:echarts/stream/Scheduler#performDataProcessorTasks>\n// (2) Only register once when import repeatly.\n//     Should be executed after series filtered and before stack calculation.\n\nexport default function dataStack(ecModel) {\n  var stackInfoMap = createHashMap();\n  ecModel.eachSeries(function (seriesModel) {\n    var stack = seriesModel.get('stack'); // Compatibal: when `stack` is set as '', do not stack.\n\n    if (stack) {\n      var stackInfoList = stackInfoMap.get(stack) || stackInfoMap.set(stack, []);\n      var data = seriesModel.getData();\n      var stackInfo = {\n        // Used for calculate axis extent automatically.\n        // TODO: Type getCalculationInfo return more specific type?\n        stackResultDimension: data.getCalculationInfo('stackResultDimension'),\n        stackedOverDimension: data.getCalculationInfo('stackedOverDimension'),\n        stackedDimension: data.getCalculationInfo('stackedDimension'),\n        stackedByDimension: data.getCalculationInfo('stackedByDimension'),\n        isStackedByIndex: data.getCalculationInfo('isStackedByIndex'),\n        data: data,\n        seriesModel: seriesModel\n      }; // If stacked on axis that do not support data stack.\n\n      if (!stackInfo.stackedDimension || !(stackInfo.isStackedByIndex || stackInfo.stackedByDimension)) {\n        return;\n      }\n\n      stackInfoList.length && data.setCalculationInfo('stackedOnSeries', stackInfoList[stackInfoList.length - 1].seriesModel);\n      stackInfoList.push(stackInfo);\n    }\n  });\n  stackInfoMap.each(calculateStack);\n}\n\nfunction calculateStack(stackInfoList) {\n  each(stackInfoList, function (targetStackInfo, idxInStack) {\n    var resultVal = [];\n    var resultNaN = [NaN, NaN];\n    var dims = [targetStackInfo.stackResultDimension, targetStackInfo.stackedOverDimension];\n    var targetData = targetStackInfo.data;\n    var isStackedByIndex = targetStackInfo.isStackedByIndex; // Should not write on raw data, because stack series model list changes\n    // depending on legend selection.\n\n    targetData.modify(dims, function (v0, v1, dataIndex) {\n      var sum = targetData.get(targetStackInfo.stackedDimension, dataIndex); // Consider `connectNulls` of line area, if value is NaN, stackedOver\n      // should also be NaN, to draw a appropriate belt area.\n\n      if (isNaN(sum)) {\n        return resultNaN;\n      }\n\n      var byValue;\n      var stackedDataRawIndex;\n\n      if (isStackedByIndex) {\n        stackedDataRawIndex = targetData.getRawIndex(dataIndex);\n      } else {\n        byValue = targetData.get(targetStackInfo.stackedByDimension, dataIndex);\n      } // If stackOver is NaN, chart view will render point on value start.\n\n\n      var stackedOver = NaN;\n\n      for (var j = idxInStack - 1; j >= 0; j--) {\n        var stackInfo = stackInfoList[j]; // Has been optimized by inverted indices on `stackedByDimension`.\n\n        if (!isStackedByIndex) {\n          stackedDataRawIndex = stackInfo.data.rawIndexOf(stackInfo.stackedByDimension, byValue);\n        }\n\n        if (stackedDataRawIndex >= 0) {\n          var val = stackInfo.data.getByRawIndex(stackInfo.stackResultDimension, stackedDataRawIndex); // Considering positive stack, negative stack and empty data\n\n          if (sum >= 0 && val > 0 || // Positive stack\n          sum <= 0 && val < 0 // Negative stack\n          ) {\n              // The sum should be as less as possible to be effected\n              // by floating arithmetic problem. A wrong result probably\n              // filtered incorrectly by axis min/max.\n              sum = addSafe(sum, val);\n              stackedOver = val;\n              break;\n            }\n        }\n      }\n\n      resultVal[0] = sum;\n      resultVal[1] = stackedOver;\n      return resultVal;\n    });\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isFunction, extend, createHashMap } from 'zrender/lib/core/util.js';\nimport makeStyleMapper from '../model/mixin/makeStyleMapper.js';\nimport { ITEM_STYLE_KEY_MAP } from '../model/mixin/itemStyle.js';\nimport { LINE_STYLE_KEY_MAP } from '../model/mixin/lineStyle.js';\nimport Model from '../model/Model.js';\nimport { makeInner } from '../util/model.js';\nvar inner = makeInner();\nvar defaultStyleMappers = {\n  itemStyle: makeStyleMapper(ITEM_STYLE_KEY_MAP, true),\n  lineStyle: makeStyleMapper(LINE_STYLE_KEY_MAP, true)\n};\nvar defaultColorKey = {\n  lineStyle: 'stroke',\n  itemStyle: 'fill'\n};\n\nfunction getStyleMapper(seriesModel, stylePath) {\n  var styleMapper = seriesModel.visualStyleMapper || defaultStyleMappers[stylePath];\n\n  if (!styleMapper) {\n    console.warn(\"Unkown style type '\" + stylePath + \"'.\");\n    return defaultStyleMappers.itemStyle;\n  }\n\n  return styleMapper;\n}\n\nfunction getDefaultColorKey(seriesModel, stylePath) {\n  // return defaultColorKey[stylePath] ||\n  var colorKey = seriesModel.visualDrawType || defaultColorKey[stylePath];\n\n  if (!colorKey) {\n    console.warn(\"Unkown style type '\" + stylePath + \"'.\");\n    return 'fill';\n  }\n\n  return colorKey;\n}\n\nvar seriesStyleTask = {\n  createOnAllSeries: true,\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle'; // Set in itemStyle\n\n    var styleModel = seriesModel.getModel(stylePath);\n    var getStyle = getStyleMapper(seriesModel, stylePath);\n    var globalStyle = getStyle(styleModel);\n    var decalOption = styleModel.getShallow('decal');\n\n    if (decalOption) {\n      data.setVisual('decal', decalOption);\n      decalOption.dirty = true;\n    } // TODO\n\n\n    var colorKey = getDefaultColorKey(seriesModel, stylePath);\n    var color = globalStyle[colorKey]; // TODO style callback\n\n    var colorCallback = isFunction(color) ? color : null;\n    var hasAutoColor = globalStyle.fill === 'auto' || globalStyle.stroke === 'auto'; // Get from color palette by default.\n\n    if (!globalStyle[colorKey] || colorCallback || hasAutoColor) {\n      // Note: if some series has color specified (e.g., by itemStyle.color), we DO NOT\n      // make it effect palette. Bacause some scenarios users need to make some series\n      // transparent or as background, which should better not effect the palette.\n      var colorPalette = seriesModel.getColorFromPalette( // TODO series count changed.\n      seriesModel.name, null, ecModel.getSeriesCount());\n\n      if (!globalStyle[colorKey]) {\n        globalStyle[colorKey] = colorPalette;\n        data.setVisual('colorFromPalette', true);\n      }\n\n      globalStyle.fill = globalStyle.fill === 'auto' || isFunction(globalStyle.fill) ? colorPalette : globalStyle.fill;\n      globalStyle.stroke = globalStyle.stroke === 'auto' || isFunction(globalStyle.stroke) ? colorPalette : globalStyle.stroke;\n    }\n\n    data.setVisual('style', globalStyle);\n    data.setVisual('drawType', colorKey); // Only visible series has each data be visual encoded\n\n    if (!ecModel.isSeriesFiltered(seriesModel) && colorCallback) {\n      data.setVisual('colorFromPalette', false);\n      return {\n        dataEach: function (data, idx) {\n          var dataParams = seriesModel.getDataParams(idx);\n          var itemStyle = extend({}, globalStyle);\n          itemStyle[colorKey] = colorCallback(dataParams);\n          data.setItemVisual(idx, 'style', itemStyle);\n        }\n      };\n    }\n  }\n};\nvar sharedModel = new Model();\nvar dataStyleTask = {\n  createOnAllSeries: true,\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    if (seriesModel.ignoreStyleOnData || ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle'; // Set in itemStyle\n\n    var getStyle = getStyleMapper(seriesModel, stylePath);\n    var colorKey = data.getVisual('drawType');\n    return {\n      dataEach: data.hasItemOption ? function (data, idx) {\n        // Not use getItemModel for performance considuration\n        var rawItem = data.getRawDataItem(idx);\n\n        if (rawItem && rawItem[stylePath]) {\n          sharedModel.option = rawItem[stylePath];\n          var style = getStyle(sharedModel);\n          var existsStyle = data.ensureUniqueItemVisual(idx, 'style');\n          extend(existsStyle, style);\n\n          if (sharedModel.option.decal) {\n            data.setItemVisual(idx, 'decal', sharedModel.option.decal);\n            sharedModel.option.decal.dirty = true;\n          }\n\n          if (colorKey in style) {\n            data.setItemVisual(idx, 'colorFromPalette', false);\n          }\n        }\n      } : null\n    };\n  }\n}; // Pick color from palette for the data which has not been set with color yet.\n// Note: do not support stream rendering. No such cases yet.\n\nvar dataColorPaletteTask = {\n  performRawSeries: true,\n  overallReset: function (ecModel) {\n    // Each type of series use one scope.\n    // Pie and funnel are using diferrent scopes\n    var paletteScopeGroupByType = createHashMap();\n    ecModel.eachSeries(function (seriesModel) {\n      var colorBy = seriesModel.getColorBy();\n\n      if (seriesModel.isColorBySeries()) {\n        return;\n      }\n\n      var key = seriesModel.type + '-' + colorBy;\n      var colorScope = paletteScopeGroupByType.get(key);\n\n      if (!colorScope) {\n        colorScope = {};\n        paletteScopeGroupByType.set(key, colorScope);\n      }\n\n      inner(seriesModel).scope = colorScope;\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.isColorBySeries() || ecModel.isSeriesFiltered(seriesModel)) {\n        return;\n      }\n\n      var dataAll = seriesModel.getRawData();\n      var idxMap = {};\n      var data = seriesModel.getData();\n      var colorScope = inner(seriesModel).scope;\n      var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle';\n      var colorKey = getDefaultColorKey(seriesModel, stylePath);\n      data.each(function (idx) {\n        var rawIdx = data.getRawIndex(idx);\n        idxMap[rawIdx] = idx;\n      }); // Iterate on data before filtered. To make sure color from palette can be\n      // Consistent when toggling legend.\n\n      dataAll.each(function (rawIdx) {\n        var idx = idxMap[rawIdx];\n        var fromPalette = data.getItemVisual(idx, 'colorFromPalette'); // Get color from palette for each data only when the color is inherited from series color, which is\n        // also picked from color palette. So following situation is not in the case:\n        // 1. series.itemStyle.color is set\n        // 2. color is encoded by visualMap\n\n        if (fromPalette) {\n          var itemStyle = data.ensureUniqueItemVisual(idx, 'style');\n          var name_1 = dataAll.getName(rawIdx) || rawIdx + '';\n          var dataCount = dataAll.count();\n          itemStyle[colorKey] = seriesModel.getColorFromPalette(name_1, colorScope, dataCount);\n        }\n      });\n    });\n  }\n};\nexport { seriesStyleTask, dataStyleTask, dataColorPaletteTask };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../util/graphic.js';\nvar PI = Math.PI;\n/**\n * @param {module:echarts/ExtensionAPI} api\n * @param {Object} [opts]\n * @param {string} [opts.text]\n * @param {string} [opts.color]\n * @param {string} [opts.textColor]\n * @return {module:zrender/Element}\n */\n\nexport default function defaultLoading(api, opts) {\n  opts = opts || {};\n  zrUtil.defaults(opts, {\n    text: 'loading',\n    textColor: '#000',\n    fontSize: 12,\n    fontWeight: 'normal',\n    fontStyle: 'normal',\n    fontFamily: 'sans-serif',\n    maskColor: 'rgba(255, 255, 255, 0.8)',\n    showSpinner: true,\n    color: '#5470c6',\n    spinnerRadius: 10,\n    lineWidth: 5,\n    zlevel: 0\n  });\n  var group = new graphic.Group();\n  var mask = new graphic.Rect({\n    style: {\n      fill: opts.maskColor\n    },\n    zlevel: opts.zlevel,\n    z: 10000\n  });\n  group.add(mask);\n  var textContent = new graphic.Text({\n    style: {\n      text: opts.text,\n      fill: opts.textColor,\n      fontSize: opts.fontSize,\n      fontWeight: opts.fontWeight,\n      fontStyle: opts.fontStyle,\n      fontFamily: opts.fontFamily\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  var labelRect = new graphic.Rect({\n    style: {\n      fill: 'none'\n    },\n    textContent: textContent,\n    textConfig: {\n      position: 'right',\n      distance: 10\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  group.add(labelRect);\n  var arc;\n\n  if (opts.showSpinner) {\n    arc = new graphic.Arc({\n      shape: {\n        startAngle: -PI / 2,\n        endAngle: -PI / 2 + 0.1,\n        r: opts.spinnerRadius\n      },\n      style: {\n        stroke: opts.color,\n        lineCap: 'round',\n        lineWidth: opts.lineWidth\n      },\n      zlevel: opts.zlevel,\n      z: 10001\n    });\n    arc.animateShape(true).when(1000, {\n      endAngle: PI * 3 / 2\n    }).start('circularInOut');\n    arc.animateShape(true).when(1000, {\n      startAngle: PI * 3 / 2\n    }).delay(300).start('circularInOut');\n    group.add(arc);\n  } // Inject resize\n\n\n  group.resize = function () {\n    var textWidth = textContent.getBoundingRect().width;\n    var r = opts.showSpinner ? opts.spinnerRadius : 0; // cx = (containerWidth - arcDiameter - textDistance - textWidth) / 2\n    // textDistance needs to be calculated when both animation and text exist\n\n    var cx = (api.getWidth() - r * 2 - (opts.showSpinner && textWidth ? 10 : 0) - textWidth) / 2 - (opts.showSpinner && textWidth ? 0 : 5 + textWidth / 2) // only show the text\n    + (opts.showSpinner ? 0 : textWidth / 2) // only show the spinner\n    + (textWidth ? 0 : r);\n    var cy = api.getHeight() / 2;\n    opts.showSpinner && arc.setShape({\n      cx: cx,\n      cy: cy\n    });\n    labelRect.setShape({\n      x: cx - r,\n      y: cy - r,\n      width: r * 2,\n      height: r * 2\n    });\n    mask.setShape({\n      x: 0,\n      y: 0,\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  };\n\n  group.resize();\n  return group;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, map, isFunction, createHashMap, noop, assert } from 'zrender/lib/core/util.js';\nimport { createTask } from './task.js';\nimport { getUID } from '../util/component.js';\nimport GlobalModel from '../model/Global.js';\nimport ExtensionAPI from './ExtensionAPI.js';\nimport { normalizeToArray } from '../util/model.js';\n;\n\nvar Scheduler =\n/** @class */\nfunction () {\n  function Scheduler(ecInstance, api, dataProcessorHandlers, visualHandlers) {\n    // key: handlerUID\n    this._stageTaskMap = createHashMap();\n    this.ecInstance = ecInstance;\n    this.api = api; // Fix current processors in case that in some rear cases that\n    // processors might be registered after echarts instance created.\n    // Register processors incrementally for a echarts instance is\n    // not supported by this stream architecture.\n\n    dataProcessorHandlers = this._dataProcessorHandlers = dataProcessorHandlers.slice();\n    visualHandlers = this._visualHandlers = visualHandlers.slice();\n    this._allHandlers = dataProcessorHandlers.concat(visualHandlers);\n  }\n\n  Scheduler.prototype.restoreData = function (ecModel, payload) {\n    // TODO: Only restore needed series and components, but not all components.\n    // Currently `restoreData` of all of the series and component will be called.\n    // But some independent components like `title`, `legend`, `graphic`, `toolbox`,\n    // `tooltip`, `axisPointer`, etc, do not need series refresh when `setOption`,\n    // and some components like coordinate system, axes, dataZoom, visualMap only\n    // need their target series refresh.\n    // (1) If we are implementing this feature some day, we should consider these cases:\n    // if a data processor depends on a component (e.g., dataZoomProcessor depends\n    // on the settings of `dataZoom`), it should be re-performed if the component\n    // is modified by `setOption`.\n    // (2) If a processor depends on sevral series, speicified by its `getTargetSeries`,\n    // it should be re-performed when the result array of `getTargetSeries` changed.\n    // We use `dependencies` to cover these issues.\n    // (3) How to update target series when coordinate system related components modified.\n    // TODO: simply the dirty mechanism? Check whether only the case here can set tasks dirty,\n    // and this case all of the tasks will be set as dirty.\n    ecModel.restoreData(payload); // Theoretically an overall task not only depends on each of its target series, but also\n    // depends on all of the series.\n    // The overall task is not in pipeline, and `ecModel.restoreData` only set pipeline tasks\n    // dirty. If `getTargetSeries` of an overall task returns nothing, we should also ensure\n    // that the overall task is set as dirty and to be performed, otherwise it probably cause\n    // state chaos. So we have to set dirty of all of the overall tasks manually, otherwise it\n    // probably cause state chaos (consider `dataZoomProcessor`).\n\n    this._stageTaskMap.each(function (taskRecord) {\n      var overallTask = taskRecord.overallTask;\n      overallTask && overallTask.dirty();\n    });\n  }; // If seriesModel provided, incremental threshold is check by series data.\n\n\n  Scheduler.prototype.getPerformArgs = function (task, isBlock) {\n    // For overall task\n    if (!task.__pipeline) {\n      return;\n    }\n\n    var pipeline = this._pipelineMap.get(task.__pipeline.id);\n\n    var pCtx = pipeline.context;\n    var incremental = !isBlock && pipeline.progressiveEnabled && (!pCtx || pCtx.progressiveRender) && task.__idxInPipeline > pipeline.blockIndex;\n    var step = incremental ? pipeline.step : null;\n    var modDataCount = pCtx && pCtx.modDataCount;\n    var modBy = modDataCount != null ? Math.ceil(modDataCount / step) : null;\n    return {\n      step: step,\n      modBy: modBy,\n      modDataCount: modDataCount\n    };\n  };\n\n  Scheduler.prototype.getPipeline = function (pipelineId) {\n    return this._pipelineMap.get(pipelineId);\n  };\n  /**\n   * Current, progressive rendering starts from visual and layout.\n   * Always detect render mode in the same stage, avoiding that incorrect\n   * detection caused by data filtering.\n   * Caution:\n   * `updateStreamModes` use `seriesModel.getData()`.\n   */\n\n\n  Scheduler.prototype.updateStreamModes = function (seriesModel, view) {\n    var pipeline = this._pipelineMap.get(seriesModel.uid);\n\n    var data = seriesModel.getData();\n    var dataLen = data.count(); // `progressiveRender` means that can render progressively in each\n    // animation frame. Note that some types of series do not provide\n    // `view.incrementalPrepareRender` but support `chart.appendData`. We\n    // use the term `incremental` but not `progressive` to describe the\n    // case that `chart.appendData`.\n\n    var progressiveRender = pipeline.progressiveEnabled && view.incrementalPrepareRender && dataLen >= pipeline.threshold;\n    var large = seriesModel.get('large') && dataLen >= seriesModel.get('largeThreshold'); // TODO: modDataCount should not updated if `appendData`, otherwise cause whole repaint.\n    // see `test/candlestick-large3.html`\n\n    var modDataCount = seriesModel.get('progressiveChunkMode') === 'mod' ? dataLen : null;\n    seriesModel.pipelineContext = pipeline.context = {\n      progressiveRender: progressiveRender,\n      modDataCount: modDataCount,\n      large: large\n    };\n  };\n\n  Scheduler.prototype.restorePipelines = function (ecModel) {\n    var scheduler = this;\n    var pipelineMap = scheduler._pipelineMap = createHashMap();\n    ecModel.eachSeries(function (seriesModel) {\n      var progressive = seriesModel.getProgressive();\n      var pipelineId = seriesModel.uid;\n      pipelineMap.set(pipelineId, {\n        id: pipelineId,\n        head: null,\n        tail: null,\n        threshold: seriesModel.getProgressiveThreshold(),\n        progressiveEnabled: progressive && !(seriesModel.preventIncremental && seriesModel.preventIncremental()),\n        blockIndex: -1,\n        step: Math.round(progressive || 700),\n        count: 0\n      });\n\n      scheduler._pipe(seriesModel, seriesModel.dataTask);\n    });\n  };\n\n  Scheduler.prototype.prepareStageTasks = function () {\n    var stageTaskMap = this._stageTaskMap;\n    var ecModel = this.api.getModel();\n    var api = this.api;\n    each(this._allHandlers, function (handler) {\n      var record = stageTaskMap.get(handler.uid) || stageTaskMap.set(handler.uid, {});\n      var errMsg = '';\n\n      if (process.env.NODE_ENV !== 'production') {\n        // Currently do not need to support to sepecify them both.\n        errMsg = '\"reset\" and \"overallReset\" must not be both specified.';\n      }\n\n      assert(!(handler.reset && handler.overallReset), errMsg);\n      handler.reset && this._createSeriesStageTask(handler, record, ecModel, api);\n      handler.overallReset && this._createOverallStageTask(handler, record, ecModel, api);\n    }, this);\n  };\n\n  Scheduler.prototype.prepareView = function (view, model, ecModel, api) {\n    var renderTask = view.renderTask;\n    var context = renderTask.context;\n    context.model = model;\n    context.ecModel = ecModel;\n    context.api = api;\n    renderTask.__block = !view.incrementalPrepareRender;\n\n    this._pipe(model, renderTask);\n  };\n\n  Scheduler.prototype.performDataProcessorTasks = function (ecModel, payload) {\n    // If we do not use `block` here, it should be considered when to update modes.\n    this._performStageTasks(this._dataProcessorHandlers, ecModel, payload, {\n      block: true\n    });\n  };\n\n  Scheduler.prototype.performVisualTasks = function (ecModel, payload, opt) {\n    this._performStageTasks(this._visualHandlers, ecModel, payload, opt);\n  };\n\n  Scheduler.prototype._performStageTasks = function (stageHandlers, ecModel, payload, opt) {\n    opt = opt || {};\n    var unfinished = false;\n    var scheduler = this;\n    each(stageHandlers, function (stageHandler, idx) {\n      if (opt.visualType && opt.visualType !== stageHandler.visualType) {\n        return;\n      }\n\n      var stageHandlerRecord = scheduler._stageTaskMap.get(stageHandler.uid);\n\n      var seriesTaskMap = stageHandlerRecord.seriesTaskMap;\n      var overallTask = stageHandlerRecord.overallTask;\n\n      if (overallTask) {\n        var overallNeedDirty_1;\n        var agentStubMap = overallTask.agentStubMap;\n        agentStubMap.each(function (stub) {\n          if (needSetDirty(opt, stub)) {\n            stub.dirty();\n            overallNeedDirty_1 = true;\n          }\n        });\n        overallNeedDirty_1 && overallTask.dirty();\n        scheduler.updatePayload(overallTask, payload);\n        var performArgs_1 = scheduler.getPerformArgs(overallTask, opt.block); // Execute stubs firstly, which may set the overall task dirty,\n        // then execute the overall task. And stub will call seriesModel.setData,\n        // which ensures that in the overallTask seriesModel.getData() will not\n        // return incorrect data.\n\n        agentStubMap.each(function (stub) {\n          stub.perform(performArgs_1);\n        });\n\n        if (overallTask.perform(performArgs_1)) {\n          unfinished = true;\n        }\n      } else if (seriesTaskMap) {\n        seriesTaskMap.each(function (task, pipelineId) {\n          if (needSetDirty(opt, task)) {\n            task.dirty();\n          }\n\n          var performArgs = scheduler.getPerformArgs(task, opt.block); // FIXME\n          // if intending to decalare `performRawSeries` in handlers, only\n          // stream-independent (specifically, data item independent) operations can be\n          // performed. Because is a series is filtered, most of the tasks will not\n          // be performed. A stream-dependent operation probably cause wrong biz logic.\n          // Perhaps we should not provide a separate callback for this case instead\n          // of providing the config `performRawSeries`. The stream-dependent operaions\n          // and stream-independent operations should better not be mixed.\n\n          performArgs.skip = !stageHandler.performRawSeries && ecModel.isSeriesFiltered(task.context.model);\n          scheduler.updatePayload(task, payload);\n\n          if (task.perform(performArgs)) {\n            unfinished = true;\n          }\n        });\n      }\n    });\n\n    function needSetDirty(opt, task) {\n      return opt.setDirty && (!opt.dirtyMap || opt.dirtyMap.get(task.__pipeline.id));\n    }\n\n    this.unfinished = unfinished || this.unfinished;\n  };\n\n  Scheduler.prototype.performSeriesTasks = function (ecModel) {\n    var unfinished;\n    ecModel.eachSeries(function (seriesModel) {\n      // Progress to the end for dataInit and dataRestore.\n      unfinished = seriesModel.dataTask.perform() || unfinished;\n    });\n    this.unfinished = unfinished || this.unfinished;\n  };\n\n  Scheduler.prototype.plan = function () {\n    // Travel pipelines, check block.\n    this._pipelineMap.each(function (pipeline) {\n      var task = pipeline.tail;\n\n      do {\n        if (task.__block) {\n          pipeline.blockIndex = task.__idxInPipeline;\n          break;\n        }\n\n        task = task.getUpstream();\n      } while (task);\n    });\n  };\n\n  Scheduler.prototype.updatePayload = function (task, payload) {\n    payload !== 'remain' && (task.context.payload = payload);\n  };\n\n  Scheduler.prototype._createSeriesStageTask = function (stageHandler, stageHandlerRecord, ecModel, api) {\n    var scheduler = this;\n    var oldSeriesTaskMap = stageHandlerRecord.seriesTaskMap; // The count of stages are totally about only several dozen, so\n    // do not need to reuse the map.\n\n    var newSeriesTaskMap = stageHandlerRecord.seriesTaskMap = createHashMap();\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries; // If a stageHandler should cover all series, `createOnAllSeries` should be declared mandatorily,\n    // to avoid some typo or abuse. Otherwise if an extension do not specify a `seriesType`,\n    // it works but it may cause other irrelevant charts blocked.\n\n    if (stageHandler.createOnAllSeries) {\n      ecModel.eachRawSeries(create);\n    } else if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, create);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(create);\n    }\n\n    function create(seriesModel) {\n      var pipelineId = seriesModel.uid; // Init tasks for each seriesModel only once.\n      // Reuse original task instance.\n\n      var task = newSeriesTaskMap.set(pipelineId, oldSeriesTaskMap && oldSeriesTaskMap.get(pipelineId) || createTask({\n        plan: seriesTaskPlan,\n        reset: seriesTaskReset,\n        count: seriesTaskCount\n      }));\n      task.context = {\n        model: seriesModel,\n        ecModel: ecModel,\n        api: api,\n        // PENDING: `useClearVisual` not used?\n        useClearVisual: stageHandler.isVisual && !stageHandler.isLayout,\n        plan: stageHandler.plan,\n        reset: stageHandler.reset,\n        scheduler: scheduler\n      };\n\n      scheduler._pipe(seriesModel, task);\n    }\n  };\n\n  Scheduler.prototype._createOverallStageTask = function (stageHandler, stageHandlerRecord, ecModel, api) {\n    var scheduler = this;\n    var overallTask = stageHandlerRecord.overallTask = stageHandlerRecord.overallTask // For overall task, the function only be called on reset stage.\n    || createTask({\n      reset: overallTaskReset\n    });\n    overallTask.context = {\n      ecModel: ecModel,\n      api: api,\n      overallReset: stageHandler.overallReset,\n      scheduler: scheduler\n    };\n    var oldAgentStubMap = overallTask.agentStubMap; // The count of stages are totally about only several dozen, so\n    // do not need to reuse the map.\n\n    var newAgentStubMap = overallTask.agentStubMap = createHashMap();\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries;\n    var overallProgress = true;\n    var shouldOverallTaskDirty = false; // FIXME:TS never used, so comment it\n    // let modifyOutputEnd = stageHandler.modifyOutputEnd;\n    // An overall task with seriesType detected or has `getTargetSeries`, we add\n    // stub in each pipelines, it will set the overall task dirty when the pipeline\n    // progress. Moreover, to avoid call the overall task each frame (too frequent),\n    // we set the pipeline block.\n\n    var errMsg = '';\n\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = '\"createOnAllSeries\" do not supported for \"overallReset\", ' + 'becuase it will block all streams.';\n    }\n\n    assert(!stageHandler.createOnAllSeries, errMsg);\n\n    if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, createStub);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(createStub);\n    } // Otherwise, (usually it is legancy case), the overall task will only be\n    // executed when upstream dirty. Otherwise the progressive rendering of all\n    // pipelines will be disabled unexpectedly. But it still needs stubs to receive\n    // dirty info from upsteam.\n    else {\n        overallProgress = false;\n        each(ecModel.getSeries(), createStub);\n      }\n\n    function createStub(seriesModel) {\n      var pipelineId = seriesModel.uid;\n      var stub = newAgentStubMap.set(pipelineId, oldAgentStubMap && oldAgentStubMap.get(pipelineId) || ( // When the result of `getTargetSeries` changed, the overallTask\n      // should be set as dirty and re-performed.\n      shouldOverallTaskDirty = true, createTask({\n        reset: stubReset,\n        onDirty: stubOnDirty\n      })));\n      stub.context = {\n        model: seriesModel,\n        overallProgress: overallProgress // FIXME:TS never used, so comment it\n        // modifyOutputEnd: modifyOutputEnd\n\n      };\n      stub.agent = overallTask;\n      stub.__block = overallProgress;\n\n      scheduler._pipe(seriesModel, stub);\n    }\n\n    if (shouldOverallTaskDirty) {\n      overallTask.dirty();\n    }\n  };\n\n  Scheduler.prototype._pipe = function (seriesModel, task) {\n    var pipelineId = seriesModel.uid;\n\n    var pipeline = this._pipelineMap.get(pipelineId);\n\n    !pipeline.head && (pipeline.head = task);\n    pipeline.tail && pipeline.tail.pipe(task);\n    pipeline.tail = task;\n    task.__idxInPipeline = pipeline.count++;\n    task.__pipeline = pipeline;\n  };\n\n  Scheduler.wrapStageHandler = function (stageHandler, visualType) {\n    if (isFunction(stageHandler)) {\n      stageHandler = {\n        overallReset: stageHandler,\n        seriesType: detectSeriseType(stageHandler)\n      };\n    }\n\n    stageHandler.uid = getUID('stageHandler');\n    visualType && (stageHandler.visualType = visualType);\n    return stageHandler;\n  };\n\n  ;\n  return Scheduler;\n}();\n\nfunction overallTaskReset(context) {\n  context.overallReset(context.ecModel, context.api, context.payload);\n}\n\nfunction stubReset(context) {\n  return context.overallProgress && stubProgress;\n}\n\nfunction stubProgress() {\n  this.agent.dirty();\n  this.getDownstream().dirty();\n}\n\nfunction stubOnDirty() {\n  this.agent && this.agent.dirty();\n}\n\nfunction seriesTaskPlan(context) {\n  return context.plan ? context.plan(context.model, context.ecModel, context.api, context.payload) : null;\n}\n\nfunction seriesTaskReset(context) {\n  if (context.useClearVisual) {\n    context.data.clearAllVisual();\n  }\n\n  var resetDefines = context.resetDefines = normalizeToArray(context.reset(context.model, context.ecModel, context.api, context.payload));\n  return resetDefines.length > 1 ? map(resetDefines, function (v, idx) {\n    return makeSeriesTaskProgress(idx);\n  }) : singleSeriesTaskProgress;\n}\n\nvar singleSeriesTaskProgress = makeSeriesTaskProgress(0);\n\nfunction makeSeriesTaskProgress(resetDefineIdx) {\n  return function (params, context) {\n    var data = context.data;\n    var resetDefine = context.resetDefines[resetDefineIdx];\n\n    if (resetDefine && resetDefine.dataEach) {\n      for (var i = params.start; i < params.end; i++) {\n        resetDefine.dataEach(data, i);\n      }\n    } else if (resetDefine && resetDefine.progress) {\n      resetDefine.progress(params, data);\n    }\n  };\n}\n\nfunction seriesTaskCount(context) {\n  return context.data.count();\n}\n/**\n * Only some legacy stage handlers (usually in echarts extensions) are pure function.\n * To ensure that they can work normally, they should work in block mode, that is,\n * they should not be started util the previous tasks finished. So they cause the\n * progressive rendering disabled. We try to detect the series type, to narrow down\n * the block range to only the series type they concern, but not all series.\n */\n\n\nfunction detectSeriseType(legacyFunc) {\n  seriesType = null;\n\n  try {\n    // Assume there is no async when calling `eachSeriesByType`.\n    legacyFunc(ecModelMock, apiMock);\n  } catch (e) {}\n\n  return seriesType;\n}\n\nvar ecModelMock = {};\nvar apiMock = {};\nvar seriesType;\nmockMethods(ecModelMock, GlobalModel);\nmockMethods(apiMock, ExtensionAPI);\n\necModelMock.eachSeriesByType = ecModelMock.eachRawSeriesByType = function (type) {\n  seriesType = type;\n};\n\necModelMock.eachComponent = function (cond) {\n  if (cond.mainType === 'series' && cond.subType) {\n    seriesType = cond.subType;\n  }\n};\n\nfunction mockMethods(target, Clz) {\n  /* eslint-disable */\n  for (var name_1 in Clz.prototype) {\n    // Do not use hasOwnProperty\n    target[name_1] = noop;\n  }\n  /* eslint-enable */\n\n}\n\nexport default Scheduler;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar colorAll = ['#37A2DA', '#32C5E9', '#67E0E3', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#E062AE', '#E690D1', '#e7bcf3', '#9d96f5', '#8378EA', '#96BFFF'];\nexport default {\n  color: colorAll,\n  colorLayer: [['#37A2DA', '#ffd85c', '#fd7b5f'], ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'], ['#37A2DA', '#32C5E9', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#e7bcf3', '#8378EA', '#96BFFF'], colorAll]\n};", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar contrastColor = '#B9B8CE';\nvar backgroundColor = '#100C2A';\n\nvar axisCommon = function () {\n  return {\n    axisLine: {\n      lineStyle: {\n        color: contrastColor\n      }\n    },\n    splitLine: {\n      lineStyle: {\n        color: '#484753'\n      }\n    },\n    splitArea: {\n      areaStyle: {\n        color: ['rgba(255,255,255,0.02)', 'rgba(255,255,255,0.05)']\n      }\n    },\n    minorSplitLine: {\n      lineStyle: {\n        color: '#20203B'\n      }\n    }\n  };\n};\n\nvar colorPalette = ['#4992ff', '#7cffb2', '#fddd60', '#ff6e76', '#58d9f9', '#05c091', '#ff8a45', '#8d48e3', '#dd79ff'];\nvar theme = {\n  darkMode: true,\n  color: colorPalette,\n  backgroundColor: backgroundColor,\n  axisPointer: {\n    lineStyle: {\n      color: '#817f91'\n    },\n    crossStyle: {\n      color: '#817f91'\n    },\n    label: {\n      // TODO Contrast of label backgorundColor\n      color: '#fff'\n    }\n  },\n  legend: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  textStyle: {\n    color: contrastColor\n  },\n  title: {\n    textStyle: {\n      color: '#EEF1FA'\n    },\n    subtextStyle: {\n      color: '#B9B8CE'\n    }\n  },\n  toolbox: {\n    iconStyle: {\n      borderColor: contrastColor\n    }\n  },\n  dataZoom: {\n    borderColor: '#71708A',\n    textStyle: {\n      color: contrastColor\n    },\n    brushStyle: {\n      color: 'rgba(135,163,206,0.3)'\n    },\n    handleStyle: {\n      color: '#353450',\n      borderColor: '#C5CBE3'\n    },\n    moveHandleStyle: {\n      color: '#B0B6C3',\n      opacity: 0.3\n    },\n    fillerColor: 'rgba(135,163,206,0.2)',\n    emphasis: {\n      handleStyle: {\n        borderColor: '#91B7F2',\n        color: '#4D587D'\n      },\n      moveHandleStyle: {\n        color: '#636D9A',\n        opacity: 0.7\n      }\n    },\n    dataBackground: {\n      lineStyle: {\n        color: '#71708A',\n        width: 1\n      },\n      areaStyle: {\n        color: '#71708A'\n      }\n    },\n    selectedDataBackground: {\n      lineStyle: {\n        color: '#87A3CE'\n      },\n      areaStyle: {\n        color: '#87A3CE'\n      }\n    }\n  },\n  visualMap: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  timeline: {\n    lineStyle: {\n      color: contrastColor\n    },\n    label: {\n      color: contrastColor\n    },\n    controlStyle: {\n      color: contrastColor,\n      borderColor: contrastColor\n    }\n  },\n  calendar: {\n    itemStyle: {\n      color: backgroundColor\n    },\n    dayLabel: {\n      color: contrastColor\n    },\n    monthLabel: {\n      color: contrastColor\n    },\n    yearLabel: {\n      color: contrastColor\n    }\n  },\n  timeAxis: axisCommon(),\n  logAxis: axisCommon(),\n  valueAxis: axisCommon(),\n  categoryAxis: axisCommon(),\n  line: {\n    symbol: 'circle'\n  },\n  graph: {\n    color: colorPalette\n  },\n  gauge: {\n    title: {\n      color: contrastColor\n    },\n    axisLine: {\n      lineStyle: {\n        color: [[1, 'rgba(207,212,219,0.2)']]\n      }\n    },\n    axisLabel: {\n      color: contrastColor\n    },\n    detail: {\n      color: '#EEF1FA'\n    }\n  },\n  candlestick: {\n    itemStyle: {\n      color: '#f64e56',\n      color0: '#54ea92',\n      borderColor: '#f64e56',\n      borderColor0: '#54ea92' // borderColor: '#ca2824',\n      // borderColor0: '#09a443'\n\n    }\n  }\n};\ntheme.categoryAxis.splitLine.show = false;\nexport default theme;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parseClassType } from './clazz.js';\n/**\n * Usage of query:\n * `chart.on('click', query, handler);`\n * The `query` can be:\n * + The component type query string, only `mainType` or `mainType.subType`,\n *   like: 'xAxis', 'series', 'xAxis.category' or 'series.line'.\n * + The component query object, like:\n *   `{seriesIndex: 2}`, `{seriesName: 'xx'}`, `{seriesId: 'some'}`,\n *   `{xAxisIndex: 2}`, `{xAxisName: 'xx'}`, `{xAxisId: 'some'}`.\n * + The data query object, like:\n *   `{dataIndex: 123}`, `{dataType: 'link'}`, `{name: 'some'}`.\n * + The other query object (cmponent customized query), like:\n *   `{element: 'some'}` (only available in custom series).\n *\n * Caveat: If a prop in the `query` object is `null/undefined`, it is the\n * same as there is no such prop in the `query` object.\n */\n\nvar ECEventProcessor =\n/** @class */\nfunction () {\n  function ECEventProcessor() {}\n\n  ECEventProcessor.prototype.normalizeQuery = function (query) {\n    var cptQuery = {};\n    var dataQuery = {};\n    var otherQuery = {}; // `query` is `mainType` or `mainType.subType` of component.\n\n    if (zrUtil.isString(query)) {\n      var condCptType = parseClassType(query); // `.main` and `.sub` may be ''.\n\n      cptQuery.mainType = condCptType.main || null;\n      cptQuery.subType = condCptType.sub || null;\n    } // `query` is an object, convert to {mainType, index, name, id}.\n    else {\n        // `xxxIndex`, `xxxName`, `xxxId`, `name`, `dataIndex`, `dataType` is reserved,\n        // can not be used in `compomentModel.filterForExposedEvent`.\n        var suffixes_1 = ['Index', 'Name', 'Id'];\n        var dataKeys_1 = {\n          name: 1,\n          dataIndex: 1,\n          dataType: 1\n        };\n        zrUtil.each(query, function (val, key) {\n          var reserved = false;\n\n          for (var i = 0; i < suffixes_1.length; i++) {\n            var propSuffix = suffixes_1[i];\n            var suffixPos = key.lastIndexOf(propSuffix);\n\n            if (suffixPos > 0 && suffixPos === key.length - propSuffix.length) {\n              var mainType = key.slice(0, suffixPos); // Consider `dataIndex`.\n\n              if (mainType !== 'data') {\n                cptQuery.mainType = mainType;\n                cptQuery[propSuffix.toLowerCase()] = val;\n                reserved = true;\n              }\n            }\n          }\n\n          if (dataKeys_1.hasOwnProperty(key)) {\n            dataQuery[key] = val;\n            reserved = true;\n          }\n\n          if (!reserved) {\n            otherQuery[key] = val;\n          }\n        });\n      }\n\n    return {\n      cptQuery: cptQuery,\n      dataQuery: dataQuery,\n      otherQuery: otherQuery\n    };\n  };\n\n  ECEventProcessor.prototype.filter = function (eventType, query) {\n    // They should be assigned before each trigger call.\n    var eventInfo = this.eventInfo;\n\n    if (!eventInfo) {\n      return true;\n    }\n\n    var targetEl = eventInfo.targetEl;\n    var packedEvent = eventInfo.packedEvent;\n    var model = eventInfo.model;\n    var view = eventInfo.view; // For event like 'globalout'.\n\n    if (!model || !view) {\n      return true;\n    }\n\n    var cptQuery = query.cptQuery;\n    var dataQuery = query.dataQuery;\n    return check(cptQuery, model, 'mainType') && check(cptQuery, model, 'subType') && check(cptQuery, model, 'index', 'componentIndex') && check(cptQuery, model, 'name') && check(cptQuery, model, 'id') && check(dataQuery, packedEvent, 'name') && check(dataQuery, packedEvent, 'dataIndex') && check(dataQuery, packedEvent, 'dataType') && (!view.filterForExposedEvent || view.filterForExposedEvent(eventType, query.otherQuery, targetEl, packedEvent));\n\n    function check(query, host, prop, propOnHost) {\n      return query[prop] == null || host[propOnHost || prop] === query[prop];\n    }\n  };\n\n  ECEventProcessor.prototype.afterTrigger = function () {\n    // Make sure the eventInfo wont be used in next trigger.\n    this.eventInfo = null;\n  };\n\n  return ECEventProcessor;\n}();\n\nexport { ECEventProcessor };\n;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, isFunction, keys } from 'zrender/lib/core/util.js';\nvar SYMBOL_PROPS_WITH_CB = ['symbol', 'symbolSize', 'symbolRotate', 'symbolOffset'];\nvar SYMBOL_PROPS = SYMBOL_PROPS_WITH_CB.concat(['symbolKeepAspect']); // Encoding visual for all series include which is filtered for legend drawing\n\nvar seriesSymbolTask = {\n  createOnAllSeries: true,\n  // For legend.\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n\n    if (seriesModel.legendIcon) {\n      data.setVisual('legendIcon', seriesModel.legendIcon);\n    }\n\n    if (!seriesModel.hasSymbolVisual) {\n      return;\n    }\n\n    var symbolOptions = {};\n    var symbolOptionsCb = {};\n    var hasCallback = false;\n\n    for (var i = 0; i < SYMBOL_PROPS_WITH_CB.length; i++) {\n      var symbolPropName = SYMBOL_PROPS_WITH_CB[i];\n      var val = seriesModel.get(symbolPropName);\n\n      if (isFunction(val)) {\n        hasCallback = true;\n        symbolOptionsCb[symbolPropName] = val;\n      } else {\n        symbolOptions[symbolPropName] = val;\n      }\n    }\n\n    symbolOptions.symbol = symbolOptions.symbol || seriesModel.defaultSymbol;\n    data.setVisual(extend({\n      legendIcon: seriesModel.legendIcon || symbolOptions.symbol,\n      symbolKeepAspect: seriesModel.get('symbolKeepAspect')\n    }, symbolOptions)); // Only visible series has each data be visual encoded\n\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n\n    var symbolPropsCb = keys(symbolOptionsCb);\n\n    function dataEach(data, idx) {\n      var rawValue = seriesModel.getRawValue(idx);\n      var params = seriesModel.getDataParams(idx);\n\n      for (var i = 0; i < symbolPropsCb.length; i++) {\n        var symbolPropName = symbolPropsCb[i];\n        data.setItemVisual(idx, symbolPropName, symbolOptionsCb[symbolPropName](rawValue, params));\n      }\n    }\n\n    return {\n      dataEach: hasCallback ? dataEach : null\n    };\n  }\n};\nvar dataSymbolTask = {\n  createOnAllSeries: true,\n  // For legend.\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    if (!seriesModel.hasSymbolVisual) {\n      return;\n    } // Only visible series has each data be visual encoded\n\n\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n\n    function dataEach(data, idx) {\n      var itemModel = data.getItemModel(idx);\n\n      for (var i = 0; i < SYMBOL_PROPS.length; i++) {\n        var symbolPropName = SYMBOL_PROPS[i];\n        var val = itemModel.getShallow(symbolPropName, true);\n\n        if (val != null) {\n          data.setItemVisual(idx, symbolPropName, val);\n        }\n      }\n    }\n\n    return {\n      dataEach: data.hasItemOption ? dataEach : null\n    };\n  }\n};\nexport { seriesSymbolTask, dataSymbolTask };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function getItemVisualFromData(data, dataIndex, key) {\n  switch (key) {\n    case 'color':\n      var style = data.getItemVisual(dataIndex, 'style');\n      return style[data.getVisual('drawType')];\n\n    case 'opacity':\n      return data.getItemVisual(dataIndex, 'style').opacity;\n\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      return data.getItemVisual(dataIndex, key);\n\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n\n  }\n}\nexport function getVisualFromData(data, key) {\n  switch (key) {\n    case 'color':\n      var style = data.getVisual('style');\n      return style[data.getVisual('drawType')];\n\n    case 'opacity':\n      return data.getVisual('style').opacity;\n\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      return data.getVisual(key);\n\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n\n  }\n}\nexport function setItemVisualFromData(data, dataIndex, key, value) {\n  switch (key) {\n    case 'color':\n      // Make sure not sharing style object.\n      var style = data.ensureUniqueItemVisual(dataIndex, 'style');\n      style[data.getVisual('drawType')] = value; // Mark the color has been changed, not from palette anymore\n\n      data.setItemVisual(dataIndex, 'colorFromPalette', false);\n      break;\n\n    case 'opacity':\n      data.ensureUniqueItemVisual(dataIndex, 'style').opacity = value;\n      break;\n\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      data.setItemVisual(dataIndex, key, value);\n      break;\n\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, each, isArray, isString } from 'zrender/lib/core/util.js';\nimport { deprecateReplaceLog, deprecateLog } from '../util/log.js';\nimport { queryDataIndex } from '../util/model.js'; // Legacy data selection action.\n// Inlucdes: pieSelect, pieUnSelect, pieToggleSelect, mapSelect, mapUnSelect, mapToggleSelect\n\nexport function createLegacyDataSelectAction(seriesType, ecRegisterAction) {\n  function getSeriesIndices(ecModel, payload) {\n    var seriesIndices = [];\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: seriesType,\n      query: payload\n    }, function (seriesModel) {\n      seriesIndices.push(seriesModel.seriesIndex);\n    });\n    return seriesIndices;\n  }\n\n  each([[seriesType + 'ToggleSelect', 'toggleSelect'], [seriesType + 'Select', 'select'], [seriesType + 'UnSelect', 'unselect']], function (eventsMap) {\n    ecRegisterAction(eventsMap[0], function (payload, ecModel, api) {\n      payload = extend({}, payload);\n\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(payload.type, eventsMap[1]);\n      }\n\n      api.dispatchAction(extend(payload, {\n        type: eventsMap[1],\n        seriesIndex: getSeriesIndices(ecModel, payload)\n      }));\n    });\n  });\n}\n\nfunction handleSeriesLegacySelectEvents(type, eventPostfix, ecIns, ecModel, payload) {\n  var legacyEventName = type + eventPostfix;\n\n  if (!ecIns.isSilent(legacyEventName)) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateLog(\"event \" + legacyEventName + \" is deprecated.\");\n    }\n\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'pie'\n    }, function (seriesModel) {\n      var seriesIndex = seriesModel.seriesIndex;\n      var selectedMap = seriesModel.option.selectedMap;\n      var selected = payload.selected;\n\n      for (var i = 0; i < selected.length; i++) {\n        if (selected[i].seriesIndex === seriesIndex) {\n          var data = seriesModel.getData();\n          var dataIndex = queryDataIndex(data, payload.fromActionPayload);\n          ecIns.trigger(legacyEventName, {\n            type: legacyEventName,\n            seriesId: seriesModel.id,\n            name: isArray(dataIndex) ? data.getName(dataIndex[0]) : data.getName(dataIndex),\n            selected: isString(selectedMap) ? selectedMap : extend({}, selectedMap)\n          });\n        }\n      }\n    });\n  }\n}\n\nexport function handleLegacySelectEvents(messageCenter, ecIns, api) {\n  messageCenter.on('selectchanged', function (params) {\n    var ecModel = api.getModel();\n\n    if (params.isFromClick) {\n      handleSeriesLegacySelectEvents('map', 'selectchanged', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'selectchanged', ecIns, ecModel, params);\n    } else if (params.fromAction === 'select') {\n      handleSeriesLegacySelectEvents('map', 'selected', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'selected', ecIns, ecModel, params);\n    } else if (params.fromAction === 'unselect') {\n      handleSeriesLegacySelectEvents('map', 'unselected', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'unselected', ecIns, ecModel, params);\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function findEventDispatcher(target, det, returnFirstMatch) {\n  var found;\n\n  while (target) {\n    if (det(target)) {\n      found = target;\n\n      if (returnFirstMatch) {\n        break;\n      }\n    }\n\n    target = target.__hostTarget || target.parent;\n  }\n\n  return found;\n}", "var wmUniqueIndex = Math.round(Math.random() * 9);\nvar supportDefineProperty = typeof Object.defineProperty === 'function';\nvar WeakMap = (function () {\n    function WeakMap() {\n        this._id = '__ec_inner_' + wmUniqueIndex++;\n    }\n    WeakMap.prototype.get = function (key) {\n        return this._guard(key)[this._id];\n    };\n    WeakMap.prototype.set = function (key, value) {\n        var target = this._guard(key);\n        if (supportDefineProperty) {\n            Object.defineProperty(target, this._id, {\n                value: value,\n                enumerable: false,\n                configurable: true\n            });\n        }\n        else {\n            target[this._id] = value;\n        }\n        return this;\n    };\n    WeakMap.prototype[\"delete\"] = function (key) {\n        if (this.has(key)) {\n            delete this._guard(key)[this._id];\n            return true;\n        }\n        return false;\n    };\n    WeakMap.prototype.has = function (key) {\n        return !!this._guard(key)[this._id];\n    };\n    WeakMap.prototype._guard = function (key) {\n        if (key !== Object(key)) {\n            throw TypeError('Value of WeakMap is not a non-null object.');\n        }\n        return key;\n    };\n    return WeakMap;\n}());\nexport default WeakMap;\n", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Symbol factory\nimport { each, isArray, retrieve2 } from 'zrender/lib/core/util.js';\nimport * as graphic from './graphic.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { calculateTextPosition } from 'zrender/lib/contain/text.js';\nimport { parsePercent } from './number.js';\n/**\n * Triangle shape\n * @inner\n */\n\nvar Triangle = graphic.Path.extend({\n  type: 'triangle',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy + height);\n    path.lineTo(cx - width, cy + height);\n    path.closePath();\n  }\n});\n/**\n * Diamond shape\n * @inner\n */\n\nvar Diamond = graphic.Path.extend({\n  type: 'diamond',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy);\n    path.lineTo(cx, cy + height);\n    path.lineTo(cx - width, cy);\n    path.closePath();\n  }\n});\n/**\n * Pin shape\n * @inner\n */\n\nvar Pin = graphic.Path.extend({\n  type: 'pin',\n  shape: {\n    // x, y on the cusp\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var w = shape.width / 5 * 3; // Height must be larger than width\n\n    var h = Math.max(w, shape.height);\n    var r = w / 2; // Dist on y with tangent point and circle center\n\n    var dy = r * r / (h - r);\n    var cy = y - h + r + dy;\n    var angle = Math.asin(dy / r); // Dist on x with tangent point and circle center\n\n    var dx = Math.cos(angle) * r;\n    var tanX = Math.sin(angle);\n    var tanY = Math.cos(angle);\n    var cpLen = r * 0.6;\n    var cpLen2 = r * 0.7;\n    path.moveTo(x - dx, cy + dy);\n    path.arc(x, cy, r, Math.PI - angle, Math.PI * 2 + angle);\n    path.bezierCurveTo(x + dx - tanX * cpLen, cy + dy + tanY * cpLen, x, y - cpLen2, x, y);\n    path.bezierCurveTo(x, y - cpLen2, x - dx + tanX * cpLen, cy + dy + tanY * cpLen, x - dx, cy + dy);\n    path.closePath();\n  }\n});\n/**\n * Arrow shape\n * @inner\n */\n\nvar Arrow = graphic.Path.extend({\n  type: 'arrow',\n  shape: {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (ctx, shape) {\n    var height = shape.height;\n    var width = shape.width;\n    var x = shape.x;\n    var y = shape.y;\n    var dx = width / 3 * 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + dx, y + height);\n    ctx.lineTo(x, y + height / 4 * 3);\n    ctx.lineTo(x - dx, y + height);\n    ctx.lineTo(x, y);\n    ctx.closePath();\n  }\n});\n/**\n * Map of path contructors\n */\n// TODO Use function to build symbol path.\n\nvar symbolCtors = {\n  line: graphic.Line,\n  rect: graphic.Rect,\n  roundRect: graphic.Rect,\n  square: graphic.Rect,\n  circle: graphic.Circle,\n  diamond: Diamond,\n  pin: Pin,\n  arrow: Arrow,\n  triangle: Triangle\n};\nvar symbolShapeMakers = {\n  line: function (x, y, w, h, shape) {\n    shape.x1 = x;\n    shape.y1 = y + h / 2;\n    shape.x2 = x + w;\n    shape.y2 = y + h / 2;\n  },\n  rect: function (x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n  },\n  roundRect: function (x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n    shape.r = Math.min(w, h) / 4;\n  },\n  square: function (x, y, w, h, shape) {\n    var size = Math.min(w, h);\n    shape.x = x;\n    shape.y = y;\n    shape.width = size;\n    shape.height = size;\n  },\n  circle: function (x, y, w, h, shape) {\n    // Put circle in the center of square\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.r = Math.min(w, h) / 2;\n  },\n  diamond: function (x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  pin: function (x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  arrow: function (x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  triangle: function (x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  }\n};\nexport var symbolBuildProxies = {};\neach(symbolCtors, function (Ctor, name) {\n  symbolBuildProxies[name] = new Ctor();\n});\nvar SymbolClz = graphic.Path.extend({\n  type: 'symbol',\n  shape: {\n    symbolType: '',\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  calculateTextPosition: function (out, config, rect) {\n    var res = calculateTextPosition(out, config, rect);\n    var shape = this.shape;\n\n    if (shape && shape.symbolType === 'pin' && config.position === 'inside') {\n      res.y = rect.y + rect.height * 0.4;\n    }\n\n    return res;\n  },\n  buildPath: function (ctx, shape, inBundle) {\n    var symbolType = shape.symbolType;\n\n    if (symbolType !== 'none') {\n      var proxySymbol = symbolBuildProxies[symbolType];\n\n      if (!proxySymbol) {\n        // Default rect\n        symbolType = 'rect';\n        proxySymbol = symbolBuildProxies[symbolType];\n      }\n\n      symbolShapeMakers[symbolType](shape.x, shape.y, shape.width, shape.height, proxySymbol.shape);\n      proxySymbol.buildPath(ctx, proxySymbol.shape, inBundle);\n    }\n  }\n}); // Provide setColor helper method to avoid determine if set the fill or stroke outside\n\nfunction symbolPathSetColor(color, innerColor) {\n  if (this.type !== 'image') {\n    var symbolStyle = this.style;\n\n    if (this.__isEmptyBrush) {\n      symbolStyle.stroke = color;\n      symbolStyle.fill = innerColor || '#fff'; // TODO Same width with lineStyle in LineView\n\n      symbolStyle.lineWidth = 2;\n    } else if (this.shape.symbolType === 'line') {\n      symbolStyle.stroke = color;\n    } else {\n      symbolStyle.fill = color;\n    }\n\n    this.markRedraw();\n  }\n}\n/**\n * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n */\n\n\nexport function createSymbol(symbolType, x, y, w, h, color, // whether to keep the ratio of w/h,\nkeepAspect) {\n  // TODO Support image object, DynamicImage.\n  var isEmpty = symbolType.indexOf('empty') === 0;\n\n  if (isEmpty) {\n    symbolType = symbolType.substr(5, 1).toLowerCase() + symbolType.substr(6);\n  }\n\n  var symbolPath;\n\n  if (symbolType.indexOf('image://') === 0) {\n    symbolPath = graphic.makeImage(symbolType.slice(8), new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else if (symbolType.indexOf('path://') === 0) {\n    symbolPath = graphic.makePath(symbolType.slice(7), {}, new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else {\n    symbolPath = new SymbolClz({\n      shape: {\n        symbolType: symbolType,\n        x: x,\n        y: y,\n        width: w,\n        height: h\n      }\n    });\n  }\n\n  symbolPath.__isEmptyBrush = isEmpty; // TODO Should deprecate setColor\n\n  symbolPath.setColor = symbolPathSetColor;\n\n  if (color) {\n    symbolPath.setColor(color);\n  }\n\n  return symbolPath;\n}\nexport function normalizeSymbolSize(symbolSize) {\n  if (!isArray(symbolSize)) {\n    symbolSize = [+symbolSize, +symbolSize];\n  }\n\n  return [symbolSize[0] || 0, symbolSize[1] || 0];\n}\nexport function normalizeSymbolOffset(symbolOffset, symbolSize) {\n  if (symbolOffset == null) {\n    return;\n  }\n\n  if (!isArray(symbolOffset)) {\n    symbolOffset = [symbolOffset, symbolOffset];\n  }\n\n  return [parsePercent(symbolOffset[0], symbolSize[0]) || 0, parsePercent(retrieve2(symbolOffset[1], symbolOffset[0]), symbolSize[1]) || 0];\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport WeakMap from 'zrender/lib/core/WeakMap.js';\nimport LRU from 'zrender/lib/core/LRU.js';\nimport { defaults, map, isArray, isString, isNumber } from 'zrender/lib/core/util.js';\nimport { getLeastCommonMultiple } from './number.js';\nimport { createSymbol } from './symbol.js';\nimport { brushSingle } from 'zrender/lib/canvas/graphic.js';\nimport { platformApi } from 'zrender/lib/core/platform.js';\nvar decalMap = new WeakMap();\nvar decalCache = new LRU(100);\nvar decalKeys = ['symbol', 'symbolSize', 'symbolKeepAspect', 'color', 'backgroundColor', 'dashArrayX', 'dashArrayY', 'maxTileWidth', 'maxTileHeight'];\n/**\n * Create or update pattern image from decal options\n *\n * @param {InnerDecalObject | 'none'} decalObject decal options, 'none' if no decal\n * @return {Pattern} pattern with generated image, null if no decal\n */\n\nexport function createOrUpdatePatternFromDecal(decalObject, api) {\n  if (decalObject === 'none') {\n    return null;\n  }\n\n  var dpr = api.getDevicePixelRatio();\n  var zr = api.getZr();\n  var isSVG = zr.painter.type === 'svg';\n\n  if (decalObject.dirty) {\n    decalMap[\"delete\"](decalObject);\n  }\n\n  var oldPattern = decalMap.get(decalObject);\n\n  if (oldPattern) {\n    return oldPattern;\n  }\n\n  var decalOpt = defaults(decalObject, {\n    symbol: 'rect',\n    symbolSize: 1,\n    symbolKeepAspect: true,\n    color: 'rgba(0, 0, 0, 0.2)',\n    backgroundColor: null,\n    dashArrayX: 5,\n    dashArrayY: 5,\n    rotation: 0,\n    maxTileWidth: 512,\n    maxTileHeight: 512\n  });\n\n  if (decalOpt.backgroundColor === 'none') {\n    decalOpt.backgroundColor = null;\n  }\n\n  var pattern = {\n    repeat: 'repeat'\n  };\n  setPatternnSource(pattern);\n  pattern.rotation = decalOpt.rotation;\n  pattern.scaleX = pattern.scaleY = isSVG ? 1 : 1 / dpr;\n  decalMap.set(decalObject, pattern);\n  decalObject.dirty = false;\n  return pattern;\n\n  function setPatternnSource(pattern) {\n    var keys = [dpr];\n    var isValidKey = true;\n\n    for (var i = 0; i < decalKeys.length; ++i) {\n      var value = decalOpt[decalKeys[i]];\n\n      if (value != null && !isArray(value) && !isString(value) && !isNumber(value) && typeof value !== 'boolean') {\n        isValidKey = false;\n        break;\n      }\n\n      keys.push(value);\n    }\n\n    var cacheKey;\n\n    if (isValidKey) {\n      cacheKey = keys.join(',') + (isSVG ? '-svg' : '');\n      var cache = decalCache.get(cacheKey);\n\n      if (cache) {\n        isSVG ? pattern.svgElement = cache : pattern.image = cache;\n      }\n    }\n\n    var dashArrayX = normalizeDashArrayX(decalOpt.dashArrayX);\n    var dashArrayY = normalizeDashArrayY(decalOpt.dashArrayY);\n    var symbolArray = normalizeSymbolArray(decalOpt.symbol);\n    var lineBlockLengthsX = getLineBlockLengthX(dashArrayX);\n    var lineBlockLengthY = getLineBlockLengthY(dashArrayY);\n    var canvas = !isSVG && platformApi.createCanvas();\n    var svgRoot = isSVG && {\n      tag: 'g',\n      attrs: {},\n      key: 'dcl',\n      children: []\n    };\n    var pSize = getPatternSize();\n    var ctx;\n\n    if (canvas) {\n      canvas.width = pSize.width * dpr;\n      canvas.height = pSize.height * dpr;\n      ctx = canvas.getContext('2d');\n    }\n\n    brushDecal();\n\n    if (isValidKey) {\n      decalCache.put(cacheKey, canvas || svgRoot);\n    }\n\n    pattern.image = canvas;\n    pattern.svgElement = svgRoot;\n    pattern.svgWidth = pSize.width;\n    pattern.svgHeight = pSize.height;\n    /**\n     * Get minumum length that can make a repeatable pattern.\n     *\n     * @return {Object} pattern width and height\n     */\n\n    function getPatternSize() {\n      /**\n       * For example, if dash is [[3, 2], [2, 1]] for X, it looks like\n       * |---  ---  ---  ---  --- ...\n       * |-- -- -- -- -- -- -- -- ...\n       * |---  ---  ---  ---  --- ...\n       * |-- -- -- -- -- -- -- -- ...\n       * So the minumum length of X is 15,\n       * which is the least common multiple of `3 + 2` and `2 + 1`\n       * |---  ---  ---  |---  --- ...\n       * |-- -- -- -- -- |-- -- -- ...\n       */\n      var width = 1;\n\n      for (var i = 0, xlen = lineBlockLengthsX.length; i < xlen; ++i) {\n        width = getLeastCommonMultiple(width, lineBlockLengthsX[i]);\n      }\n\n      var symbolRepeats = 1;\n\n      for (var i = 0, xlen = symbolArray.length; i < xlen; ++i) {\n        symbolRepeats = getLeastCommonMultiple(symbolRepeats, symbolArray[i].length);\n      }\n\n      width *= symbolRepeats;\n      var height = lineBlockLengthY * lineBlockLengthsX.length * symbolArray.length;\n\n      if (process.env.NODE_ENV !== 'production') {\n        var warn = function (attrName) {\n          /* eslint-disable-next-line */\n          console.warn(\"Calculated decal size is greater than \" + attrName + \" due to decal option settings so \" + attrName + \" is used for the decal size. Please consider changing the decal option to make a smaller decal or set \" + attrName + \" to be larger to avoid incontinuity.\");\n        };\n\n        if (width > decalOpt.maxTileWidth) {\n          warn('maxTileWidth');\n        }\n\n        if (height > decalOpt.maxTileHeight) {\n          warn('maxTileHeight');\n        }\n      }\n\n      return {\n        width: Math.max(1, Math.min(width, decalOpt.maxTileWidth)),\n        height: Math.max(1, Math.min(height, decalOpt.maxTileHeight))\n      };\n    }\n\n    function brushDecal() {\n      if (ctx) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n        if (decalOpt.backgroundColor) {\n          ctx.fillStyle = decalOpt.backgroundColor;\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\n        }\n      }\n\n      var ySum = 0;\n\n      for (var i = 0; i < dashArrayY.length; ++i) {\n        ySum += dashArrayY[i];\n      }\n\n      if (ySum <= 0) {\n        // dashArrayY is 0, draw nothing\n        return;\n      }\n\n      var y = -lineBlockLengthY;\n      var yId = 0;\n      var yIdTotal = 0;\n      var xId0 = 0;\n\n      while (y < pSize.height) {\n        if (yId % 2 === 0) {\n          var symbolYId = yIdTotal / 2 % symbolArray.length;\n          var x = 0;\n          var xId1 = 0;\n          var xId1Total = 0;\n\n          while (x < pSize.width * 2) {\n            var xSum = 0;\n\n            for (var i = 0; i < dashArrayX[xId0].length; ++i) {\n              xSum += dashArrayX[xId0][i];\n            }\n\n            if (xSum <= 0) {\n              // Skip empty line\n              break;\n            } // E.g., [15, 5, 20, 5] draws only for 15 and 20\n\n\n            if (xId1 % 2 === 0) {\n              var size = (1 - decalOpt.symbolSize) * 0.5;\n              var left = x + dashArrayX[xId0][xId1] * size;\n              var top_1 = y + dashArrayY[yId] * size;\n              var width = dashArrayX[xId0][xId1] * decalOpt.symbolSize;\n              var height = dashArrayY[yId] * decalOpt.symbolSize;\n              var symbolXId = xId1Total / 2 % symbolArray[symbolYId].length;\n              brushSymbol(left, top_1, width, height, symbolArray[symbolYId][symbolXId]);\n            }\n\n            x += dashArrayX[xId0][xId1];\n            ++xId1Total;\n            ++xId1;\n\n            if (xId1 === dashArrayX[xId0].length) {\n              xId1 = 0;\n            }\n          }\n\n          ++xId0;\n\n          if (xId0 === dashArrayX.length) {\n            xId0 = 0;\n          }\n        }\n\n        y += dashArrayY[yId];\n        ++yIdTotal;\n        ++yId;\n\n        if (yId === dashArrayY.length) {\n          yId = 0;\n        }\n      }\n\n      function brushSymbol(x, y, width, height, symbolType) {\n        var scale = isSVG ? 1 : dpr;\n        var symbol = createSymbol(symbolType, x * scale, y * scale, width * scale, height * scale, decalOpt.color, decalOpt.symbolKeepAspect);\n\n        if (isSVG) {\n          var symbolVNode = zr.painter.renderOneToVNode(symbol);\n\n          if (symbolVNode) {\n            svgRoot.children.push(symbolVNode);\n          }\n        } else {\n          // Paint to canvas for all other renderers.\n          brushSingle(ctx, symbol);\n        }\n      }\n    }\n  }\n}\n/**\n * Convert symbol array into normalized array\n *\n * @param {string | (string | string[])[]} symbol symbol input\n * @return {string[][]} normolized symbol array\n */\n\nfunction normalizeSymbolArray(symbol) {\n  if (!symbol || symbol.length === 0) {\n    return [['rect']];\n  }\n\n  if (isString(symbol)) {\n    return [[symbol]];\n  }\n\n  var isAllString = true;\n\n  for (var i = 0; i < symbol.length; ++i) {\n    if (!isString(symbol[i])) {\n      isAllString = false;\n      break;\n    }\n  }\n\n  if (isAllString) {\n    return normalizeSymbolArray([symbol]);\n  }\n\n  var result = [];\n\n  for (var i = 0; i < symbol.length; ++i) {\n    if (isString(symbol[i])) {\n      result.push([symbol[i]]);\n    } else {\n      result.push(symbol[i]);\n    }\n  }\n\n  return result;\n}\n/**\n * Convert dash input into dashArray\n *\n * @param {DecalDashArrayX} dash dash input\n * @return {number[][]} normolized dash array\n */\n\n\nfunction normalizeDashArrayX(dash) {\n  if (!dash || dash.length === 0) {\n    return [[0, 0]];\n  }\n\n  if (isNumber(dash)) {\n    var dashValue = Math.ceil(dash);\n    return [[dashValue, dashValue]];\n  }\n  /**\n   * [20, 5] should be normalized into [[20, 5]],\n   * while [20, [5, 10]] should be normalized into [[20, 20], [5, 10]]\n   */\n\n\n  var isAllNumber = true;\n\n  for (var i = 0; i < dash.length; ++i) {\n    if (!isNumber(dash[i])) {\n      isAllNumber = false;\n      break;\n    }\n  }\n\n  if (isAllNumber) {\n    return normalizeDashArrayX([dash]);\n  }\n\n  var result = [];\n\n  for (var i = 0; i < dash.length; ++i) {\n    if (isNumber(dash[i])) {\n      var dashValue = Math.ceil(dash[i]);\n      result.push([dashValue, dashValue]);\n    } else {\n      var dashValue = map(dash[i], function (n) {\n        return Math.ceil(n);\n      });\n\n      if (dashValue.length % 2 === 1) {\n        // [4, 2, 1] means |----  -    -- |----  -    -- |\n        // so normalize it to be [4, 2, 1, 4, 2, 1]\n        result.push(dashValue.concat(dashValue));\n      } else {\n        result.push(dashValue);\n      }\n    }\n  }\n\n  return result;\n}\n/**\n * Convert dash input into dashArray\n *\n * @param {DecalDashArrayY} dash dash input\n * @return {number[]} normolized dash array\n */\n\n\nfunction normalizeDashArrayY(dash) {\n  if (!dash || typeof dash === 'object' && dash.length === 0) {\n    return [0, 0];\n  }\n\n  if (isNumber(dash)) {\n    var dashValue_1 = Math.ceil(dash);\n    return [dashValue_1, dashValue_1];\n  }\n\n  var dashValue = map(dash, function (n) {\n    return Math.ceil(n);\n  });\n  return dash.length % 2 ? dashValue.concat(dashValue) : dashValue;\n}\n/**\n * Get block length of each line. A block is the length of dash line and space.\n * For example, a line with [4, 1] has a dash line of 4 and a space of 1 after\n * that, so the block length of this line is 5.\n *\n * @param {number[][]} dash dash arrary of X or Y\n * @return {number[]} block length of each line\n */\n\n\nfunction getLineBlockLengthX(dash) {\n  return map(dash, function (line) {\n    return getLineBlockLengthY(line);\n  });\n}\n\nfunction getLineBlockLengthY(dash) {\n  var blockLength = 0;\n\n  for (var i = 0; i < dash.length; ++i) {\n    blockLength += dash[i];\n  }\n\n  if (dash.length % 2 === 1) {\n    // [4, 2, 1] means |----  -    -- |----  -    -- |\n    // So total length is (4 + 2 + 1) * 2\n    return blockLength * 2;\n  }\n\n  return blockLength;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createOrUpdatePatternFromDecal } from '../util/decal.js';\nexport default function decalVisual(ecModel, api) {\n  ecModel.eachRawSeries(function (seriesModel) {\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n\n    if (data.hasItemVisual()) {\n      data.each(function (idx) {\n        var decal = data.getItemVisual(idx, 'decal');\n\n        if (decal) {\n          var itemStyle = data.ensureUniqueItemVisual(idx, 'style');\n          itemStyle.decal = createOrUpdatePatternFromDecal(decal, api);\n        }\n      });\n    }\n\n    var decal = data.getVisual('decal');\n\n    if (decal) {\n      var style = data.getVisual('style');\n      style.decal = createOrUpdatePatternFromDecal(decal, api);\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport Eventful from 'zrender/lib/core/Eventful.js';\n;\nvar lifecycle = new Eventful();\nexport default lifecycle;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { error } from '../util/log.js'; // Implementation of exported APIs. For example registerMap, getMap.\n// The implentations will be registered when installing the component.\n// Avoid these code being bundled to the core module.\n\nvar implsStore = {}; // TODO Type\n\nexport function registerImpl(name, impl) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (implsStore[name]) {\n      error(\"Already has an implementation of \" + name + \".\");\n    }\n  }\n\n  implsStore[name] = impl;\n}\nexport function getImpl(name) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!implsStore[name]) {\n      error(\"Implementation of \" + name + \" doesn't exists.\");\n    }\n  }\n\n  return implsStore[name];\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport { __extends } from \"tslib\";\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nimport * as zrender from 'zrender/lib/zrender.js';\nimport { assert, each, isFunction, isObject, indexOf, bind, clone, setAsPrimitive, extend, createHashMap, map, defaults, isDom, isArray, noop, isString } from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport timsort from 'zrender/lib/core/timsort.js';\nimport Eventful from 'zrender/lib/core/Eventful.js';\nimport GlobalModel from '../model/Global.js';\nimport ExtensionAPI from './ExtensionAPI.js';\nimport CoordinateSystemManager from './CoordinateSystem.js';\nimport OptionManager from '../model/OptionManager.js';\nimport backwardCompat from '../preprocessor/backwardCompat.js';\nimport dataStack from '../processor/dataStack.js';\nimport SeriesModel from '../model/Series.js';\nimport ComponentView from '../view/Component.js';\nimport ChartView from '../view/Chart.js';\nimport * as graphic from '../util/graphic.js';\nimport { getECData } from '../util/innerStore.js';\nimport { isHighDownDispatcher, HOVER_STATE_EMPHASIS, HOVER_STATE_BLUR, blurSeriesFromHighlightPayload, toggleSelectionFromPayload, updateSeriesElementSelection, getAllSelectedIndices, isSelectChangePayload, isHighDownPayload, HIGHLIGHT_ACTION_TYPE, DOWNPLAY_ACTION_TYPE, SELECT_ACTION_TYPE, UNSELECT_ACTION_TYPE, TOGGLE_SELECT_ACTION_TYPE, savePathStates, enterEmphasis, leaveEmphasis, leaveBlur, enterSelect, leaveSelect, enterBlur, allLeaveBlur, findComponentHighDownDispatchers, blurComponent, handleGlobalMouseOverForHighDown, handleGlobalMouseOutForHighDown } from '../util/states.js';\nimport * as modelUtil from '../util/model.js';\nimport { throttle } from '../util/throttle.js';\nimport { seriesStyleTask, dataStyleTask, dataColorPaletteTask } from '../visual/style.js';\nimport loadingDefault from '../loading/default.js';\nimport Scheduler from './Scheduler.js';\nimport lightTheme from '../theme/light.js';\nimport darkTheme from '../theme/dark.js';\nimport { parseClassType } from '../util/clazz.js';\nimport { ECEventProcessor } from '../util/ECEventProcessor.js';\nimport { seriesSymbolTask, dataSymbolTask } from '../visual/symbol.js';\nimport { getVisualFromData, getItemVisualFromData } from '../visual/helper.js';\nimport { deprecateLog, deprecateReplaceLog, error } from '../util/log.js';\nimport { handleLegacySelectEvents } from '../legacy/dataSelectAction.js';\nimport { registerExternalTransform } from '../data/helper/transform.js';\nimport { createLocaleObject, SYSTEM_LANG } from './locale.js';\nimport { findEventDispatcher } from '../util/event.js';\nimport decal from '../visual/decal.js';\nimport lifecycle from './lifecycle.js';\nimport { platformApi, setPlatformAPI } from 'zrender/lib/core/platform.js';\nimport { getImpl } from './impl.js';\nvar hasWindow = typeof window !== 'undefined';\nexport var version = '5.3.0';\nexport var dependencies = {\n  zrender: '5.3.0'\n};\nvar TEST_FRAME_REMAIN_TIME = 1;\nvar PRIORITY_PROCESSOR_SERIES_FILTER = 800; // Some data processors depends on the stack result dimension (to calculate data extent).\n// So data stack stage should be in front of data processing stage.\n\nvar PRIORITY_PROCESSOR_DATASTACK = 900; // \"Data filter\" will block the stream, so it should be\n// put at the begining of data processing.\n\nvar PRIORITY_PROCESSOR_FILTER = 1000;\nvar PRIORITY_PROCESSOR_DEFAULT = 2000;\nvar PRIORITY_PROCESSOR_STATISTIC = 5000;\nvar PRIORITY_VISUAL_LAYOUT = 1000;\nvar PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;\nvar PRIORITY_VISUAL_GLOBAL = 2000;\nvar PRIORITY_VISUAL_CHART = 3000;\nvar PRIORITY_VISUAL_COMPONENT = 4000; // Visual property in data. Greater than `PRIORITY_VISUAL_COMPONENT` to enable to\n// overwrite the viusal result of component (like `visualMap`)\n// using data item specific setting (like itemStyle.xxx on data item)\n\nvar PRIORITY_VISUAL_CHART_DATA_CUSTOM = 4500; // Greater than `PRIORITY_VISUAL_CHART_DATA_CUSTOM` to enable to layout based on\n// visual result like `symbolSize`.\n\nvar PRIORITY_VISUAL_POST_CHART_LAYOUT = 4600;\nvar PRIORITY_VISUAL_BRUSH = 5000;\nvar PRIORITY_VISUAL_ARIA = 6000;\nvar PRIORITY_VISUAL_DECAL = 7000;\nexport var PRIORITY = {\n  PROCESSOR: {\n    FILTER: PRIORITY_PROCESSOR_FILTER,\n    SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,\n    STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n  },\n  VISUAL: {\n    LAYOUT: PRIORITY_VISUAL_LAYOUT,\n    PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,\n    GLOBAL: PRIORITY_VISUAL_GLOBAL,\n    CHART: PRIORITY_VISUAL_CHART,\n    POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,\n    COMPONENT: PRIORITY_VISUAL_COMPONENT,\n    BRUSH: PRIORITY_VISUAL_BRUSH,\n    CHART_ITEM: PRIORITY_VISUAL_CHART_DATA_CUSTOM,\n    ARIA: PRIORITY_VISUAL_ARIA,\n    DECAL: PRIORITY_VISUAL_DECAL\n  }\n}; // Main process have three entries: `setOption`, `dispatchAction` and `resize`,\n// where they must not be invoked nestedly, except the only case: invoke\n// dispatchAction with updateMethod \"none\" in main process.\n// This flag is used to carry out this rule.\n// All events will be triggered out side main process (i.e. when !this[IN_MAIN_PROCESS]).\n\nvar IN_MAIN_PROCESS_KEY = '__flagInMainProcess';\nvar PENDING_UPDATE = '__pendingUpdate';\nvar STATUS_NEEDS_UPDATE_KEY = '__needsUpdateStatus';\nvar ACTION_REG = /^[a-zA-Z0-9_]+$/;\nvar CONNECT_STATUS_KEY = '__connectUpdateStatus';\nvar CONNECT_STATUS_PENDING = 0;\nvar CONNECT_STATUS_UPDATING = 1;\nvar CONNECT_STATUS_UPDATED = 2;\n;\n;\n\nfunction createRegisterEventWithLowercaseECharts(method) {\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    if (this.isDisposed()) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\n\nfunction createRegisterEventWithLowercaseMessageCenter(method) {\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\n\nfunction toLowercaseNameAndCallEventful(host, method, args) {\n  // `args[0]` is event name. Event name is all lowercase.\n  args[0] = args[0] && args[0].toLowerCase();\n  return Eventful.prototype[method].apply(host, args);\n}\n\nvar MessageCenter =\n/** @class */\nfunction (_super) {\n  __extends(MessageCenter, _super);\n\n  function MessageCenter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return MessageCenter;\n}(Eventful);\n\nvar messageCenterProto = MessageCenter.prototype;\nmessageCenterProto.on = createRegisterEventWithLowercaseMessageCenter('on');\nmessageCenterProto.off = createRegisterEventWithLowercaseMessageCenter('off'); // ---------------------------------------\n// Internal method names for class ECharts\n// ---------------------------------------\n\nvar prepare;\nvar prepareView;\nvar updateDirectly;\nvar updateMethods;\nvar doConvertPixel;\nvar updateStreamModes;\nvar doDispatchAction;\nvar flushPendingActions;\nvar triggerUpdatedEvent;\nvar bindRenderedEvent;\nvar bindMouseEvent;\nvar render;\nvar renderComponents;\nvar renderSeries;\nvar createExtensionAPI;\nvar enableConnect;\nvar markStatusToUpdate;\nvar applyChangedStates;\n\nvar ECharts =\n/** @class */\nfunction (_super) {\n  __extends(ECharts, _super);\n\n  function ECharts(dom, // Theme name or themeOption.\n  theme, opts) {\n    var _this = _super.call(this, new ECEventProcessor()) || this;\n\n    _this._chartsViews = [];\n    _this._chartsMap = {};\n    _this._componentsViews = [];\n    _this._componentsMap = {}; // Can't dispatch action during rendering procedure\n\n    _this._pendingActions = [];\n    opts = opts || {}; // Get theme by name\n\n    if (isString(theme)) {\n      theme = themeStorage[theme];\n    }\n\n    _this._dom = dom;\n    var defaultRenderer = 'canvas';\n    var defaultUseDirtyRect = false;\n\n    if (process.env.NODE_ENV !== 'production') {\n      var root =\n      /* eslint-disable-next-line */\n      hasWindow ? window : global;\n      defaultRenderer = root.__ECHARTS__DEFAULT__RENDERER__ || defaultRenderer;\n      var devUseDirtyRect = root.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;\n      defaultUseDirtyRect = devUseDirtyRect == null ? defaultUseDirtyRect : devUseDirtyRect;\n    }\n\n    var zr = _this._zr = zrender.init(dom, {\n      renderer: opts.renderer || defaultRenderer,\n      devicePixelRatio: opts.devicePixelRatio,\n      width: opts.width,\n      height: opts.height,\n      ssr: opts.ssr,\n      useDirtyRect: opts.useDirtyRect == null ? defaultUseDirtyRect : opts.useDirtyRect\n    });\n    _this._ssr = opts.ssr; // Expect 60 fps.\n\n    _this._throttledZrFlush = throttle(bind(zr.flush, zr), 17);\n    theme = clone(theme);\n    theme && backwardCompat(theme, true);\n    _this._theme = theme;\n    _this._locale = createLocaleObject(opts.locale || SYSTEM_LANG);\n    _this._coordSysMgr = new CoordinateSystemManager();\n    var api = _this._api = createExtensionAPI(_this); // Sort on demand\n\n    function prioritySortFunc(a, b) {\n      return a.__prio - b.__prio;\n    }\n\n    timsort(visualFuncs, prioritySortFunc);\n    timsort(dataProcessorFuncs, prioritySortFunc);\n    _this._scheduler = new Scheduler(_this, api, dataProcessorFuncs, visualFuncs);\n    _this._messageCenter = new MessageCenter(); // Init mouse events\n\n    _this._initEvents(); // In case some people write `window.onresize = chart.resize`\n\n\n    _this.resize = bind(_this.resize, _this);\n    zr.animation.on('frame', _this._onframe, _this);\n    bindRenderedEvent(zr, _this);\n    bindMouseEvent(zr, _this); // ECharts instance can be used as value.\n\n    setAsPrimitive(_this);\n    return _this;\n  }\n\n  ECharts.prototype._onframe = function () {\n    if (this._disposed) {\n      return;\n    }\n\n    applyChangedStates(this);\n    var scheduler = this._scheduler; // Lazy update\n\n    if (this[PENDING_UPDATE]) {\n      var silent = this[PENDING_UPDATE].silent;\n      this[IN_MAIN_PROCESS_KEY] = true;\n\n      try {\n        prepare(this);\n        updateMethods.update.call(this, null, this[PENDING_UPDATE].updateParams);\n      } catch (e) {\n        this[IN_MAIN_PROCESS_KEY] = false;\n        this[PENDING_UPDATE] = null;\n        throw e;\n      } // At present, in each frame, zrender performs:\n      //   (1) animation step forward.\n      //   (2) trigger('frame') (where this `_onframe` is called)\n      //   (3) zrender flush (render).\n      // If we do nothing here, since we use `setToFinal: true`, the step (3) above\n      // will render the final state of the elements before the real animation started.\n\n\n      this._zr.flush();\n\n      this[IN_MAIN_PROCESS_KEY] = false;\n      this[PENDING_UPDATE] = null;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    } // Avoid do both lazy update and progress in one frame.\n    else if (scheduler.unfinished) {\n        // Stream progress.\n        var remainTime = TEST_FRAME_REMAIN_TIME;\n        var ecModel = this._model;\n        var api = this._api;\n        scheduler.unfinished = false;\n\n        do {\n          var startTime = +new Date();\n          scheduler.performSeriesTasks(ecModel); // Currently dataProcessorFuncs do not check threshold.\n\n          scheduler.performDataProcessorTasks(ecModel);\n          updateStreamModes(this, ecModel); // Do not update coordinate system here. Because that coord system update in\n          // each frame is not a good user experience. So we follow the rule that\n          // the extent of the coordinate system is determin in the first frame (the\n          // frame is executed immedietely after task reset.\n          // this._coordSysMgr.update(ecModel, api);\n          // console.log('--- ec frame visual ---', remainTime);\n\n          scheduler.performVisualTasks(ecModel);\n          renderSeries(this, this._model, api, 'remain', {});\n          remainTime -= +new Date() - startTime;\n        } while (remainTime > 0 && scheduler.unfinished); // Call flush explicitly for trigger finished event.\n\n\n        if (!scheduler.unfinished) {\n          this._zr.flush();\n        } // Else, zr flushing be ensue within the same frame,\n        // because zr flushing is after onframe event.\n\n      }\n  };\n\n  ECharts.prototype.getDom = function () {\n    return this._dom;\n  };\n\n  ECharts.prototype.getId = function () {\n    return this.id;\n  };\n\n  ECharts.prototype.getZr = function () {\n    return this._zr;\n  };\n\n  ECharts.prototype.isSSR = function () {\n    return this._ssr;\n  };\n  /* eslint-disable-next-line */\n\n\n  ECharts.prototype.setOption = function (option, notMerge, lazyUpdate) {\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      if (process.env.NODE_ENV !== 'production') {\n        error('`setOption` should not be called during main process.');\n      }\n\n      return;\n    }\n\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var silent;\n    var replaceMerge;\n    var transitionOpt;\n\n    if (isObject(notMerge)) {\n      lazyUpdate = notMerge.lazyUpdate;\n      silent = notMerge.silent;\n      replaceMerge = notMerge.replaceMerge;\n      transitionOpt = notMerge.transition;\n      notMerge = notMerge.notMerge;\n    }\n\n    this[IN_MAIN_PROCESS_KEY] = true;\n\n    if (!this._model || notMerge) {\n      var optionManager = new OptionManager(this._api);\n      var theme = this._theme;\n      var ecModel = this._model = new GlobalModel();\n      ecModel.scheduler = this._scheduler;\n      ecModel.ssr = this._ssr;\n      ecModel.init(null, null, null, theme, this._locale, optionManager);\n    }\n\n    this._model.setOption(option, {\n      replaceMerge: replaceMerge\n    }, optionPreprocessorFuncs);\n\n    var updateParams = {\n      seriesTransition: transitionOpt,\n      optionChanged: true\n    };\n\n    if (lazyUpdate) {\n      this[PENDING_UPDATE] = {\n        silent: silent,\n        updateParams: updateParams\n      };\n      this[IN_MAIN_PROCESS_KEY] = false; // `setOption(option, {lazyMode: true})` may be called when zrender has been slept.\n      // It should wake it up to make sure zrender start to render at the next frame.\n\n      this.getZr().wakeUp();\n    } else {\n      try {\n        prepare(this);\n        updateMethods.update.call(this, null, updateParams);\n      } catch (e) {\n        this[PENDING_UPDATE] = null;\n        this[IN_MAIN_PROCESS_KEY] = false;\n        throw e;\n      } // Ensure zr refresh sychronously, and then pixel in canvas can be\n      // fetched after `setOption`.\n\n\n      if (!this._ssr) {\n        // not use flush when using ssr mode.\n        this._zr.flush();\n      }\n\n      this[PENDING_UPDATE] = null;\n      this[IN_MAIN_PROCESS_KEY] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n  };\n  /**\n   * @deprecated\n   */\n\n\n  ECharts.prototype.setTheme = function () {\n    deprecateLog('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\n  }; // We don't want developers to use getModel directly.\n\n\n  ECharts.prototype.getModel = function () {\n    return this._model;\n  };\n\n  ECharts.prototype.getOption = function () {\n    return this._model && this._model.getOption();\n  };\n\n  ECharts.prototype.getWidth = function () {\n    return this._zr.getWidth();\n  };\n\n  ECharts.prototype.getHeight = function () {\n    return this._zr.getHeight();\n  };\n\n  ECharts.prototype.getDevicePixelRatio = function () {\n    return this._zr.painter.dpr\n    /* eslint-disable-next-line */\n    || hasWindow && window.devicePixelRatio || 1;\n  };\n  /**\n   * Get canvas which has all thing rendered\n   * @deprecated Use renderToCanvas instead.\n   */\n\n\n  ECharts.prototype.getRenderedCanvas = function (opts) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('getRenderedCanvas', 'renderToCanvas');\n    }\n\n    return this.renderToCanvas(opts);\n  };\n\n  ECharts.prototype.renderToCanvas = function (opts) {\n    opts = opts || {};\n    var painter = this._zr.painter;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (painter.type !== 'canvas') {\n        throw new Error('renderToCanvas can only be used in the canvas renderer.');\n      }\n    }\n\n    return painter.getRenderedCanvas({\n      backgroundColor: opts.backgroundColor || this._model.get('backgroundColor'),\n      pixelRatio: opts.pixelRatio || this.getDevicePixelRatio()\n    });\n  };\n\n  ECharts.prototype.renderToSVGString = function (opts) {\n    opts = opts || {};\n    var painter = this._zr.painter;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (painter.type !== 'svg') {\n        throw new Error('renderToSVGString can only be used in the svg renderer.');\n      }\n    }\n\n    return painter.renderToString({\n      useViewBox: opts.useViewBox\n    });\n  };\n  /**\n   * Get svg data url\n   */\n\n\n  ECharts.prototype.getSvgDataURL = function () {\n    if (!env.svgSupported) {\n      return;\n    }\n\n    var zr = this._zr;\n    var list = zr.storage.getDisplayList(); // Stop animations\n\n    each(list, function (el) {\n      el.stopAnimation(null, true);\n    });\n    return zr.painter.toDataURL();\n  };\n\n  ECharts.prototype.getDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    opts = opts || {};\n    var excludeComponents = opts.excludeComponents;\n    var ecModel = this._model;\n    var excludesComponentViews = [];\n    var self = this;\n    each(excludeComponents, function (componentType) {\n      ecModel.eachComponent({\n        mainType: componentType\n      }, function (component) {\n        var view = self._componentsMap[component.__viewId];\n\n        if (!view.group.ignore) {\n          excludesComponentViews.push(view);\n          view.group.ignore = true;\n        }\n      });\n    });\n    var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.renderToCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\n    each(excludesComponentViews, function (view) {\n      view.group.ignore = false;\n    });\n    return url;\n  };\n\n  ECharts.prototype.getConnectedDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var isSvg = opts.type === 'svg';\n    var groupId = this.group;\n    var mathMin = Math.min;\n    var mathMax = Math.max;\n    var MAX_NUMBER = Infinity;\n\n    if (connectedGroups[groupId]) {\n      var left_1 = MAX_NUMBER;\n      var top_1 = MAX_NUMBER;\n      var right_1 = -MAX_NUMBER;\n      var bottom_1 = -MAX_NUMBER;\n      var canvasList_1 = [];\n      var dpr_1 = opts && opts.pixelRatio || this.getDevicePixelRatio();\n      each(instances, function (chart, id) {\n        if (chart.group === groupId) {\n          var canvas = isSvg ? chart.getZr().painter.getSvgDom().innerHTML : chart.renderToCanvas(clone(opts));\n          var boundingRect = chart.getDom().getBoundingClientRect();\n          left_1 = mathMin(boundingRect.left, left_1);\n          top_1 = mathMin(boundingRect.top, top_1);\n          right_1 = mathMax(boundingRect.right, right_1);\n          bottom_1 = mathMax(boundingRect.bottom, bottom_1);\n          canvasList_1.push({\n            dom: canvas,\n            left: boundingRect.left,\n            top: boundingRect.top\n          });\n        }\n      });\n      left_1 *= dpr_1;\n      top_1 *= dpr_1;\n      right_1 *= dpr_1;\n      bottom_1 *= dpr_1;\n      var width = right_1 - left_1;\n      var height = bottom_1 - top_1;\n      var targetCanvas = platformApi.createCanvas();\n      var zr_1 = zrender.init(targetCanvas, {\n        renderer: isSvg ? 'svg' : 'canvas'\n      });\n      zr_1.resize({\n        width: width,\n        height: height\n      });\n\n      if (isSvg) {\n        var content_1 = '';\n        each(canvasList_1, function (item) {\n          var x = item.left - left_1;\n          var y = item.top - top_1;\n          content_1 += '<g transform=\"translate(' + x + ',' + y + ')\">' + item.dom + '</g>';\n        });\n        zr_1.painter.getSvgRoot().innerHTML = content_1;\n\n        if (opts.connectedBackgroundColor) {\n          zr_1.painter.setBackgroundColor(opts.connectedBackgroundColor);\n        }\n\n        zr_1.refreshImmediately();\n        return zr_1.painter.toDataURL();\n      } else {\n        // Background between the charts\n        if (opts.connectedBackgroundColor) {\n          zr_1.add(new graphic.Rect({\n            shape: {\n              x: 0,\n              y: 0,\n              width: width,\n              height: height\n            },\n            style: {\n              fill: opts.connectedBackgroundColor\n            }\n          }));\n        }\n\n        each(canvasList_1, function (item) {\n          var img = new graphic.Image({\n            style: {\n              x: item.left * dpr_1 - left_1,\n              y: item.top * dpr_1 - top_1,\n              image: item.dom\n            }\n          });\n          zr_1.add(img);\n        });\n        zr_1.refreshImmediately();\n        return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n      }\n    } else {\n      return this.getDataURL(opts);\n    }\n  };\n\n  ECharts.prototype.convertToPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertToPixel', finder, value);\n  };\n\n  ECharts.prototype.convertFromPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertFromPixel', finder, value);\n  };\n  /**\n   * Is the specified coordinate systems or components contain the given pixel point.\n   * @param {Array|number} value\n   * @return {boolean} result\n   */\n\n\n  ECharts.prototype.containPixel = function (finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var ecModel = this._model;\n    var result;\n    var findResult = modelUtil.parseFinder(ecModel, finder);\n    each(findResult, function (models, key) {\n      key.indexOf('Models') >= 0 && each(models, function (model) {\n        var coordSys = model.coordinateSystem;\n\n        if (coordSys && coordSys.containPoint) {\n          result = result || !!coordSys.containPoint(value);\n        } else if (key === 'seriesModels') {\n          var view = this._chartsMap[model.__viewId];\n\n          if (view && view.containPoint) {\n            result = result || view.containPoint(value, model);\n          } else {\n            if (process.env.NODE_ENV !== 'production') {\n              console.warn(key + ': ' + (view ? 'The found component do not support containPoint.' : 'No view mapping to the found component.'));\n            }\n          }\n        } else {\n          if (process.env.NODE_ENV !== 'production') {\n            console.warn(key + ': containPoint is not supported');\n          }\n        }\n      }, this);\n    }, this);\n    return !!result;\n  };\n  /**\n   * Get visual from series or data.\n   * @param finder\n   *        If string, e.g., 'series', means {seriesIndex: 0}.\n   *        If Object, could contain some of these properties below:\n   *        {\n   *            seriesIndex / seriesId / seriesName,\n   *            dataIndex / dataIndexInside\n   *        }\n   *        If dataIndex is not specified, series visual will be fetched,\n   *        but not data item visual.\n   *        If all of seriesIndex, seriesId, seriesName are not specified,\n   *        visual will be fetched from first series.\n   * @param visualType 'color', 'symbol', 'symbolSize'\n   */\n\n\n  ECharts.prototype.getVisual = function (finder, visualType) {\n    var ecModel = this._model;\n    var parsedFinder = modelUtil.parseFinder(ecModel, finder, {\n      defaultMainType: 'series'\n    });\n    var seriesModel = parsedFinder.seriesModel;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!seriesModel) {\n        console.warn('There is no specified seires model');\n      }\n    }\n\n    var data = seriesModel.getData();\n    var dataIndexInside = parsedFinder.hasOwnProperty('dataIndexInside') ? parsedFinder.dataIndexInside : parsedFinder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(parsedFinder.dataIndex) : null;\n    return dataIndexInside != null ? getItemVisualFromData(data, dataIndexInside, visualType) : getVisualFromData(data, visualType);\n  };\n  /**\n   * Get view of corresponding component model\n   */\n\n\n  ECharts.prototype.getViewOfComponentModel = function (componentModel) {\n    return this._componentsMap[componentModel.__viewId];\n  };\n  /**\n   * Get view of corresponding series model\n   */\n\n\n  ECharts.prototype.getViewOfSeriesModel = function (seriesModel) {\n    return this._chartsMap[seriesModel.__viewId];\n  };\n\n  ECharts.prototype._initEvents = function () {\n    var _this = this;\n\n    each(MOUSE_EVENT_NAMES, function (eveName) {\n      var handler = function (e) {\n        var ecModel = _this.getModel();\n\n        var el = e.target;\n        var params;\n        var isGlobalOut = eveName === 'globalout'; // no e.target when 'globalout'.\n\n        if (isGlobalOut) {\n          params = {};\n        } else {\n          el && findEventDispatcher(el, function (parent) {\n            var ecData = getECData(parent);\n\n            if (ecData && ecData.dataIndex != null) {\n              var dataModel = ecData.dataModel || ecModel.getSeriesByIndex(ecData.seriesIndex);\n              params = dataModel && dataModel.getDataParams(ecData.dataIndex, ecData.dataType) || {};\n              return true;\n            } // If element has custom eventData of components\n            else if (ecData.eventData) {\n                params = extend({}, ecData.eventData);\n                return true;\n              }\n          }, true);\n        } // Contract: if params prepared in mouse event,\n        // these properties must be specified:\n        // {\n        //    componentType: string (component main type)\n        //    componentIndex: number\n        // }\n        // Otherwise event query can not work.\n\n\n        if (params) {\n          var componentType = params.componentType;\n          var componentIndex = params.componentIndex; // Special handling for historic reason: when trigger by\n          // markLine/markPoint/markArea, the componentType is\n          // 'markLine'/'markPoint'/'markArea', but we should better\n          // enable them to be queried by seriesIndex, since their\n          // option is set in each series.\n\n          if (componentType === 'markLine' || componentType === 'markPoint' || componentType === 'markArea') {\n            componentType = 'series';\n            componentIndex = params.seriesIndex;\n          }\n\n          var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);\n          var view = model && _this[model.mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId];\n\n          if (process.env.NODE_ENV !== 'production') {\n            // `event.componentType` and `event[componentTpype + 'Index']` must not\n            // be missed, otherwise there is no way to distinguish source component.\n            // See `dataFormat.getDataParams`.\n            if (!isGlobalOut && !(model && view)) {\n              console.warn('model or view can not be found by params');\n            }\n          }\n\n          params.event = e;\n          params.type = eveName;\n          _this._$eventProcessor.eventInfo = {\n            targetEl: el,\n            packedEvent: params,\n            model: model,\n            view: view\n          };\n\n          _this.trigger(eveName, params);\n        }\n      }; // Consider that some component (like tooltip, brush, ...)\n      // register zr event handler, but user event handler might\n      // do anything, such as call `setOption` or `dispatchAction`,\n      // which probably update any of the content and probably\n      // cause problem if it is called previous other inner handlers.\n\n\n      handler.zrEventfulCallAtLast = true;\n\n      _this._zr.on(eveName, handler, _this);\n    });\n    each(eventActionMap, function (actionType, eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    }); // Extra events\n    // TODO register?\n\n    each(['selectchanged'], function (eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    });\n    handleLegacySelectEvents(this._messageCenter, this, this._api);\n  };\n\n  ECharts.prototype.isDisposed = function () {\n    return this._disposed;\n  };\n\n  ECharts.prototype.clear = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this.setOption({\n      series: []\n    }, true);\n  };\n\n  ECharts.prototype.dispose = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._disposed = true;\n    var dom = this.getDom();\n\n    if (dom) {\n      modelUtil.setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, '');\n    }\n\n    var chart = this;\n    var api = chart._api;\n    var ecModel = chart._model;\n    each(chart._componentsViews, function (component) {\n      component.dispose(ecModel, api);\n    });\n    each(chart._chartsViews, function (chart) {\n      chart.dispose(ecModel, api);\n    }); // Dispose after all views disposed\n\n    chart._zr.dispose(); // Set properties to null.\n    // To reduce the memory cost in case the top code still holds this instance unexpectedly.\n\n\n    chart._dom = chart._model = chart._chartsMap = chart._componentsMap = chart._chartsViews = chart._componentsViews = chart._scheduler = chart._api = chart._zr = chart._throttledZrFlush = chart._theme = chart._coordSysMgr = chart._messageCenter = null;\n    delete instances[chart.id];\n  };\n  /**\n   * Resize the chart\n   */\n\n\n  ECharts.prototype.resize = function (opts) {\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      if (process.env.NODE_ENV !== 'production') {\n        error('`resize` should not be called during main process.');\n      }\n\n      return;\n    }\n\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._zr.resize(opts);\n\n    var ecModel = this._model; // Resize loading effect\n\n    this._loadingFX && this._loadingFX.resize();\n\n    if (!ecModel) {\n      return;\n    }\n\n    var needPrepare = ecModel.resetOption('media');\n    var silent = opts && opts.silent; // There is some real cases that:\n    // chart.setOption(option, { lazyUpdate: true });\n    // chart.resize();\n\n    if (this[PENDING_UPDATE]) {\n      if (silent == null) {\n        silent = this[PENDING_UPDATE].silent;\n      }\n\n      needPrepare = true;\n      this[PENDING_UPDATE] = null;\n    }\n\n    this[IN_MAIN_PROCESS_KEY] = true;\n\n    try {\n      needPrepare && prepare(this);\n      updateMethods.update.call(this, {\n        type: 'resize',\n        animation: extend({\n          // Disable animation\n          duration: 0\n        }, opts && opts.animation)\n      });\n    } catch (e) {\n      this[IN_MAIN_PROCESS_KEY] = false;\n      throw e;\n    }\n\n    this[IN_MAIN_PROCESS_KEY] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n\n  ECharts.prototype.showLoading = function (name, cfg) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (isObject(name)) {\n      cfg = name;\n      name = '';\n    }\n\n    name = name || 'default';\n    this.hideLoading();\n\n    if (!loadingEffects[name]) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('Loading effects ' + name + ' not exists.');\n      }\n\n      return;\n    }\n\n    var el = loadingEffects[name](this._api, cfg);\n    var zr = this._zr;\n    this._loadingFX = el;\n    zr.add(el);\n  };\n  /**\n   * Hide loading effect\n   */\n\n\n  ECharts.prototype.hideLoading = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    this._loadingFX && this._zr.remove(this._loadingFX);\n    this._loadingFX = null;\n  };\n\n  ECharts.prototype.makeActionFromEvent = function (eventObj) {\n    var payload = extend({}, eventObj);\n    payload.type = eventActionMap[eventObj.type];\n    return payload;\n  };\n  /**\n   * @param opt If pass boolean, means opt.silent\n   * @param opt.silent Default `false`. Whether trigger events.\n   * @param opt.flush Default `undefined`.\n   *        true: Flush immediately, and then pixel in canvas can be fetched\n   *            immediately. Caution: it might affect performance.\n   *        false: Not flush.\n   *        undefined: Auto decide whether perform flush.\n   */\n\n\n  ECharts.prototype.dispatchAction = function (payload, opt) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    if (!isObject(opt)) {\n      opt = {\n        silent: !!opt\n      };\n    }\n\n    if (!actions[payload.type]) {\n      return;\n    } // Avoid dispatch action before setOption. Especially in `connect`.\n\n\n    if (!this._model) {\n      return;\n    } // May dispatchAction in rendering procedure\n\n\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      this._pendingActions.push(payload);\n\n      return;\n    }\n\n    var silent = opt.silent;\n    doDispatchAction.call(this, payload, silent);\n    var flush = opt.flush;\n\n    if (flush) {\n      this._zr.flush();\n    } else if (flush !== false && env.browser.weChat) {\n      // In WeChat embeded browser, `requestAnimationFrame` and `setInterval`\n      // hang when sliding page (on touch event), which cause that zr does not\n      // refresh util user interaction finished, which is not expected.\n      // But `dispatchAction` may be called too frequently when pan on touch\n      // screen, which impacts performance if do not throttle them.\n      this._throttledZrFlush();\n    }\n\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n\n  ECharts.prototype.updateLabelLayout = function () {\n    lifecycle.trigger('series:layoutlabels', this._model, this._api, {\n      // Not adding series labels.\n      // TODO\n      updatedSeries: []\n    });\n  };\n\n  ECharts.prototype.appendData = function (params) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n\n    var seriesIndex = params.seriesIndex;\n    var ecModel = this.getModel();\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n    if (process.env.NODE_ENV !== 'production') {\n      assert(params.data && seriesModel);\n    }\n\n    seriesModel.appendData(params); // Note: `appendData` does not support that update extent of coordinate\n    // system, util some scenario require that. In the expected usage of\n    // `appendData`, the initial extent of coordinate system should better\n    // be fixed by axis `min`/`max` setting or initial data, otherwise if\n    // the extent changed while `appendData`, the location of the painted\n    // graphic elements have to be changed, which make the usage of\n    // `appendData` meaningless.\n\n    this._scheduler.unfinished = true;\n    this.getZr().wakeUp();\n  }; // A work around for no `internal` modifier in ts yet but\n  // need to strictly hide private methods to JS users.\n\n\n  ECharts.internalField = function () {\n    prepare = function (ecIns) {\n      var scheduler = ecIns._scheduler;\n      scheduler.restorePipelines(ecIns._model);\n      scheduler.prepareStageTasks();\n      prepareView(ecIns, true);\n      prepareView(ecIns, false);\n      scheduler.plan();\n    };\n    /**\n     * Prepare view instances of charts and components\n     */\n\n\n    prepareView = function (ecIns, isComponent) {\n      var ecModel = ecIns._model;\n      var scheduler = ecIns._scheduler;\n      var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;\n      var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;\n      var zr = ecIns._zr;\n      var api = ecIns._api;\n\n      for (var i = 0; i < viewList.length; i++) {\n        viewList[i].__alive = false;\n      }\n\n      isComponent ? ecModel.eachComponent(function (componentType, model) {\n        componentType !== 'series' && doPrepare(model);\n      }) : ecModel.eachSeries(doPrepare);\n\n      function doPrepare(model) {\n        // By defaut view will be reused if possible for the case that `setOption` with \"notMerge\"\n        // mode and need to enable transition animation. (Usually, when they have the same id, or\n        // especially no id but have the same type & name & index. See the `model.id` generation\n        // rule in `makeIdAndName` and `viewId` generation rule here).\n        // But in `replaceMerge` mode, this feature should be able to disabled when it is clear that\n        // the new model has nothing to do with the old model.\n        var requireNewView = model.__requireNewView; // This command should not work twice.\n\n        model.__requireNewView = false; // Consider: id same and type changed.\n\n        var viewId = '_ec_' + model.id + '_' + model.type;\n        var view = !requireNewView && viewMap[viewId];\n\n        if (!view) {\n          var classType = parseClassType(model.type);\n          var Clazz = isComponent ? ComponentView.getClass(classType.main, classType.sub) : // FIXME:TS\n          // (ChartView as ChartViewConstructor).getClass('series', classType.sub)\n          // For backward compat, still support a chart type declared as only subType\n          // like \"liquidfill\", but recommend \"series.liquidfill\"\n          // But need a base class to make a type series.\n          ChartView.getClass(classType.sub);\n\n          if (process.env.NODE_ENV !== 'production') {\n            assert(Clazz, classType.sub + ' does not exist.');\n          }\n\n          view = new Clazz();\n          view.init(ecModel, api);\n          viewMap[viewId] = view;\n          viewList.push(view);\n          zr.add(view.group);\n        }\n\n        model.__viewId = view.__id = viewId;\n        view.__alive = true;\n        view.__model = model;\n        view.group.__ecComponentInfo = {\n          mainType: model.mainType,\n          index: model.componentIndex\n        };\n        !isComponent && scheduler.prepareView(view, model, ecModel, api);\n      }\n\n      for (var i = 0; i < viewList.length;) {\n        var view = viewList[i];\n\n        if (!view.__alive) {\n          !isComponent && view.renderTask.dispose();\n          zr.remove(view.group);\n          view.dispose(ecModel, api);\n          viewList.splice(i, 1);\n\n          if (viewMap[view.__id] === view) {\n            delete viewMap[view.__id];\n          }\n\n          view.__id = view.group.__ecComponentInfo = null;\n        } else {\n          i++;\n        }\n      }\n    };\n\n    updateDirectly = function (ecIns, method, payload, mainType, subType) {\n      var ecModel = ecIns._model;\n      ecModel.setUpdatePayload(payload); // broadcast\n\n      if (!mainType) {\n        // FIXME\n        // Chart will not be update directly here, except set dirty.\n        // But there is no such scenario now.\n        each([].concat(ecIns._componentsViews).concat(ecIns._chartsViews), callView);\n        return;\n      }\n\n      var query = {};\n      query[mainType + 'Id'] = payload[mainType + 'Id'];\n      query[mainType + 'Index'] = payload[mainType + 'Index'];\n      query[mainType + 'Name'] = payload[mainType + 'Name'];\n      var condition = {\n        mainType: mainType,\n        query: query\n      };\n      subType && (condition.subType = subType); // subType may be '' by parseClassType;\n\n      var excludeSeriesId = payload.excludeSeriesId;\n      var excludeSeriesIdMap;\n\n      if (excludeSeriesId != null) {\n        excludeSeriesIdMap = createHashMap();\n        each(modelUtil.normalizeToArray(excludeSeriesId), function (id) {\n          var modelId = modelUtil.convertOptionIdName(id, null);\n\n          if (modelId != null) {\n            excludeSeriesIdMap.set(modelId, true);\n          }\n        });\n      } // If dispatchAction before setOption, do nothing.\n\n\n      ecModel && ecModel.eachComponent(condition, function (model) {\n        var isExcluded = excludeSeriesIdMap && excludeSeriesIdMap.get(model.id) !== null;\n\n        if (isExcluded) {\n          return;\n        }\n\n        ;\n\n        if (isHighDownPayload(payload)) {\n          if (model instanceof SeriesModel) {\n            if (payload.type === HIGHLIGHT_ACTION_TYPE && !payload.notBlur && !model.get(['emphasis', 'disabled'])) {\n              blurSeriesFromHighlightPayload(model, payload, ecIns._api);\n            }\n          } else {\n            var _a = findComponentHighDownDispatchers(model.mainType, model.componentIndex, payload.name, ecIns._api),\n                focusSelf = _a.focusSelf,\n                dispatchers = _a.dispatchers;\n\n            if (payload.type === HIGHLIGHT_ACTION_TYPE && focusSelf && !payload.notBlur) {\n              blurComponent(model.mainType, model.componentIndex, ecIns._api);\n            } // PENDING:\n            // Whether to put this \"enter emphasis\" code in `ComponentView`,\n            // which will be the same as `ChartView` but might be not necessary\n            // and will be far from this logic.\n\n\n            if (dispatchers) {\n              each(dispatchers, function (dispatcher) {\n                payload.type === HIGHLIGHT_ACTION_TYPE ? enterEmphasis(dispatcher) : leaveEmphasis(dispatcher);\n              });\n            }\n          }\n        } else if (isSelectChangePayload(payload)) {\n          // TODO geo\n          if (model instanceof SeriesModel) {\n            toggleSelectionFromPayload(model, payload, ecIns._api);\n            updateSeriesElementSelection(model);\n            markStatusToUpdate(ecIns);\n          }\n        }\n      }, ecIns);\n      ecModel && ecModel.eachComponent(condition, function (model) {\n        var isExcluded = excludeSeriesIdMap && excludeSeriesIdMap.get(model.id) !== null;\n\n        if (isExcluded) {\n          return;\n        }\n\n        ;\n        callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\n      }, ecIns);\n\n      function callView(view) {\n        view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\n      }\n    };\n\n    updateMethods = {\n      prepareAndUpdate: function (payload) {\n        prepare(this);\n        updateMethods.update.call(this, payload, {\n          // Needs to mark option changed if newOption is given.\n          // It's from MagicType.\n          // TODO If use a separate flag optionChanged in payload?\n          optionChanged: payload.newOption != null\n        });\n      },\n      update: function (payload, updateParams) {\n        var ecModel = this._model;\n        var api = this._api;\n        var zr = this._zr;\n        var coordSysMgr = this._coordSysMgr;\n        var scheduler = this._scheduler; // update before setOption\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        scheduler.restoreData(ecModel, payload);\n        scheduler.performSeriesTasks(ecModel); // TODO\n        // Save total ecModel here for undo/redo (after restoring data and before processing data).\n        // Undo (restoration of total ecModel) can be carried out in 'action' or outside API call.\n        // Create new coordinate system each update\n        // In LineView may save the old coordinate system and use it to get the orignal point\n\n        coordSysMgr.create(ecModel, api);\n        scheduler.performDataProcessorTasks(ecModel, payload); // Current stream render is not supported in data process. So we can update\n        // stream modes after data processing, where the filtered data is used to\n        // deteming whether use progressive rendering.\n\n        updateStreamModes(this, ecModel); // We update stream modes before coordinate system updated, then the modes info\n        // can be fetched when coord sys updating (consider the barGrid extent fix). But\n        // the drawback is the full coord info can not be fetched. Fortunately this full\n        // coord is not requied in stream mode updater currently.\n\n        coordSysMgr.update(ecModel, api);\n        clearColorPalette(ecModel);\n        scheduler.performVisualTasks(ecModel, payload);\n        render(this, ecModel, api, payload, updateParams); // Set background\n\n        var backgroundColor = ecModel.get('backgroundColor') || 'transparent';\n        var darkMode = ecModel.get('darkMode');\n        zr.setBackgroundColor(backgroundColor); // Force set dark mode.\n\n        if (darkMode != null && darkMode !== 'auto') {\n          zr.setDarkMode(darkMode);\n        }\n\n        lifecycle.trigger('afterupdate', ecModel, api);\n      },\n      updateTransform: function (payload) {\n        var _this = this;\n\n        var ecModel = this._model;\n        var api = this._api; // update before setOption\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload); // ChartView.markUpdateMethod(payload, 'updateTransform');\n\n        var componentDirtyList = [];\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType === 'series') {\n            return;\n          }\n\n          var componentView = _this.getViewOfComponentModel(componentModel);\n\n          if (componentView && componentView.__alive) {\n            if (componentView.updateTransform) {\n              var result = componentView.updateTransform(componentModel, ecModel, api, payload);\n              result && result.update && componentDirtyList.push(componentView);\n            } else {\n              componentDirtyList.push(componentView);\n            }\n          }\n        });\n        var seriesDirtyMap = createHashMap();\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n\n          if (chartView.updateTransform) {\n            var result = chartView.updateTransform(seriesModel, ecModel, api, payload);\n            result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);\n          } else {\n            seriesDirtyMap.set(seriesModel.uid, 1);\n          }\n        });\n        clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n        // this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true,\n          dirtyMap: seriesDirtyMap\n        }); // Currently, not call render of components. Geo render cost a lot.\n        // renderComponents(ecIns, ecModel, api, payload, componentDirtyList);\n\n\n        renderSeries(this, ecModel, api, payload, {}, seriesDirtyMap);\n        lifecycle.trigger('afterupdate', ecModel, api);\n      },\n      updateView: function (payload) {\n        var ecModel = this._model; // update before setOption\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload);\n        ChartView.markUpdateMethod(payload, 'updateView');\n        clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true\n        });\n\n        render(this, ecModel, this._api, payload, {});\n        lifecycle.trigger('afterupdate', ecModel, this._api);\n      },\n      updateVisual: function (payload) {\n        // updateMethods.update.call(this, payload);\n        var _this = this;\n\n        var ecModel = this._model; // update before setOption\n\n        if (!ecModel) {\n          return;\n        }\n\n        ecModel.setUpdatePayload(payload); // clear all visual\n\n        ecModel.eachSeries(function (seriesModel) {\n          seriesModel.getData().clearAllVisual();\n        }); // Perform visual\n\n        ChartView.markUpdateMethod(payload, 'updateVisual');\n        clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          visualType: 'visual',\n          setDirty: true\n        });\n\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType !== 'series') {\n            var componentView = _this.getViewOfComponentModel(componentModel);\n\n            componentView && componentView.__alive && componentView.updateVisual(componentModel, ecModel, _this._api, payload);\n          }\n        });\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n          chartView.updateVisual(seriesModel, ecModel, _this._api, payload);\n        });\n        lifecycle.trigger('afterupdate', ecModel, this._api);\n      },\n      updateLayout: function (payload) {\n        updateMethods.update.call(this, payload);\n      }\n    };\n\n    doConvertPixel = function (ecIns, methodName, finder, value) {\n      if (ecIns._disposed) {\n        disposedWarning(ecIns.id);\n        return;\n      }\n\n      var ecModel = ecIns._model;\n\n      var coordSysList = ecIns._coordSysMgr.getCoordinateSystems();\n\n      var result;\n      var parsedFinder = modelUtil.parseFinder(ecModel, finder);\n\n      for (var i = 0; i < coordSysList.length; i++) {\n        var coordSys = coordSysList[i];\n\n        if (coordSys[methodName] && (result = coordSys[methodName](ecModel, parsedFinder, value)) != null) {\n          return result;\n        }\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('No coordinate system that supports ' + methodName + ' found by the given finder.');\n      }\n    };\n\n    updateStreamModes = function (ecIns, ecModel) {\n      var chartsMap = ecIns._chartsMap;\n      var scheduler = ecIns._scheduler;\n      ecModel.eachSeries(function (seriesModel) {\n        scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);\n      });\n    };\n\n    doDispatchAction = function (payload, silent) {\n      var _this = this;\n\n      var ecModel = this.getModel();\n      var payloadType = payload.type;\n      var escapeConnect = payload.escapeConnect;\n      var actionWrap = actions[payloadType];\n      var actionInfo = actionWrap.actionInfo;\n      var cptTypeTmp = (actionInfo.update || 'update').split(':');\n      var updateMethod = cptTypeTmp.pop();\n      var cptType = cptTypeTmp[0] != null && parseClassType(cptTypeTmp[0]);\n      this[IN_MAIN_PROCESS_KEY] = true;\n      var payloads = [payload];\n      var batched = false; // Batch action\n\n      if (payload.batch) {\n        batched = true;\n        payloads = map(payload.batch, function (item) {\n          item = defaults(extend({}, item), payload);\n          item.batch = null;\n          return item;\n        });\n      }\n\n      var eventObjBatch = [];\n      var eventObj;\n      var isSelectChange = isSelectChangePayload(payload);\n      var isHighDown = isHighDownPayload(payload); // Only leave blur once if there are multiple batches.\n\n      if (isHighDown) {\n        allLeaveBlur(this._api);\n      }\n\n      each(payloads, function (batchItem) {\n        // Action can specify the event by return it.\n        eventObj = actionWrap.action(batchItem, _this._model, _this._api); // Emit event outside\n\n        eventObj = eventObj || extend({}, batchItem); // Convert type to eventType\n\n        eventObj.type = actionInfo.event || eventObj.type;\n        eventObjBatch.push(eventObj); // light update does not perform data process, layout and visual.\n\n        if (isHighDown) {\n          var _a = modelUtil.preParseFinder(payload),\n              queryOptionMap = _a.queryOptionMap,\n              mainTypeSpecified = _a.mainTypeSpecified;\n\n          var componentMainType = mainTypeSpecified ? queryOptionMap.keys()[0] : 'series';\n          updateDirectly(_this, updateMethod, batchItem, componentMainType);\n          markStatusToUpdate(_this);\n        } else if (isSelectChange) {\n          // At present `dispatchAction({ type: 'select', ... })` is not supported on components.\n          // geo still use 'geoselect'.\n          updateDirectly(_this, updateMethod, batchItem, 'series');\n          markStatusToUpdate(_this);\n        } else if (cptType) {\n          updateDirectly(_this, updateMethod, batchItem, cptType.main, cptType.sub);\n        }\n      });\n\n      if (updateMethod !== 'none' && !isHighDown && !isSelectChange && !cptType) {\n        try {\n          // Still dirty\n          if (this[PENDING_UPDATE]) {\n            prepare(this);\n            updateMethods.update.call(this, payload);\n            this[PENDING_UPDATE] = null;\n          } else {\n            updateMethods[updateMethod].call(this, payload);\n          }\n        } catch (e) {\n          this[IN_MAIN_PROCESS_KEY] = false;\n          throw e;\n        }\n      } // Follow the rule of action batch\n\n\n      if (batched) {\n        eventObj = {\n          type: actionInfo.event || payloadType,\n          escapeConnect: escapeConnect,\n          batch: eventObjBatch\n        };\n      } else {\n        eventObj = eventObjBatch[0];\n      }\n\n      this[IN_MAIN_PROCESS_KEY] = false;\n\n      if (!silent) {\n        var messageCenter = this._messageCenter;\n        messageCenter.trigger(eventObj.type, eventObj); // Extra triggered 'selectchanged' event\n\n        if (isSelectChange) {\n          var newObj = {\n            type: 'selectchanged',\n            escapeConnect: escapeConnect,\n            selected: getAllSelectedIndices(ecModel),\n            isFromClick: payload.isFromClick || false,\n            fromAction: payload.type,\n            fromActionPayload: payload\n          };\n          messageCenter.trigger(newObj.type, newObj);\n        }\n      }\n    };\n\n    flushPendingActions = function (silent) {\n      var pendingActions = this._pendingActions;\n\n      while (pendingActions.length) {\n        var payload = pendingActions.shift();\n        doDispatchAction.call(this, payload, silent);\n      }\n    };\n\n    triggerUpdatedEvent = function (silent) {\n      !silent && this.trigger('updated');\n    };\n    /**\n     * Event `rendered` is triggered when zr\n     * rendered. It is useful for realtime\n     * snapshot (reflect animation).\n     *\n     * Event `finished` is triggered when:\n     * (1) zrender rendering finished.\n     * (2) initial animation finished.\n     * (3) progressive rendering finished.\n     * (4) no pending action.\n     * (5) no delayed setOption needs to be processed.\n     */\n\n\n    bindRenderedEvent = function (zr, ecIns) {\n      zr.on('rendered', function (params) {\n        ecIns.trigger('rendered', params); // The `finished` event should not be triggered repeatly,\n        // so it should only be triggered when rendering indeed happend\n        // in zrender. (Consider the case that dipatchAction is keep\n        // triggering when mouse move).\n\n        if ( // Although zr is dirty if initial animation is not finished\n        // and this checking is called on frame, we also check\n        // animation finished for robustness.\n        zr.animation.isFinished() && !ecIns[PENDING_UPDATE] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {\n          ecIns.trigger('finished');\n        }\n      });\n    };\n\n    bindMouseEvent = function (zr, ecIns) {\n      zr.on('mouseover', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, isHighDownDispatcher);\n\n        if (dispatcher) {\n          handleGlobalMouseOverForHighDown(dispatcher, e, ecIns._api);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('mouseout', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, isHighDownDispatcher);\n\n        if (dispatcher) {\n          handleGlobalMouseOutForHighDown(dispatcher, e, ecIns._api);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('click', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, function (target) {\n          return getECData(target).dataIndex != null;\n        }, true);\n\n        if (dispatcher) {\n          var actionType = dispatcher.selected ? 'unselect' : 'select';\n          var ecData = getECData(dispatcher);\n\n          ecIns._api.dispatchAction({\n            type: actionType,\n            dataType: ecData.dataType,\n            dataIndexInside: ecData.dataIndex,\n            seriesIndex: ecData.seriesIndex,\n            isFromClick: true\n          });\n        }\n      });\n    };\n\n    function clearColorPalette(ecModel) {\n      ecModel.clearColorPalette();\n      ecModel.eachSeries(function (seriesModel) {\n        seriesModel.clearColorPalette();\n      });\n    }\n\n    ; // Allocate zlevels for series and components\n\n    function allocateZlevels(ecModel) {\n      ;\n      var componentZLevels = [];\n      var seriesZLevels = [];\n      var hasSeperateZLevel = false;\n      ecModel.eachComponent(function (componentType, componentModel) {\n        var zlevel = componentModel.get('zlevel') || 0;\n        var z = componentModel.get('z') || 0;\n        var zlevelKey = componentModel.getZLevelKey();\n        hasSeperateZLevel = hasSeperateZLevel || !!zlevelKey;\n        (componentType === 'series' ? seriesZLevels : componentZLevels).push({\n          zlevel: zlevel,\n          z: z,\n          idx: componentModel.componentIndex,\n          type: componentType,\n          key: zlevelKey\n        });\n      });\n\n      if (hasSeperateZLevel) {\n        // Series after component\n        var zLevels = componentZLevels.concat(seriesZLevels);\n        var lastSeriesZLevel_1;\n        var lastSeriesKey_1;\n        timsort(zLevels, function (a, b) {\n          if (a.zlevel === b.zlevel) {\n            return a.z - b.z;\n          }\n\n          return a.zlevel - b.zlevel;\n        });\n        each(zLevels, function (item) {\n          var componentModel = ecModel.getComponent(item.type, item.idx);\n          var zlevel = item.zlevel;\n          var key = item.key;\n\n          if (lastSeriesZLevel_1 != null) {\n            zlevel = Math.max(lastSeriesZLevel_1, zlevel);\n          }\n\n          if (key) {\n            if (zlevel === lastSeriesZLevel_1 && key !== lastSeriesKey_1) {\n              zlevel++;\n            }\n\n            lastSeriesKey_1 = key;\n          } else if (lastSeriesKey_1) {\n            if (zlevel === lastSeriesZLevel_1) {\n              zlevel++;\n            }\n\n            lastSeriesKey_1 = '';\n          }\n\n          lastSeriesZLevel_1 = zlevel;\n          componentModel.setZLevel(zlevel);\n        });\n      }\n    }\n\n    render = function (ecIns, ecModel, api, payload, updateParams) {\n      allocateZlevels(ecModel);\n      renderComponents(ecIns, ecModel, api, payload, updateParams);\n      each(ecIns._chartsViews, function (chart) {\n        chart.__alive = false;\n      });\n      renderSeries(ecIns, ecModel, api, payload, updateParams); // Remove groups of unrendered charts\n\n      each(ecIns._chartsViews, function (chart) {\n        if (!chart.__alive) {\n          chart.remove(ecModel, api);\n        }\n      });\n    };\n\n    renderComponents = function (ecIns, ecModel, api, payload, updateParams, dirtyList) {\n      each(dirtyList || ecIns._componentsViews, function (componentView) {\n        var componentModel = componentView.__model;\n        clearStates(componentModel, componentView);\n        componentView.render(componentModel, ecModel, api, payload);\n        updateZ(componentModel, componentView);\n        updateStates(componentModel, componentView);\n      });\n    };\n    /**\n     * Render each chart and component\n     */\n\n\n    renderSeries = function (ecIns, ecModel, api, payload, updateParams, dirtyMap) {\n      // Render all charts\n      var scheduler = ecIns._scheduler;\n      updateParams = extend(updateParams || {}, {\n        updatedSeries: ecModel.getSeries()\n      }); // TODO progressive?\n\n      lifecycle.trigger('series:beforeupdate', ecModel, api, updateParams);\n      var unfinished = false;\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        chartView.__alive = true;\n        var renderTask = chartView.renderTask;\n        scheduler.updatePayload(renderTask, payload); // TODO states on marker.\n\n        clearStates(seriesModel, chartView);\n\n        if (dirtyMap && dirtyMap.get(seriesModel.uid)) {\n          renderTask.dirty();\n        }\n\n        if (renderTask.perform(scheduler.getPerformArgs(renderTask))) {\n          unfinished = true;\n        }\n\n        chartView.group.silent = !!seriesModel.get('silent'); // Should not call markRedraw on group, because it will disable zrender\n        // increamental render (alway render from the __startIndex each frame)\n        // chartView.group.markRedraw();\n\n        updateBlend(seriesModel, chartView);\n        updateSeriesElementSelection(seriesModel);\n      });\n      scheduler.unfinished = unfinished || scheduler.unfinished;\n      lifecycle.trigger('series:layoutlabels', ecModel, api, updateParams); // transition after label is layouted.\n\n      lifecycle.trigger('series:transition', ecModel, api, updateParams);\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId]; // Update Z after labels updated. Before applying states.\n\n        updateZ(seriesModel, chartView); // NOTE: Update states after label is updated.\n        // label should be in normal status when layouting.\n\n        updateStates(seriesModel, chartView);\n      }); // If use hover layer\n\n      updateHoverLayerStatus(ecIns, ecModel);\n      lifecycle.trigger('series:afterupdate', ecModel, api, updateParams);\n    };\n\n    markStatusToUpdate = function (ecIns) {\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = true; // Wake up zrender if it's sleep. Let it update states in the next frame.\n\n      ecIns.getZr().wakeUp();\n    };\n\n    applyChangedStates = function (ecIns) {\n      if (!ecIns[STATUS_NEEDS_UPDATE_KEY]) {\n        return;\n      }\n\n      ecIns.getZr().storage.traverse(function (el) {\n        // Not applied on removed elements, it may still in fading.\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n\n        applyElementStates(el);\n      });\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = false;\n    };\n\n    function applyElementStates(el) {\n      var newStates = [];\n      var oldStates = el.currentStates; // Keep other states.\n\n      for (var i = 0; i < oldStates.length; i++) {\n        var stateName = oldStates[i];\n\n        if (!(stateName === 'emphasis' || stateName === 'blur' || stateName === 'select')) {\n          newStates.push(stateName);\n        }\n      } // Only use states when it's exists.\n\n\n      if (el.selected && el.states.select) {\n        newStates.push('select');\n      }\n\n      if (el.hoverState === HOVER_STATE_EMPHASIS && el.states.emphasis) {\n        newStates.push('emphasis');\n      } else if (el.hoverState === HOVER_STATE_BLUR && el.states.blur) {\n        newStates.push('blur');\n      }\n\n      el.useStates(newStates);\n    }\n\n    function updateHoverLayerStatus(ecIns, ecModel) {\n      var zr = ecIns._zr;\n      var storage = zr.storage;\n      var elCount = 0;\n      storage.traverse(function (el) {\n        if (!el.isGroup) {\n          elCount++;\n        }\n      });\n\n      if (elCount > ecModel.get('hoverLayerThreshold') && !env.node && !env.worker) {\n        ecModel.eachSeries(function (seriesModel) {\n          if (seriesModel.preventUsingHoverLayer) {\n            return;\n          }\n\n          var chartView = ecIns._chartsMap[seriesModel.__viewId];\n\n          if (chartView.__alive) {\n            chartView.eachRendered(function (el) {\n              if (el.states.emphasis) {\n                el.states.emphasis.hoverLayer = true;\n              }\n            });\n          }\n        });\n      }\n    }\n\n    ;\n    /**\n     * Update chart and blend.\n     */\n\n    function updateBlend(seriesModel, chartView) {\n      var blendMode = seriesModel.get('blendMode') || null;\n      chartView.eachRendered(function (el) {\n        // FIXME marker and other components\n        if (!el.isGroup) {\n          // DONT mark the element dirty. In case element is incremental and don't wan't to rerender.\n          el.style.blend = blendMode;\n        }\n      });\n    }\n\n    ;\n\n    function updateZ(model, view) {\n      if (model.preventAutoZ) {\n        return;\n      }\n\n      var z = model.get('z') || 0;\n      var zlevel = model.get('zlevel') || 0; // Set z and zlevel\n\n      view.eachRendered(function (el) {\n        doUpdateZ(el, z, zlevel, -Infinity); // Don't traverse the children because it has been traversed in _updateZ.\n\n        return true;\n      });\n    }\n\n    ;\n\n    function doUpdateZ(el, z, zlevel, maxZ2) {\n      // Group may also have textContent\n      var label = el.getTextContent();\n      var labelLine = el.getTextGuideLine();\n      var isGroup = el.isGroup;\n\n      if (isGroup) {\n        // set z & zlevel of children elements of Group\n        var children = el.childrenRef();\n\n        for (var i = 0; i < children.length; i++) {\n          maxZ2 = Math.max(doUpdateZ(children[i], z, zlevel, maxZ2), maxZ2);\n        }\n      } else {\n        // not Group\n        el.z = z;\n        el.zlevel = zlevel;\n        maxZ2 = Math.max(el.z2, maxZ2);\n      } // always set z and zlevel if label/labelLine exists\n\n\n      if (label) {\n        label.z = z;\n        label.zlevel = zlevel; // lift z2 of text content\n        // TODO if el.emphasis.z2 is spcefied, what about textContent.\n\n        isFinite(maxZ2) && (label.z2 = maxZ2 + 2);\n      }\n\n      if (labelLine) {\n        var textGuideLineConfig = el.textGuideLineConfig;\n        labelLine.z = z;\n        labelLine.zlevel = zlevel;\n        isFinite(maxZ2) && (labelLine.z2 = maxZ2 + (textGuideLineConfig && textGuideLineConfig.showAbove ? 1 : -1));\n      }\n\n      return maxZ2;\n    } // Clear states without animation.\n    // TODO States on component.\n\n\n    function clearStates(model, view) {\n      view.eachRendered(function (el) {\n        // Not applied on removed elements, it may still in fading.\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n\n        var textContent = el.getTextContent();\n        var textGuide = el.getTextGuideLine();\n\n        if (el.stateTransition) {\n          el.stateTransition = null;\n        }\n\n        if (textContent && textContent.stateTransition) {\n          textContent.stateTransition = null;\n        }\n\n        if (textGuide && textGuide.stateTransition) {\n          textGuide.stateTransition = null;\n        } // TODO If el is incremental.\n\n\n        if (el.hasState()) {\n          el.prevStates = el.currentStates;\n          el.clearStates();\n        } else if (el.prevStates) {\n          el.prevStates = null;\n        }\n      });\n    }\n\n    function updateStates(model, view) {\n      var stateAnimationModel = model.getModel('stateAnimation');\n      var enableAnimation = model.isAnimationEnabled();\n      var duration = stateAnimationModel.get('duration');\n      var stateTransition = duration > 0 ? {\n        duration: duration,\n        delay: stateAnimationModel.get('delay'),\n        easing: stateAnimationModel.get('easing') // additive: stateAnimationModel.get('additive')\n\n      } : null;\n      view.eachRendered(function (el) {\n        if (el.states && el.states.emphasis) {\n          // Not applied on removed elements, it may still in fading.\n          if (graphic.isElementRemoved(el)) {\n            return;\n          }\n\n          if (el instanceof graphic.Path) {\n            savePathStates(el);\n          } // Only updated on changed element. In case element is incremental and don't wan't to rerender.\n          // TODO, a more proper way?\n\n\n          if (el.__dirty) {\n            var prevStates = el.prevStates; // Restore states without animation\n\n            if (prevStates) {\n              el.useStates(prevStates);\n            }\n          } // Update state transition and enable animation again.\n\n\n          if (enableAnimation) {\n            el.stateTransition = stateTransition;\n            var textContent = el.getTextContent();\n            var textGuide = el.getTextGuideLine(); // TODO Is it necessary to animate label?\n\n            if (textContent) {\n              textContent.stateTransition = stateTransition;\n            }\n\n            if (textGuide) {\n              textGuide.stateTransition = stateTransition;\n            }\n          } // The use higlighted and selected flag to toggle states.\n\n\n          if (el.__dirty) {\n            applyElementStates(el);\n          }\n        }\n      });\n    }\n\n    ;\n\n    createExtensionAPI = function (ecIns) {\n      return new (\n      /** @class */\n      function (_super) {\n        __extends(class_1, _super);\n\n        function class_1() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n\n        class_1.prototype.getCoordinateSystems = function () {\n          return ecIns._coordSysMgr.getCoordinateSystems();\n        };\n\n        class_1.prototype.getComponentByElement = function (el) {\n          while (el) {\n            var modelInfo = el.__ecComponentInfo;\n\n            if (modelInfo != null) {\n              return ecIns._model.getComponent(modelInfo.mainType, modelInfo.index);\n            }\n\n            el = el.parent;\n          }\n        };\n\n        class_1.prototype.enterEmphasis = function (el, highlightDigit) {\n          enterEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveEmphasis = function (el, highlightDigit) {\n          leaveEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.enterBlur = function (el) {\n          enterBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveBlur = function (el) {\n          leaveBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.enterSelect = function (el) {\n          enterSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.leaveSelect = function (el) {\n          leaveSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n\n        class_1.prototype.getModel = function () {\n          return ecIns.getModel();\n        };\n\n        class_1.prototype.getViewOfComponentModel = function (componentModel) {\n          return ecIns.getViewOfComponentModel(componentModel);\n        };\n\n        class_1.prototype.getViewOfSeriesModel = function (seriesModel) {\n          return ecIns.getViewOfSeriesModel(seriesModel);\n        };\n\n        return class_1;\n      }(ExtensionAPI))(ecIns);\n    };\n\n    enableConnect = function (chart) {\n      function updateConnectedChartsStatus(charts, status) {\n        for (var i = 0; i < charts.length; i++) {\n          var otherChart = charts[i];\n          otherChart[CONNECT_STATUS_KEY] = status;\n        }\n      }\n\n      each(eventActionMap, function (actionType, eventType) {\n        chart._messageCenter.on(eventType, function (event) {\n          if (connectedGroups[chart.group] && chart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_PENDING) {\n            if (event && event.escapeConnect) {\n              return;\n            }\n\n            var action_1 = chart.makeActionFromEvent(event);\n            var otherCharts_1 = [];\n            each(instances, function (otherChart) {\n              if (otherChart !== chart && otherChart.group === chart.group) {\n                otherCharts_1.push(otherChart);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_PENDING);\n            each(otherCharts_1, function (otherChart) {\n              if (otherChart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_UPDATING) {\n                otherChart.dispatchAction(action_1);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_UPDATED);\n          }\n        });\n      });\n    };\n  }();\n\n  return ECharts;\n}(Eventful);\n\nvar echartsProto = ECharts.prototype;\nechartsProto.on = createRegisterEventWithLowercaseECharts('on');\nechartsProto.off = createRegisterEventWithLowercaseECharts('off');\n/**\n * @deprecated\n */\n// @ts-ignore\n\nechartsProto.one = function (eventName, cb, ctx) {\n  var self = this;\n  deprecateLog('ECharts#one is deprecated.');\n\n  function wrapped() {\n    var args2 = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args2[_i] = arguments[_i];\n    }\n\n    cb && cb.apply && cb.apply(this, args2); // @ts-ignore\n\n    self.off(eventName, wrapped);\n  }\n\n  ; // @ts-ignore\n\n  this.on.call(this, eventName, wrapped, ctx);\n};\n\nvar MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\n\nfunction disposedWarning(id) {\n  if (process.env.NODE_ENV !== 'production') {\n    console.warn('Instance ' + id + ' has been disposed');\n  }\n}\n\nvar actions = {};\n/**\n * Map eventType to actionType\n */\n\nvar eventActionMap = {};\nvar dataProcessorFuncs = [];\nvar optionPreprocessorFuncs = [];\nvar visualFuncs = [];\nvar themeStorage = {};\nvar loadingEffects = {};\nvar instances = {};\nvar connectedGroups = {};\nvar idBase = +new Date() - 0;\nvar groupIdBase = +new Date() - 0;\nvar DOM_ATTRIBUTE_KEY = '_echarts_instance_';\n/**\n * @param opts.devicePixelRatio Use window.devicePixelRatio by default\n * @param opts.renderer Can choose 'canvas' or 'svg' to render the chart.\n * @param opts.width Use clientWidth of the input `dom` by default.\n *        Can be 'auto' (the same as null/undefined)\n * @param opts.height Use clientHeight of the input `dom` by default.\n *        Can be 'auto' (the same as null/undefined)\n * @param opts.locale Specify the locale.\n * @param opts.useDirtyRect Enable dirty rectangle rendering or not.\n */\n\nexport function init(dom, theme, opts) {\n  var isClient = !(opts && opts.ssr);\n\n  if (isClient) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!dom) {\n        throw new Error('Initialize failed: invalid dom.');\n      }\n    }\n\n    var existInstance = getInstanceByDom(dom);\n\n    if (existInstance) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('There is a chart instance already initialized on the dom.');\n      }\n\n      return existInstance;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (isDom(dom) && dom.nodeName.toUpperCase() !== 'CANVAS' && (!dom.clientWidth && (!opts || opts.width == null) || !dom.clientHeight && (!opts || opts.height == null))) {\n        console.warn('Can\\'t get DOM width or height. Please check ' + 'dom.clientWidth and dom.clientHeight. They should not be 0.' + 'For example, you may need to call this in the callback ' + 'of window.onload.');\n      }\n    }\n  }\n\n  var chart = new ECharts(dom, theme, opts);\n  chart.id = 'ec_' + idBase++;\n  instances[chart.id] = chart;\n  isClient && modelUtil.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);\n  enableConnect(chart);\n  lifecycle.trigger('afterinit', chart);\n  return chart;\n}\n/**\n * @usage\n * (A)\n * ```js\n * let chart1 = echarts.init(dom1);\n * let chart2 = echarts.init(dom2);\n * chart1.group = 'xxx';\n * chart2.group = 'xxx';\n * echarts.connect('xxx');\n * ```\n * (B)\n * ```js\n * let chart1 = echarts.init(dom1);\n * let chart2 = echarts.init(dom2);\n * echarts.connect('xxx', [chart1, chart2]);\n * ```\n */\n\nexport function connect(groupId) {\n  // Is array of charts\n  if (isArray(groupId)) {\n    var charts = groupId;\n    groupId = null; // If any chart has group\n\n    each(charts, function (chart) {\n      if (chart.group != null) {\n        groupId = chart.group;\n      }\n    });\n    groupId = groupId || 'g_' + groupIdBase++;\n    each(charts, function (chart) {\n      chart.group = groupId;\n    });\n  }\n\n  connectedGroups[groupId] = true;\n  return groupId;\n}\n/**\n * @deprecated\n */\n\nexport function disConnect(groupId) {\n  connectedGroups[groupId] = false;\n}\n/**\n * Alias and backword compat\n */\n\nexport var disconnect = disConnect;\n/**\n * Dispose a chart instance\n */\n\nexport function dispose(chart) {\n  if (isString(chart)) {\n    chart = instances[chart];\n  } else if (!(chart instanceof ECharts)) {\n    // Try to treat as dom\n    chart = getInstanceByDom(chart);\n  }\n\n  if (chart instanceof ECharts && !chart.isDisposed()) {\n    chart.dispose();\n  }\n}\nexport function getInstanceByDom(dom) {\n  return instances[modelUtil.getAttribute(dom, DOM_ATTRIBUTE_KEY)];\n}\nexport function getInstanceById(key) {\n  return instances[key];\n}\n/**\n * Register theme\n */\n\nexport function registerTheme(name, theme) {\n  themeStorage[name] = theme;\n}\n/**\n * Register option preprocessor\n */\n\nexport function registerPreprocessor(preprocessorFunc) {\n  if (indexOf(optionPreprocessorFuncs, preprocessorFunc) < 0) {\n    optionPreprocessorFuncs.push(preprocessorFunc);\n  }\n}\nexport function registerProcessor(priority, processor) {\n  normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_DEFAULT);\n}\n/**\n * Register postIniter\n * @param {Function} postInitFunc\n */\n\nexport function registerPostInit(postInitFunc) {\n  registerUpdateLifecycle('afterinit', postInitFunc);\n}\n/**\n * Register postUpdater\n * @param {Function} postUpdateFunc\n */\n\nexport function registerPostUpdate(postUpdateFunc) {\n  registerUpdateLifecycle('afterupdate', postUpdateFunc);\n}\nexport function registerUpdateLifecycle(name, cb) {\n  lifecycle.on(name, cb);\n}\nexport function registerAction(actionInfo, eventName, action) {\n  if (isFunction(eventName)) {\n    action = eventName;\n    eventName = '';\n  }\n\n  var actionType = isObject(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {\n    event: eventName\n  }][0]; // Event name is all lowercase\n\n  actionInfo.event = (actionInfo.event || actionType).toLowerCase();\n  eventName = actionInfo.event;\n\n  if (eventActionMap[eventName]) {\n    // Already registered.\n    return;\n  } // Validate action type and event name.\n\n\n  assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\n\n  if (!actions[actionType]) {\n    actions[actionType] = {\n      action: action,\n      actionInfo: actionInfo\n    };\n  }\n\n  eventActionMap[eventName] = actionType;\n}\nexport function registerCoordinateSystem(type, coordSysCreator) {\n  CoordinateSystemManager.register(type, coordSysCreator);\n}\n/**\n * Get dimensions of specified coordinate system.\n * @param {string} type\n * @return {Array.<string|Object>}\n */\n\nexport function getCoordinateSystemDimensions(type) {\n  var coordSysCreator = CoordinateSystemManager.get(type);\n\n  if (coordSysCreator) {\n    return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\n  }\n}\nexport { registerLocale } from './locale.js';\n\nfunction registerLayout(priority, layoutTask) {\n  normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, 'layout');\n}\n\nfunction registerVisual(priority, visualTask) {\n  normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, 'visual');\n}\n\nexport { registerLayout, registerVisual };\nvar registeredTasks = [];\n\nfunction normalizeRegister(targetList, priority, fn, defaultPriority, visualType) {\n  if (isFunction(priority) || isObject(priority)) {\n    fn = priority;\n    priority = defaultPriority;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (isNaN(priority) || priority == null) {\n      throw new Error('Illegal priority');\n    } // Check duplicate\n\n\n    each(targetList, function (wrap) {\n      assert(wrap.__raw !== fn);\n    });\n  } // Already registered\n\n\n  if (indexOf(registeredTasks, fn) >= 0) {\n    return;\n  }\n\n  registeredTasks.push(fn);\n  var stageHandler = Scheduler.wrapStageHandler(fn, visualType);\n  stageHandler.__prio = priority;\n  stageHandler.__raw = fn;\n  targetList.push(stageHandler);\n}\n\nexport function registerLoading(name, loadingFx) {\n  loadingEffects[name] = loadingFx;\n}\n/**\n * ZRender need a canvas context to do measureText.\n * But in node environment canvas may be created by node-canvas.\n * So we need to specify how to create a canvas instead of using document.createElement('canvas')\n *\n *\n * @deprecated use setPlatformAPI({ createCanvas }) instead.\n *\n * @example\n *     let Canvas = require('canvas');\n *     let echarts = require('echarts');\n *     echarts.setCanvasCreator(function () {\n *         // Small size is enough.\n *         return new Canvas(32, 32);\n *     });\n */\n\nexport function setCanvasCreator(creator) {\n  if (process.env.NODE_ENV !== 'production') {\n    deprecateLog('setCanvasCreator is deprecated. Use setPlatformAPI({ createCanvas }) instead.');\n  }\n\n  setPlatformAPI({\n    createCanvas: creator\n  });\n}\n/**\n * The parameters and usage: see `geoSourceManager.registerMap`.\n * Compatible with previous `echarts.registerMap`.\n */\n\nexport function registerMap(mapName, geoJson, specialAreas) {\n  var registerMap = getImpl('registerMap');\n  registerMap && registerMap(mapName, geoJson, specialAreas);\n}\nexport function getMap(mapName) {\n  var getMap = getImpl('getMap');\n  return getMap && getMap(mapName);\n}\nexport var registerTransform = registerExternalTransform;\n/**\n * Globa dispatchAction to a specified chart instance.\n */\n// export function dispatchAction(payload: { chartId: string } & Payload, opt?: Parameters<ECharts['dispatchAction']>[1]) {\n//     if (!payload || !payload.chartId) {\n//         // Must have chartId to find chart\n//         return;\n//     }\n//     const chart = instances[payload.chartId];\n//     if (chart) {\n//         chart.dispatchAction(payload, opt);\n//     }\n// }\n// Buitlin global visual\n\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataColorPaletteTask);\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesSymbolTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataSymbolTask);\nregisterVisual(PRIORITY_VISUAL_DECAL, decal);\nregisterPreprocessor(backwardCompat);\nregisterProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack);\nregisterLoading('default', loadingDefault); // Default actions\n\nregisterAction({\n  type: HIGHLIGHT_ACTION_TYPE,\n  event: HIGHLIGHT_ACTION_TYPE,\n  update: HIGHLIGHT_ACTION_TYPE\n}, noop);\nregisterAction({\n  type: DOWNPLAY_ACTION_TYPE,\n  event: DOWNPLAY_ACTION_TYPE,\n  update: DOWNPLAY_ACTION_TYPE\n}, noop);\nregisterAction({\n  type: SELECT_ACTION_TYPE,\n  event: SELECT_ACTION_TYPE,\n  update: SELECT_ACTION_TYPE\n}, noop);\nregisterAction({\n  type: UNSELECT_ACTION_TYPE,\n  event: UNSELECT_ACTION_TYPE,\n  update: UNSELECT_ACTION_TYPE\n}, noop);\nregisterAction({\n  type: TOGGLE_SELECT_ACTION_TYPE,\n  event: TOGGLE_SELECT_ACTION_TYPE,\n  update: TOGGLE_SELECT_ACTION_TYPE\n}, noop); // Default theme\n\nregisterTheme('light', lightTheme);\nregisterTheme('dark', darkTheme); // For backward compatibility, where the namespace `dataTool` will\n// be mounted on `echarts` is the extension `dataTool` is imported.\n\nexport var dataTool = {};", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, createHashMap, assert, map } from 'zrender/lib/core/util.js';\nimport { VISUAL_DIMENSIONS } from '../../util/types.js';\n\nvar DimensionUserOuput =\n/** @class */\nfunction () {\n  function DimensionUserOuput(encode, dimRequest) {\n    this._encode = encode;\n    this._schema = dimRequest;\n  }\n\n  DimensionUserOuput.prototype.get = function () {\n    return {\n      // Do not generate full dimension name until fist used.\n      fullDimensions: this._getFullDimensionNames(),\n      encode: this._encode\n    };\n  };\n  /**\n   * Get all data store dimension names.\n   * Theoretically a series data store is defined both by series and used dataset (if any).\n   * If some dimensions are omitted for performance reason in `this.dimensions`,\n   * the dimension name may not be auto-generated if user does not specify a dimension name.\n   * In this case, the dimension name is `null`/`undefined`.\n   */\n\n\n  DimensionUserOuput.prototype._getFullDimensionNames = function () {\n    if (!this._cachedDimNames) {\n      this._cachedDimNames = this._schema ? this._schema.makeOutputDimensionNames() : [];\n    }\n\n    return this._cachedDimNames;\n  };\n\n  return DimensionUserOuput;\n}();\n\n;\nexport function summarizeDimensions(data, schema) {\n  var summary = {};\n  var encode = summary.encode = {};\n  var notExtraCoordDimMap = createHashMap();\n  var defaultedLabel = [];\n  var defaultedTooltip = [];\n  var userOutputEncode = {};\n  each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var coordDim = dimItem.coordDim;\n\n    if (coordDim) {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(VISUAL_DIMENSIONS.get(coordDim) == null);\n      }\n\n      var coordDimIndex = dimItem.coordDimIndex;\n      getOrCreateEncodeArr(encode, coordDim)[coordDimIndex] = dimName;\n\n      if (!dimItem.isExtraCoord) {\n        notExtraCoordDimMap.set(coordDim, 1); // Use the last coord dim (and label friendly) as default label,\n        // because when dataset is used, it is hard to guess which dimension\n        // can be value dimension. If both show x, y on label is not look good,\n        // and conventionally y axis is focused more.\n\n        if (mayLabelDimType(dimItem.type)) {\n          defaultedLabel[0] = dimName;\n        } // User output encode do not contain generated coords.\n        // And it only has index. User can use index to retrieve value from the raw item array.\n\n\n        getOrCreateEncodeArr(userOutputEncode, coordDim)[coordDimIndex] = data.getDimensionIndex(dimItem.name);\n      }\n\n      if (dimItem.defaultTooltip) {\n        defaultedTooltip.push(dimName);\n      }\n    }\n\n    VISUAL_DIMENSIONS.each(function (v, otherDim) {\n      var encodeArr = getOrCreateEncodeArr(encode, otherDim);\n      var dimIndex = dimItem.otherDims[otherDim];\n\n      if (dimIndex != null && dimIndex !== false) {\n        encodeArr[dimIndex] = dimItem.name;\n      }\n    });\n  });\n  var dataDimsOnCoord = [];\n  var encodeFirstDimNotExtra = {};\n  notExtraCoordDimMap.each(function (v, coordDim) {\n    var dimArr = encode[coordDim];\n    encodeFirstDimNotExtra[coordDim] = dimArr[0]; // Not necessary to remove duplicate, because a data\n    // dim canot on more than one coordDim.\n\n    dataDimsOnCoord = dataDimsOnCoord.concat(dimArr);\n  });\n  summary.dataDimsOnCoord = dataDimsOnCoord;\n  summary.dataDimIndicesOnCoord = map(dataDimsOnCoord, function (dimName) {\n    return data.getDimensionInfo(dimName).storeDimIndex;\n  });\n  summary.encodeFirstDimNotExtra = encodeFirstDimNotExtra;\n  var encodeLabel = encode.label; // FIXME `encode.label` is not recommanded, because formatter can not be set\n  // in this way. Use label.formatter instead. May be remove this approach someday.\n\n  if (encodeLabel && encodeLabel.length) {\n    defaultedLabel = encodeLabel.slice();\n  }\n\n  var encodeTooltip = encode.tooltip;\n\n  if (encodeTooltip && encodeTooltip.length) {\n    defaultedTooltip = encodeTooltip.slice();\n  } else if (!defaultedTooltip.length) {\n    defaultedTooltip = defaultedLabel.slice();\n  }\n\n  encode.defaultedLabel = defaultedLabel;\n  encode.defaultedTooltip = defaultedTooltip;\n  summary.userOutput = new DimensionUserOuput(userOutputEncode, schema);\n  return summary;\n}\n\nfunction getOrCreateEncodeArr(encode, dim) {\n  if (!encode.hasOwnProperty(dim)) {\n    encode[dim] = [];\n  }\n\n  return encode[dim];\n} // FIXME:TS should be type `AxisType`\n\n\nexport function getDimensionTypeByAxis(axisType) {\n  return axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float';\n}\n\nfunction mayLabelDimType(dimType) {\n  // In most cases, ordinal and time do not suitable for label.\n  // Ordinal info can be displayed on axis. Time is too long.\n  return !(dimType === 'ordinal' || dimType === 'time');\n} // function findTheLastDimMayLabel(data) {\n//     // Get last value dim\n//     let dimensions = data.dimensions.slice();\n//     let valueType;\n//     let valueDim;\n//     while (dimensions.length && (\n//         valueDim = dimensions.pop(),\n//         valueType = data.getDimensionInfo(valueDim).type,\n//         valueType === 'ordinal' || valueType === 'time'\n//     )) {} // jshint ignore:line\n//     return valueDim;\n// }", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\n\nvar SeriesDimensionDefine =\n/** @class */\nfunction () {\n  /**\n   * @param opt All of the fields will be shallow copied.\n   */\n  function SeriesDimensionDefine(opt) {\n    /**\n     * The format of `otherDims` is:\n     * ```js\n     * {\n     *     tooltip?: number\n     *     label?: number\n     *     itemName?: number\n     *     seriesName?: number\n     * }\n     * ```\n     *\n     * A `series.encode` can specified these fields:\n     * ```js\n     * encode: {\n     *     // \"3, 1, 5\" is the index of data dimension.\n     *     tooltip: [3, 1, 5],\n     *     label: [0, 3],\n     *     ...\n     * }\n     * ```\n     * `otherDims` is the parse result of the `series.encode` above, like:\n     * ```js\n     * // Suppose the index of this data dimension is `3`.\n     * this.otherDims = {\n     *     // `3` is at the index `0` of the `encode.tooltip`\n     *     tooltip: 0,\n     *     // `3` is at the index `1` of the `encode.label`\n     *     label: 1\n     * };\n     * ```\n     *\n     * This prop should never be `null`/`undefined` after initialized.\n     */\n    this.otherDims = {};\n\n    if (opt != null) {\n      zrUtil.extend(this, opt);\n    }\n  }\n\n  return SeriesDimensionDefine;\n}();\n\n;\nexport default SeriesDimensionDefine;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, isObject, retrieve2 } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nimport { shouldRetrieveDataByName } from '../Source.js';\nvar inner = makeInner();\nvar dimTypeShort = {\n  float: 'f',\n  int: 'i',\n  ordinal: 'o',\n  number: 'n',\n  time: 't'\n};\n/**\n * Represents the dimension requirement of a series.\n *\n * NOTICE:\n * When there are too many dimensions in dataset and many series, only the used dimensions\n * (i.e., used by coord sys and declared in `series.encode`) are add to `dimensionDefineList`.\n * But users may query data by other unused dimension names.\n * In this case, users can only query data if and only if they have defined dimension names\n * via ec option, so we provide `getDimensionIndexFromSource`, which only query them from\n * `source` dimensions.\n */\n\nvar SeriesDataSchema =\n/** @class */\nfunction () {\n  function SeriesDataSchema(opt) {\n    this.dimensions = opt.dimensions;\n    this._dimOmitted = opt.dimensionOmitted;\n    this.source = opt.source;\n    this._fullDimCount = opt.fullDimensionCount;\n\n    this._updateDimOmitted(opt.dimensionOmitted);\n  }\n\n  SeriesDataSchema.prototype.isDimensionOmitted = function () {\n    return this._dimOmitted;\n  };\n\n  SeriesDataSchema.prototype._updateDimOmitted = function (dimensionOmitted) {\n    this._dimOmitted = dimensionOmitted;\n\n    if (!dimensionOmitted) {\n      return;\n    }\n\n    if (!this._dimNameMap) {\n      this._dimNameMap = ensureSourceDimNameMap(this.source);\n    }\n  };\n  /**\n   * @caution Can only be used when `dimensionOmitted: true`.\n   *\n   * Get index by user defined dimension name (i.e., not internal generate name).\n   * That is, get index from `dimensionsDefine`.\n   * If no `dimensionsDefine`, or no name get, return -1.\n   */\n\n\n  SeriesDataSchema.prototype.getSourceDimensionIndex = function (dimName) {\n    return retrieve2(this._dimNameMap.get(dimName), -1);\n  };\n  /**\n   * @caution Can only be used when `dimensionOmitted: true`.\n   *\n   * Notice: may return `null`/`undefined` if user not specify dimension names.\n   */\n\n\n  SeriesDataSchema.prototype.getSourceDimension = function (dimIndex) {\n    var dimensionsDefine = this.source.dimensionsDefine;\n\n    if (dimensionsDefine) {\n      return dimensionsDefine[dimIndex];\n    }\n  };\n\n  SeriesDataSchema.prototype.makeStoreSchema = function () {\n    var dimCount = this._fullDimCount;\n    var willRetrieveDataByName = shouldRetrieveDataByName(this.source);\n    var makeHashStrict = !shouldOmitUnusedDimensions(dimCount); // If source don't have dimensions or series don't omit unsed dimensions.\n    // Generate from seriesDimList directly\n\n    var dimHash = '';\n    var dims = [];\n\n    for (var fullDimIdx = 0, seriesDimIdx = 0; fullDimIdx < dimCount; fullDimIdx++) {\n      var property = void 0;\n      var type = void 0;\n      var ordinalMeta = void 0;\n      var seriesDimDef = this.dimensions[seriesDimIdx]; // The list has been sorted by `storeDimIndex` asc.\n\n      if (seriesDimDef && seriesDimDef.storeDimIndex === fullDimIdx) {\n        property = willRetrieveDataByName ? seriesDimDef.name : null;\n        type = seriesDimDef.type;\n        ordinalMeta = seriesDimDef.ordinalMeta;\n        seriesDimIdx++;\n      } else {\n        var sourceDimDef = this.getSourceDimension(fullDimIdx);\n\n        if (sourceDimDef) {\n          property = willRetrieveDataByName ? sourceDimDef.name : null;\n          type = sourceDimDef.type;\n        }\n      }\n\n      dims.push({\n        property: property,\n        type: type,\n        ordinalMeta: ordinalMeta\n      }); // If retrieving data by index,\n      //   use <index, type, ordinalMeta> to determine whether data can be shared.\n      //   (Becuase in this case there might be no dimension name defined in dataset, but indices always exists).\n      //   (indices are always 0, 1, 2, ..., so we can ignore them to shorten the hash).\n      // Otherwise if retrieving data by property name (like `data: [{aa: 123, bb: 765}, ...]`),\n      //   use <property, type, ordinalMeta> in hash.\n\n      if (willRetrieveDataByName && property != null // For data stack, we have make sure each series has its own dim on this store.\n      // So we do not add property to hash to make sure they can share this store.\n      && (!seriesDimDef || !seriesDimDef.isCalculationCoord)) {\n        dimHash += makeHashStrict // Use escape character '`' in case that property name contains '$'.\n        ? property.replace(/\\`/g, '`1').replace(/\\$/g, '`2') // For better performance, when there are large dimensions, tolerant this defects that hardly meet.\n        : property;\n      }\n\n      dimHash += '$';\n      dimHash += dimTypeShort[type] || 'f';\n\n      if (ordinalMeta) {\n        dimHash += ordinalMeta.uid;\n      }\n\n      dimHash += '$';\n    } // Source from endpoint(usually series) will be read differently\n    // when seriesLayoutBy or startIndex(which is affected by sourceHeader) are different.\n    // So we use this three props as key.\n\n\n    var source = this.source;\n    var hash = [source.seriesLayoutBy, source.startIndex, dimHash].join('$$');\n    return {\n      dimensions: dims,\n      hash: hash\n    };\n  };\n\n  SeriesDataSchema.prototype.makeOutputDimensionNames = function () {\n    var result = [];\n\n    for (var fullDimIdx = 0, seriesDimIdx = 0; fullDimIdx < this._fullDimCount; fullDimIdx++) {\n      var name_1 = void 0;\n      var seriesDimDef = this.dimensions[seriesDimIdx]; // The list has been sorted by `storeDimIndex` asc.\n\n      if (seriesDimDef && seriesDimDef.storeDimIndex === fullDimIdx) {\n        if (!seriesDimDef.isCalculationCoord) {\n          name_1 = seriesDimDef.name;\n        }\n\n        seriesDimIdx++;\n      } else {\n        var sourceDimDef = this.getSourceDimension(fullDimIdx);\n\n        if (sourceDimDef) {\n          name_1 = sourceDimDef.name;\n        }\n      }\n\n      result.push(name_1);\n    }\n\n    return result;\n  };\n\n  SeriesDataSchema.prototype.appendCalculationDimension = function (dimDef) {\n    this.dimensions.push(dimDef);\n    dimDef.isCalculationCoord = true;\n    this._fullDimCount++; // If append dimension on a data store, consider the store\n    // might be shared by different series, series dimensions not\n    // really map to store dimensions.\n\n    this._updateDimOmitted(true);\n  };\n\n  return SeriesDataSchema;\n}();\n\nexport { SeriesDataSchema };\nexport function isSeriesDataSchema(schema) {\n  return schema instanceof SeriesDataSchema;\n}\nexport function createDimNameMap(dimsDef) {\n  var dataDimNameMap = createHashMap();\n\n  for (var i = 0; i < (dimsDef || []).length; i++) {\n    var dimDefItemRaw = dimsDef[i];\n    var userDimName = isObject(dimDefItemRaw) ? dimDefItemRaw.name : dimDefItemRaw;\n\n    if (userDimName != null && dataDimNameMap.get(userDimName) == null) {\n      dataDimNameMap.set(userDimName, i);\n    }\n  }\n\n  return dataDimNameMap;\n}\nexport function ensureSourceDimNameMap(source) {\n  var innerSource = inner(source);\n  return innerSource.dimNameMap || (innerSource.dimNameMap = createDimNameMap(source.dimensionsDefine));\n}\nexport function shouldOmitUnusedDimensions(dimCount) {\n  return dimCount > 30;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Int32Array */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Model from '../model/Model.js';\nimport DataDiffer from './DataDiffer.js';\nimport { DefaultDataProvider } from './helper/dataProvider.js';\nimport { summarizeDimensions } from './helper/dimensionHelper.js';\nimport SeriesDimensionDefine from './SeriesDimensionDefine.js';\nimport { SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ORIGINAL } from '../util/types.js';\nimport { convertOptionIdName, isDataItemOption } from '../util/model.js';\nimport { setCommonECData } from '../util/innerStore.js';\nimport { isSourceInstance } from './Source.js';\nimport DataStore from './DataStore.js';\nimport { isSeriesDataSchema } from './helper/SeriesDataSchema.js';\nvar isObject = zrUtil.isObject;\nvar map = zrUtil.map;\nvar CtorInt32Array = typeof Int32Array === 'undefined' ? Array : Int32Array; // Use prefix to avoid index to be the same as otherIdList[idx],\n// which will cause weird udpate animation.\n\nvar ID_PREFIX = 'e\\0\\0';\nvar INDEX_NOT_FOUND = -1; // type SeriesDimensionIndex = DimensionIndex;\n\nvar TRANSFERABLE_PROPERTIES = ['hasItemOption', '_nameList', '_idList', '_invertedIndicesMap', '_dimSummary', 'userOutput', '_rawData', '_dimValueGetter', '_nameDimIdx', '_idDimIdx', '_nameRepeatCount'];\nvar CLONE_PROPERTIES = ['_approximateExtent']; // -----------------------------\n// Internal method declarations:\n// -----------------------------\n\nvar prepareInvertedIndex;\nvar getId;\nvar getIdNameFromStore;\nvar normalizeDimensions;\nvar transferProperties;\nvar cloneListForMapAndSample;\nvar makeIdFromName;\n\nvar SeriesData =\n/** @class */\nfunction () {\n  /**\n   * @param dimensionsInput.dimensions\n   *        For example, ['someDimName', {name: 'someDimName', type: 'someDimType'}, ...].\n   *        Dimensions should be concrete names like x, y, z, lng, lat, angle, radius\n   */\n  function SeriesData(dimensionsInput, hostModel) {\n    this.type = 'list';\n    this._dimOmitted = false;\n    this._nameList = [];\n    this._idList = []; // Models of data option is stored sparse for optimizing memory cost\n    // Never used yet (not used yet).\n    // private _optionModels: Model[] = [];\n    // Global visual properties after visual coding\n\n    this._visual = {}; // Globel layout properties.\n\n    this._layout = {}; // Item visual properties after visual coding\n\n    this._itemVisuals = []; // Item layout properties after layout\n\n    this._itemLayouts = []; // Graphic elemnents\n\n    this._graphicEls = []; // key: dim, value: extent\n\n    this._approximateExtent = {};\n    this._calculationInfo = {}; // Having detected that there is data item is non primitive type\n    // (in type `OptionDataItemObject`).\n    // Like `data: [ { value: xx, itemStyle: {...} }, ...]`\n    // At present it only happen in `SOURCE_FORMAT_ORIGINAL`.\n\n    this.hasItemOption = false; // Methods that create a new list based on this list should be listed here.\n    // Notice that those method should `RETURN` the new list.\n\n    this.TRANSFERABLE_METHODS = ['cloneShallow', 'downSample', 'lttbDownSample', 'map']; // Methods that change indices of this list should be listed here.\n\n    this.CHANGABLE_METHODS = ['filterSelf', 'selectRange'];\n    this.DOWNSAMPLE_METHODS = ['downSample', 'lttbDownSample'];\n    var dimensions;\n    var assignStoreDimIdx = false;\n\n    if (isSeriesDataSchema(dimensionsInput)) {\n      dimensions = dimensionsInput.dimensions;\n      this._dimOmitted = dimensionsInput.isDimensionOmitted();\n      this._schema = dimensionsInput;\n    } else {\n      assignStoreDimIdx = true;\n      dimensions = dimensionsInput;\n    }\n\n    dimensions = dimensions || ['x', 'y'];\n    var dimensionInfos = {};\n    var dimensionNames = [];\n    var invertedIndicesMap = {};\n    var needsHasOwn = false;\n    var emptyObj = {};\n\n    for (var i = 0; i < dimensions.length; i++) {\n      // Use the original dimensions[i], where other flag props may exists.\n      var dimInfoInput = dimensions[i];\n      var dimensionInfo = zrUtil.isString(dimInfoInput) ? new SeriesDimensionDefine({\n        name: dimInfoInput\n      }) : !(dimInfoInput instanceof SeriesDimensionDefine) ? new SeriesDimensionDefine(dimInfoInput) : dimInfoInput;\n      var dimensionName = dimensionInfo.name;\n      dimensionInfo.type = dimensionInfo.type || 'float';\n\n      if (!dimensionInfo.coordDim) {\n        dimensionInfo.coordDim = dimensionName;\n        dimensionInfo.coordDimIndex = 0;\n      }\n\n      var otherDims = dimensionInfo.otherDims = dimensionInfo.otherDims || {};\n      dimensionNames.push(dimensionName);\n      dimensionInfos[dimensionName] = dimensionInfo;\n\n      if (emptyObj[dimensionName] != null) {\n        needsHasOwn = true;\n      }\n\n      if (dimensionInfo.createInvertedIndices) {\n        invertedIndicesMap[dimensionName] = [];\n      }\n\n      if (otherDims.itemName === 0) {\n        this._nameDimIdx = i;\n      }\n\n      if (otherDims.itemId === 0) {\n        this._idDimIdx = i;\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        zrUtil.assert(assignStoreDimIdx || dimensionInfo.storeDimIndex >= 0);\n      }\n\n      if (assignStoreDimIdx) {\n        dimensionInfo.storeDimIndex = i;\n      }\n    }\n\n    this.dimensions = dimensionNames;\n    this._dimInfos = dimensionInfos;\n\n    this._initGetDimensionInfo(needsHasOwn);\n\n    this.hostModel = hostModel;\n    this._invertedIndicesMap = invertedIndicesMap;\n\n    if (this._dimOmitted) {\n      var dimIdxToName_1 = this._dimIdxToName = zrUtil.createHashMap();\n      zrUtil.each(dimensionNames, function (dimName) {\n        dimIdxToName_1.set(dimensionInfos[dimName].storeDimIndex, dimName);\n      });\n    }\n  }\n  /**\n   *\n   * Get concrete dimension name by dimension name or dimension index.\n   * If input a dimension name, do not validate whether the dimension name exits.\n   *\n   * @caution\n   * @param dim Must make sure the dimension is `SeriesDimensionLoose`.\n   * Because only those dimensions will have auto-generated dimension names if not\n   * have a user-specified name, and other dimensions will get a return of null/undefined.\n   *\n   * @notice Becuause of this reason, should better use `getDimensionIndex` instead, for examples:\n   * ```js\n   * const val = data.getStore().get(data.getDimensionIndex(dim), dataIdx);\n   * ```\n   *\n   * @return Concrete dim name.\n   */\n\n\n  SeriesData.prototype.getDimension = function (dim) {\n    var dimIdx = this._recognizeDimIndex(dim);\n\n    if (dimIdx == null) {\n      return dim;\n    }\n\n    dimIdx = dim;\n\n    if (!this._dimOmitted) {\n      return this.dimensions[dimIdx];\n    } // Retrieve from series dimension definition becuase it probably contains\n    // generated dimension name (like 'x', 'y').\n\n\n    var dimName = this._dimIdxToName.get(dimIdx);\n\n    if (dimName != null) {\n      return dimName;\n    }\n\n    var sourceDimDef = this._schema.getSourceDimension(dimIdx);\n\n    if (sourceDimDef) {\n      return sourceDimDef.name;\n    }\n  };\n  /**\n   * Get dimension index in data store. Return -1 if not found.\n   * Can be used to index value from getRawValue.\n   */\n\n\n  SeriesData.prototype.getDimensionIndex = function (dim) {\n    var dimIdx = this._recognizeDimIndex(dim);\n\n    if (dimIdx != null) {\n      return dimIdx;\n    }\n\n    if (dim == null) {\n      return -1;\n    }\n\n    var dimInfo = this._getDimInfo(dim);\n\n    return dimInfo ? dimInfo.storeDimIndex : this._dimOmitted ? this._schema.getSourceDimensionIndex(dim) : -1;\n  };\n  /**\n   * The meanings of the input parameter `dim`:\n   *\n   * + If dim is a number (e.g., `1`), it means the index of the dimension.\n   *   For example, `getDimension(0)` will return 'x' or 'lng' or 'radius'.\n   * + If dim is a number-like string (e.g., `\"1\"`):\n   *     + If there is the same concrete dim name defined in `series.dimensions` or `dataset.dimensions`,\n   *        it means that concrete name.\n   *     + If not, it will be converted to a number, which means the index of the dimension.\n   *        (why? because of the backward compatbility. We have been tolerating number-like string in\n   *        dimension setting, although now it seems that it is not a good idea.)\n   *     For example, `visualMap[i].dimension: \"1\"` is the same meaning as `visualMap[i].dimension: 1`,\n   *     if no dimension name is defined as `\"1\"`.\n   * + If dim is a not-number-like string, it means the concrete dim name.\n   *   For example, it can be be default name `\"x\"`, `\"y\"`, `\"z\"`, `\"lng\"`, `\"lat\"`, `\"angle\"`, `\"radius\"`,\n   *   or customized in `dimensions` property of option like `\"age\"`.\n   *\n   * @return recogonized `DimensionIndex`. Otherwise return null/undefined (means that dim is `DimensionName`).\n   */\n\n\n  SeriesData.prototype._recognizeDimIndex = function (dim) {\n    if (zrUtil.isNumber(dim) // If being a number-like string but not being defined as a dimension name.\n    || dim != null && !isNaN(dim) && !this._getDimInfo(dim) && (!this._dimOmitted || this._schema.getSourceDimensionIndex(dim) < 0)) {\n      return +dim;\n    }\n  };\n\n  SeriesData.prototype._getStoreDimIndex = function (dim) {\n    var dimIdx = this.getDimensionIndex(dim);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (dimIdx == null) {\n        throw new Error('Unkown dimension ' + dim);\n      }\n    }\n\n    return dimIdx;\n  };\n  /**\n   * Get type and calculation info of particular dimension\n   * @param dim\n   *        Dimension can be concrete names like x, y, z, lng, lat, angle, radius\n   *        Or a ordinal number. For example getDimensionInfo(0) will return 'x' or 'lng' or 'radius'\n   */\n\n\n  SeriesData.prototype.getDimensionInfo = function (dim) {\n    // Do not clone, because there may be categories in dimInfo.\n    return this._getDimInfo(this.getDimension(dim));\n  };\n\n  SeriesData.prototype._initGetDimensionInfo = function (needsHasOwn) {\n    var dimensionInfos = this._dimInfos;\n    this._getDimInfo = needsHasOwn ? function (dimName) {\n      return dimensionInfos.hasOwnProperty(dimName) ? dimensionInfos[dimName] : undefined;\n    } : function (dimName) {\n      return dimensionInfos[dimName];\n    };\n  };\n  /**\n   * concrete dimension name list on coord.\n   */\n\n\n  SeriesData.prototype.getDimensionsOnCoord = function () {\n    return this._dimSummary.dataDimsOnCoord.slice();\n  };\n\n  SeriesData.prototype.mapDimension = function (coordDim, idx) {\n    var dimensionsSummary = this._dimSummary;\n\n    if (idx == null) {\n      return dimensionsSummary.encodeFirstDimNotExtra[coordDim];\n    }\n\n    var dims = dimensionsSummary.encode[coordDim];\n    return dims ? dims[idx] : null;\n  };\n\n  SeriesData.prototype.mapDimensionsAll = function (coordDim) {\n    var dimensionsSummary = this._dimSummary;\n    var dims = dimensionsSummary.encode[coordDim];\n    return (dims || []).slice();\n  };\n\n  SeriesData.prototype.getStore = function () {\n    return this._store;\n  };\n  /**\n   * Initialize from data\n   * @param data source or data or data store.\n   * @param nameList The name of a datum is used on data diff and\n   *        default label/tooltip.\n   *        A name can be specified in encode.itemName,\n   *        or dataItem.name (only for series option data),\n   *        or provided in nameList from outside.\n   */\n\n\n  SeriesData.prototype.initData = function (data, nameList, dimValueGetter) {\n    var _this = this;\n\n    var store;\n\n    if (data instanceof DataStore) {\n      store = data;\n    }\n\n    if (!store) {\n      var dimensions = this.dimensions;\n      var provider = isSourceInstance(data) || zrUtil.isArrayLike(data) ? new DefaultDataProvider(data, dimensions.length) : data;\n      store = new DataStore();\n      var dimensionInfos = map(dimensions, function (dimName) {\n        return {\n          type: _this._dimInfos[dimName].type,\n          property: dimName\n        };\n      });\n      store.initData(provider, dimensionInfos, dimValueGetter);\n    }\n\n    this._store = store; // Reset\n\n    this._nameList = (nameList || []).slice();\n    this._idList = [];\n    this._nameRepeatCount = {};\n\n    this._doInit(0, store.count()); // Cache summary info for fast visit. See \"dimensionHelper\".\n    // Needs to be initialized after store is prepared.\n\n\n    this._dimSummary = summarizeDimensions(this, this._schema);\n    this.userOutput = this._dimSummary.userOutput;\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   */\n\n\n  SeriesData.prototype.appendData = function (data) {\n    var range = this._store.appendData(data);\n\n    this._doInit(range[0], range[1]);\n  };\n  /**\n   * Caution: Can be only called on raw data (before `this._indices` created).\n   * This method does not modify `rawData` (`dataProvider`), but only\n   * add values to store.\n   *\n   * The final count will be increased by `Math.max(values.length, names.length)`.\n   *\n   * @param values That is the SourceType: 'arrayRows', like\n   *        [\n   *            [12, 33, 44],\n   *            [NaN, 43, 1],\n   *            ['-', 'asdf', 0]\n   *        ]\n   *        Each item is exaclty cooresponding to a dimension.\n   */\n\n\n  SeriesData.prototype.appendValues = function (values, names) {\n    var _a = this._store.appendValues(values, names.length),\n        start = _a.start,\n        end = _a.end;\n\n    var shouldMakeIdFromName = this._shouldMakeIdFromName();\n\n    this._updateOrdinalMeta();\n\n    if (names) {\n      for (var idx = start; idx < end; idx++) {\n        var sourceIdx = idx - start;\n        this._nameList[idx] = names[sourceIdx];\n\n        if (shouldMakeIdFromName) {\n          makeIdFromName(this, idx);\n        }\n      }\n    }\n  };\n\n  SeriesData.prototype._updateOrdinalMeta = function () {\n    var store = this._store;\n    var dimensions = this.dimensions;\n\n    for (var i = 0; i < dimensions.length; i++) {\n      var dimInfo = this._dimInfos[dimensions[i]];\n\n      if (dimInfo.ordinalMeta) {\n        store.collectOrdinalMeta(dimInfo.storeDimIndex, dimInfo.ordinalMeta);\n      }\n    }\n  };\n\n  SeriesData.prototype._shouldMakeIdFromName = function () {\n    var provider = this._store.getProvider();\n\n    return this._idDimIdx == null && provider.getSource().sourceFormat !== SOURCE_FORMAT_TYPED_ARRAY && !provider.fillStorage;\n  };\n\n  SeriesData.prototype._doInit = function (start, end) {\n    if (start >= end) {\n      return;\n    }\n\n    var store = this._store;\n    var provider = store.getProvider();\n\n    this._updateOrdinalMeta();\n\n    var nameList = this._nameList;\n    var idList = this._idList;\n    var sourceFormat = provider.getSource().sourceFormat;\n    var isFormatOriginal = sourceFormat === SOURCE_FORMAT_ORIGINAL; // Each data item is value\n    // [1, 2]\n    // 2\n    // Bar chart, line chart which uses category axis\n    // only gives the 'y' value. 'x' value is the indices of category\n    // Use a tempValue to normalize the value to be a (x, y) value\n    // If dataItem is {name: ...} or {id: ...}, it has highest priority.\n    // This kind of ids and names are always stored `_nameList` and `_idList`.\n\n    if (isFormatOriginal && !provider.pure) {\n      var sharedDataItem = [];\n\n      for (var idx = start; idx < end; idx++) {\n        // NOTICE: Try not to write things into dataItem\n        var dataItem = provider.getItem(idx, sharedDataItem);\n\n        if (!this.hasItemOption && isDataItemOption(dataItem)) {\n          this.hasItemOption = true;\n        }\n\n        if (dataItem) {\n          var itemName = dataItem.name;\n\n          if (nameList[idx] == null && itemName != null) {\n            nameList[idx] = convertOptionIdName(itemName, null);\n          }\n\n          var itemId = dataItem.id;\n\n          if (idList[idx] == null && itemId != null) {\n            idList[idx] = convertOptionIdName(itemId, null);\n          }\n        }\n      }\n    }\n\n    if (this._shouldMakeIdFromName()) {\n      for (var idx = start; idx < end; idx++) {\n        makeIdFromName(this, idx);\n      }\n    }\n\n    prepareInvertedIndex(this);\n  };\n  /**\n   * PENDING: In fact currently this function is only used to short-circuit\n   * the calling of `scale.unionExtentFromData` when data have been filtered by modules\n   * like \"dataZoom\". `scale.unionExtentFromData` is used to calculate data extent for series on\n   * an axis, but if a \"axis related data filter module\" is used, the extent of the axis have\n   * been fixed and no need to calling `scale.unionExtentFromData` actually.\n   * But if we add \"custom data filter\" in future, which is not \"axis related\", this method may\n   * be still needed.\n   *\n   * Optimize for the scenario that data is filtered by a given extent.\n   * Consider that if data amount is more than hundreds of thousand,\n   * extent calculation will cost more than 10ms and the cache will\n   * be erased because of the filtering.\n   */\n\n\n  SeriesData.prototype.getApproximateExtent = function (dim) {\n    return this._approximateExtent[dim] || this._store.getDataExtent(this._getStoreDimIndex(dim));\n  };\n  /**\n   * Calculate extent on a filtered data might be time consuming.\n   * Approximate extent is only used for: calculte extent of filtered data outside.\n   */\n\n\n  SeriesData.prototype.setApproximateExtent = function (extent, dim) {\n    dim = this.getDimension(dim);\n    this._approximateExtent[dim] = extent.slice();\n  };\n\n  SeriesData.prototype.getCalculationInfo = function (key) {\n    return this._calculationInfo[key];\n  };\n\n  SeriesData.prototype.setCalculationInfo = function (key, value) {\n    isObject(key) ? zrUtil.extend(this._calculationInfo, key) : this._calculationInfo[key] = value;\n  };\n  /**\n   * @return Never be null/undefined. `number` will be converted to string. Becuase:\n   * In most cases, name is used in display, where returning a string is more convenient.\n   * In other cases, name is used in query (see `indexOfName`), where we can keep the\n   * rule that name `2` equals to name `'2'`.\n   */\n\n\n  SeriesData.prototype.getName = function (idx) {\n    var rawIndex = this.getRawIndex(idx);\n    var name = this._nameList[rawIndex];\n\n    if (name == null && this._nameDimIdx != null) {\n      name = getIdNameFromStore(this, this._nameDimIdx, rawIndex);\n    }\n\n    if (name == null) {\n      name = '';\n    }\n\n    return name;\n  };\n\n  SeriesData.prototype._getCategory = function (dimIdx, idx) {\n    var ordinal = this._store.get(dimIdx, idx);\n\n    var ordinalMeta = this._store.getOrdinalMeta(dimIdx);\n\n    if (ordinalMeta) {\n      return ordinalMeta.categories[ordinal];\n    }\n\n    return ordinal;\n  };\n  /**\n   * @return Never null/undefined. `number` will be converted to string. Becuase:\n   * In all cases having encountered at present, id is used in making diff comparison, which\n   * are usually based on hash map. We can keep the rule that the internal id are always string\n   * (treat `2` is the same as `'2'`) to make the related logic simple.\n   */\n\n\n  SeriesData.prototype.getId = function (idx) {\n    return getId(this, this.getRawIndex(idx));\n  };\n\n  SeriesData.prototype.count = function () {\n    return this._store.count();\n  };\n  /**\n   * Get value. Return NaN if idx is out of range.\n   *\n   * @notice Should better to use `data.getStore().get(dimIndex, dataIdx)` instead.\n   */\n\n\n  SeriesData.prototype.get = function (dim, idx) {\n    var store = this._store;\n    var dimInfo = this._dimInfos[dim];\n\n    if (dimInfo) {\n      return store.get(dimInfo.storeDimIndex, idx);\n    }\n  };\n  /**\n   * @notice Should better to use `data.getStore().getByRawIndex(dimIndex, dataIdx)` instead.\n   */\n\n\n  SeriesData.prototype.getByRawIndex = function (dim, rawIdx) {\n    var store = this._store;\n    var dimInfo = this._dimInfos[dim];\n\n    if (dimInfo) {\n      return store.getByRawIndex(dimInfo.storeDimIndex, rawIdx);\n    }\n  };\n\n  SeriesData.prototype.getIndices = function () {\n    return this._store.getIndices();\n  };\n\n  SeriesData.prototype.getDataExtent = function (dim) {\n    return this._store.getDataExtent(this._getStoreDimIndex(dim));\n  };\n\n  SeriesData.prototype.getSum = function (dim) {\n    return this._store.getSum(this._getStoreDimIndex(dim));\n  };\n\n  SeriesData.prototype.getMedian = function (dim) {\n    return this._store.getMedian(this._getStoreDimIndex(dim));\n  };\n\n  SeriesData.prototype.getValues = function (dimensions, idx) {\n    var _this = this;\n\n    var store = this._store;\n    return zrUtil.isArray(dimensions) ? store.getValues(map(dimensions, function (dim) {\n      return _this._getStoreDimIndex(dim);\n    }), idx) : store.getValues(dimensions);\n  };\n  /**\n   * If value is NaN. Inlcuding '-'\n   * Only check the coord dimensions.\n   */\n\n\n  SeriesData.prototype.hasValue = function (idx) {\n    var dataDimIndicesOnCoord = this._dimSummary.dataDimIndicesOnCoord;\n\n    for (var i = 0, len = dataDimIndicesOnCoord.length; i < len; i++) {\n      // Ordinal type originally can be string or number.\n      // But when an ordinal type is used on coord, it can\n      // not be string but only number. So we can also use isNaN.\n      if (isNaN(this._store.get(dataDimIndicesOnCoord[i], idx))) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n  /**\n   * Retreive the index with given name\n   */\n\n\n  SeriesData.prototype.indexOfName = function (name) {\n    for (var i = 0, len = this._store.count(); i < len; i++) {\n      if (this.getName(i) === name) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  SeriesData.prototype.getRawIndex = function (idx) {\n    return this._store.getRawIndex(idx);\n  };\n\n  SeriesData.prototype.indexOfRawIndex = function (rawIndex) {\n    return this._store.indexOfRawIndex(rawIndex);\n  };\n  /**\n   * Only support the dimension which inverted index created.\n   * Do not support other cases until required.\n   * @param dim concrete dim\n   * @param value ordinal index\n   * @return rawIndex\n   */\n\n\n  SeriesData.prototype.rawIndexOf = function (dim, value) {\n    var invertedIndices = dim && this._invertedIndicesMap[dim];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!invertedIndices) {\n        throw new Error('Do not supported yet');\n      }\n    }\n\n    var rawIndex = invertedIndices[value];\n\n    if (rawIndex == null || isNaN(rawIndex)) {\n      return INDEX_NOT_FOUND;\n    }\n\n    return rawIndex;\n  };\n  /**\n   * Retreive the index of nearest value\n   * @param dim\n   * @param value\n   * @param [maxDistance=Infinity]\n   * @return If and only if multiple indices has\n   *         the same value, they are put to the result.\n   */\n\n\n  SeriesData.prototype.indicesOfNearest = function (dim, value, maxDistance) {\n    return this._store.indicesOfNearest(this._getStoreDimIndex(dim), value, maxDistance);\n  };\n\n  SeriesData.prototype.each = function (dims, cb, ctx) {\n    'use strict';\n\n    if (zrUtil.isFunction(dims)) {\n      ctx = cb;\n      cb = dims;\n      dims = [];\n    } // ctxCompat just for compat echarts3\n\n\n    var fCtx = ctx || this;\n    var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);\n\n    this._store.each(dimIndices, fCtx ? zrUtil.bind(cb, fCtx) : cb);\n  };\n\n  SeriesData.prototype.filterSelf = function (dims, cb, ctx) {\n    'use strict';\n\n    if (zrUtil.isFunction(dims)) {\n      ctx = cb;\n      cb = dims;\n      dims = [];\n    } // ctxCompat just for compat echarts3\n\n\n    var fCtx = ctx || this;\n    var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);\n    this._store = this._store.filter(dimIndices, fCtx ? zrUtil.bind(cb, fCtx) : cb);\n    return this;\n  };\n  /**\n   * Select data in range. (For optimization of filter)\n   * (Manually inline code, support 5 million data filtering in data zoom.)\n   */\n\n\n  SeriesData.prototype.selectRange = function (range) {\n    'use strict';\n\n    var _this = this;\n\n    var innerRange = {};\n    var dims = zrUtil.keys(range);\n    var dimIndices = [];\n    zrUtil.each(dims, function (dim) {\n      var dimIdx = _this._getStoreDimIndex(dim);\n\n      innerRange[dimIdx] = range[dim];\n      dimIndices.push(dimIdx);\n    });\n    this._store = this._store.selectRange(innerRange);\n    return this;\n  };\n  /* eslint-enable max-len */\n\n\n  SeriesData.prototype.mapArray = function (dims, cb, ctx) {\n    'use strict';\n\n    if (zrUtil.isFunction(dims)) {\n      ctx = cb;\n      cb = dims;\n      dims = [];\n    } // ctxCompat just for compat echarts3\n\n\n    ctx = ctx || this;\n    var result = [];\n    this.each(dims, function () {\n      result.push(cb && cb.apply(this, arguments));\n    }, ctx);\n    return result;\n  };\n\n  SeriesData.prototype.map = function (dims, cb, ctx, ctxCompat) {\n    'use strict'; // ctxCompat just for compat echarts3\n\n    var fCtx = ctx || ctxCompat || this;\n    var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);\n    var list = cloneListForMapAndSample(this);\n    list._store = this._store.map(dimIndices, fCtx ? zrUtil.bind(cb, fCtx) : cb);\n    return list;\n  };\n\n  SeriesData.prototype.modify = function (dims, cb, ctx, ctxCompat) {\n    var _this = this; // ctxCompat just for compat echarts3\n\n\n    var fCtx = ctx || ctxCompat || this;\n\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.each(normalizeDimensions(dims), function (dim) {\n        var dimInfo = _this.getDimensionInfo(dim);\n\n        if (!dimInfo.isCalculationCoord) {\n          console.error('Danger: only stack dimension can be modified');\n        }\n      });\n    }\n\n    var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this); // If do shallow clone here, if there are too many stacked series,\n    // it still cost lots of memory, becuase `_store.dimensions` are not shared.\n    // We should consider there probably be shallow clone happen in each sereis\n    // in consequent filter/map.\n\n    this._store.modify(dimIndices, fCtx ? zrUtil.bind(cb, fCtx) : cb);\n  };\n  /**\n   * Large data down sampling on given dimension\n   * @param sampleIndex Sample index for name and id\n   */\n\n\n  SeriesData.prototype.downSample = function (dimension, rate, sampleValue, sampleIndex) {\n    var list = cloneListForMapAndSample(this);\n    list._store = this._store.downSample(this._getStoreDimIndex(dimension), rate, sampleValue, sampleIndex);\n    return list;\n  };\n  /**\n   * Large data down sampling using largest-triangle-three-buckets\n   * @param {string} valueDimension\n   * @param {number} targetCount\n   */\n\n\n  SeriesData.prototype.lttbDownSample = function (valueDimension, rate) {\n    var list = cloneListForMapAndSample(this);\n    list._store = this._store.lttbDownSample(this._getStoreDimIndex(valueDimension), rate);\n    return list;\n  };\n\n  SeriesData.prototype.getRawDataItem = function (idx) {\n    return this._store.getRawDataItem(idx);\n  };\n  /**\n   * Get model of one data item.\n   */\n  // TODO: Type of data item\n\n\n  SeriesData.prototype.getItemModel = function (idx) {\n    var hostModel = this.hostModel;\n    var dataItem = this.getRawDataItem(idx);\n    return new Model(dataItem, hostModel, hostModel && hostModel.ecModel);\n  };\n  /**\n   * Create a data differ\n   */\n\n\n  SeriesData.prototype.diff = function (otherList) {\n    var thisList = this;\n    return new DataDiffer(otherList ? otherList.getStore().getIndices() : [], this.getStore().getIndices(), function (idx) {\n      return getId(otherList, idx);\n    }, function (idx) {\n      return getId(thisList, idx);\n    });\n  };\n  /**\n   * Get visual property.\n   */\n\n\n  SeriesData.prototype.getVisual = function (key) {\n    var visual = this._visual;\n    return visual && visual[key];\n  };\n\n  SeriesData.prototype.setVisual = function (kvObj, val) {\n    this._visual = this._visual || {};\n\n    if (isObject(kvObj)) {\n      zrUtil.extend(this._visual, kvObj);\n    } else {\n      this._visual[kvObj] = val;\n    }\n  };\n  /**\n   * Get visual property of single data item\n   */\n  // eslint-disable-next-line\n\n\n  SeriesData.prototype.getItemVisual = function (idx, key) {\n    var itemVisual = this._itemVisuals[idx];\n    var val = itemVisual && itemVisual[key];\n\n    if (val == null) {\n      // Use global visual property\n      return this.getVisual(key);\n    }\n\n    return val;\n  };\n  /**\n   * If exists visual property of single data item\n   */\n\n\n  SeriesData.prototype.hasItemVisual = function () {\n    return this._itemVisuals.length > 0;\n  };\n  /**\n   * Make sure itemVisual property is unique\n   */\n  // TODO: use key to save visual to reduce memory.\n\n\n  SeriesData.prototype.ensureUniqueItemVisual = function (idx, key) {\n    var itemVisuals = this._itemVisuals;\n    var itemVisual = itemVisuals[idx];\n\n    if (!itemVisual) {\n      itemVisual = itemVisuals[idx] = {};\n    }\n\n    var val = itemVisual[key];\n\n    if (val == null) {\n      val = this.getVisual(key); // TODO Performance?\n\n      if (zrUtil.isArray(val)) {\n        val = val.slice();\n      } else if (isObject(val)) {\n        val = zrUtil.extend({}, val);\n      }\n\n      itemVisual[key] = val;\n    }\n\n    return val;\n  }; // eslint-disable-next-line\n\n\n  SeriesData.prototype.setItemVisual = function (idx, key, value) {\n    var itemVisual = this._itemVisuals[idx] || {};\n    this._itemVisuals[idx] = itemVisual;\n\n    if (isObject(key)) {\n      zrUtil.extend(itemVisual, key);\n    } else {\n      itemVisual[key] = value;\n    }\n  };\n  /**\n   * Clear itemVisuals and list visual.\n   */\n\n\n  SeriesData.prototype.clearAllVisual = function () {\n    this._visual = {};\n    this._itemVisuals = [];\n  };\n\n  SeriesData.prototype.setLayout = function (key, val) {\n    isObject(key) ? zrUtil.extend(this._layout, key) : this._layout[key] = val;\n  };\n  /**\n   * Get layout property.\n   */\n\n\n  SeriesData.prototype.getLayout = function (key) {\n    return this._layout[key];\n  };\n  /**\n   * Get layout of single data item\n   */\n\n\n  SeriesData.prototype.getItemLayout = function (idx) {\n    return this._itemLayouts[idx];\n  };\n  /**\n   * Set layout of single data item\n   */\n\n\n  SeriesData.prototype.setItemLayout = function (idx, layout, merge) {\n    this._itemLayouts[idx] = merge ? zrUtil.extend(this._itemLayouts[idx] || {}, layout) : layout;\n  };\n  /**\n   * Clear all layout of single data item\n   */\n\n\n  SeriesData.prototype.clearItemLayouts = function () {\n    this._itemLayouts.length = 0;\n  };\n  /**\n   * Set graphic element relative to data. It can be set as null\n   */\n\n\n  SeriesData.prototype.setItemGraphicEl = function (idx, el) {\n    var seriesIndex = this.hostModel && this.hostModel.seriesIndex;\n    setCommonECData(seriesIndex, this.dataType, idx, el);\n    this._graphicEls[idx] = el;\n  };\n\n  SeriesData.prototype.getItemGraphicEl = function (idx) {\n    return this._graphicEls[idx];\n  };\n\n  SeriesData.prototype.eachItemGraphicEl = function (cb, context) {\n    zrUtil.each(this._graphicEls, function (el, idx) {\n      if (el) {\n        cb && cb.call(context, el, idx);\n      }\n    });\n  };\n  /**\n   * Shallow clone a new list except visual and layout properties, and graph elements.\n   * New list only change the indices.\n   */\n\n\n  SeriesData.prototype.cloneShallow = function (list) {\n    if (!list) {\n      list = new SeriesData(this._schema ? this._schema : map(this.dimensions, this._getDimInfo, this), this.hostModel);\n    }\n\n    transferProperties(list, this);\n    list._store = this._store;\n    return list;\n  };\n  /**\n   * Wrap some method to add more feature\n   */\n\n\n  SeriesData.prototype.wrapMethod = function (methodName, injectFunction) {\n    var originalMethod = this[methodName];\n\n    if (!zrUtil.isFunction(originalMethod)) {\n      return;\n    }\n\n    this.__wrappedMethods = this.__wrappedMethods || [];\n\n    this.__wrappedMethods.push(methodName);\n\n    this[methodName] = function () {\n      var res = originalMethod.apply(this, arguments);\n      return injectFunction.apply(this, [res].concat(zrUtil.slice(arguments)));\n    };\n  }; // ----------------------------------------------------------\n  // A work around for internal method visiting private member.\n  // ----------------------------------------------------------\n\n\n  SeriesData.internalField = function () {\n    prepareInvertedIndex = function (data) {\n      var invertedIndicesMap = data._invertedIndicesMap;\n      zrUtil.each(invertedIndicesMap, function (invertedIndices, dim) {\n        var dimInfo = data._dimInfos[dim]; // Currently, only dimensions that has ordinalMeta can create inverted indices.\n\n        var ordinalMeta = dimInfo.ordinalMeta;\n        var store = data._store;\n\n        if (ordinalMeta) {\n          invertedIndices = invertedIndicesMap[dim] = new CtorInt32Array(ordinalMeta.categories.length); // The default value of TypedArray is 0. To avoid miss\n          // mapping to 0, we should set it as INDEX_NOT_FOUND.\n\n          for (var i = 0; i < invertedIndices.length; i++) {\n            invertedIndices[i] = INDEX_NOT_FOUND;\n          }\n\n          for (var i = 0; i < store.count(); i++) {\n            // Only support the case that all values are distinct.\n            invertedIndices[store.get(dimInfo.storeDimIndex, i)] = i;\n          }\n        }\n      });\n    };\n\n    getIdNameFromStore = function (data, dimIdx, idx) {\n      return convertOptionIdName(data._getCategory(dimIdx, idx), null);\n    };\n    /**\n     * @see the comment of `List['getId']`.\n     */\n\n\n    getId = function (data, rawIndex) {\n      var id = data._idList[rawIndex];\n\n      if (id == null && data._idDimIdx != null) {\n        id = getIdNameFromStore(data, data._idDimIdx, rawIndex);\n      }\n\n      if (id == null) {\n        id = ID_PREFIX + rawIndex;\n      }\n\n      return id;\n    };\n\n    normalizeDimensions = function (dimensions) {\n      if (!zrUtil.isArray(dimensions)) {\n        dimensions = dimensions != null ? [dimensions] : [];\n      }\n\n      return dimensions;\n    };\n    /**\n     * Data in excludeDimensions is copied, otherwise transfered.\n     */\n\n\n    cloneListForMapAndSample = function (original) {\n      var list = new SeriesData(original._schema ? original._schema : map(original.dimensions, original._getDimInfo, original), original.hostModel); // FIXME If needs stackedOn, value may already been stacked\n\n      transferProperties(list, original);\n      return list;\n    };\n\n    transferProperties = function (target, source) {\n      zrUtil.each(TRANSFERABLE_PROPERTIES.concat(source.__wrappedMethods || []), function (propName) {\n        if (source.hasOwnProperty(propName)) {\n          target[propName] = source[propName];\n        }\n      });\n      target.__wrappedMethods = source.__wrappedMethods;\n      zrUtil.each(CLONE_PROPERTIES, function (propName) {\n        target[propName] = zrUtil.clone(source[propName]);\n      });\n      target._calculationInfo = zrUtil.extend({}, source._calculationInfo);\n    };\n\n    makeIdFromName = function (data, idx) {\n      var nameList = data._nameList;\n      var idList = data._idList;\n      var nameDimIdx = data._nameDimIdx;\n      var idDimIdx = data._idDimIdx;\n      var name = nameList[idx];\n      var id = idList[idx];\n\n      if (name == null && nameDimIdx != null) {\n        nameList[idx] = name = getIdNameFromStore(data, nameDimIdx, idx);\n      }\n\n      if (id == null && idDimIdx != null) {\n        idList[idx] = id = getIdNameFromStore(data, idDimIdx, idx);\n      }\n\n      if (id == null && name != null) {\n        var nameRepeatCount = data._nameRepeatCount;\n        var nmCnt = nameRepeatCount[name] = (nameRepeatCount[name] || 0) + 1;\n        id = name;\n\n        if (nmCnt > 1) {\n          id += '__ec__' + nmCnt;\n        }\n\n        idList[idx] = id;\n      }\n    };\n  }();\n\n  return SeriesData;\n}();\n\nexport default SeriesData;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { registerPreprocessor, registerProcessor, registerPostInit, registerPostUpdate, registerAction, registerCoordinateSystem, registerLayout, registerVisual, registerTransform, registerLoading, registerMap, registerUpdateLifecycle, PRIORITY } from './core/echarts.js';\nimport ComponentView from './view/Component.js';\nimport ChartView from './view/Chart.js';\nimport ComponentModel from './model/Component.js';\nimport SeriesModel from './model/Series.js';\nimport { isFunction, indexOf, isArray, each } from 'zrender/lib/core/util.js';\nimport { registerImpl } from './core/impl.js';\nimport { registerPainter } from 'zrender/lib/zrender.js';\nvar extensions = [];\nvar extensionRegisters = {\n  registerPreprocessor: registerPreprocessor,\n  registerProcessor: registerProcessor,\n  registerPostInit: registerPostInit,\n  registerPostUpdate: registerPostUpdate,\n  registerUpdateLifecycle: registerUpdateLifecycle,\n  registerAction: registerAction,\n  registerCoordinateSystem: registerCoordinateSystem,\n  registerLayout: registerLayout,\n  registerVisual: registerVisual,\n  registerTransform: registerTransform,\n  registerLoading: registerLoading,\n  registerMap: registerMap,\n  registerImpl: registerImpl,\n  PRIORITY: PRIORITY,\n  ComponentModel: ComponentModel,\n  ComponentView: ComponentView,\n  SeriesModel: SeriesModel,\n  ChartView: ChartView,\n  // TODO Use ComponentModel and SeriesModel instead of Constructor\n  registerComponentModel: function (ComponentModelClass) {\n    ComponentModel.registerClass(ComponentModelClass);\n  },\n  registerComponentView: function (ComponentViewClass) {\n    ComponentView.registerClass(ComponentViewClass);\n  },\n  registerSeriesModel: function (SeriesModelClass) {\n    SeriesModel.registerClass(SeriesModelClass);\n  },\n  registerChartView: function (ChartViewClass) {\n    ChartView.registerClass(ChartViewClass);\n  },\n  registerSubTypeDefaulter: function (componentType, defaulter) {\n    ComponentModel.registerSubTypeDefaulter(componentType, defaulter);\n  },\n  registerPainter: function (painterType, PainterCtor) {\n    registerPainter(painterType, PainterCtor);\n  }\n};\nexport function use(ext) {\n  if (isArray(ext)) {\n    // use([ChartLine, ChartBar]);\n    each(ext, function (singleExt) {\n      use(singleExt);\n    });\n    return;\n  }\n\n  if (indexOf(extensions, ext) >= 0) {\n    return;\n  }\n\n  extensions.push(ext);\n\n  if (isFunction(ext)) {\n    ext = {\n      install: ext\n    };\n  }\n\n  ext.install(extensionRegisters);\n}", "import windingLine from './windingLine.js';\nvar EPSILON = 1e-8;\nfunction isAroundEqual(a, b) {\n    return Math.abs(a - b) < EPSILON;\n}\nexport function contain(points, x, y) {\n    var w = 0;\n    var p = points[0];\n    if (!p) {\n        return false;\n    }\n    for (var i = 1; i < points.length; i++) {\n        var p2 = points[i];\n        w += windingLine(p[0], p[1], p2[0], p2[1], x, y);\n        p = p2;\n    }\n    var p0 = points[0];\n    if (!isAroundEqual(p[0], p0[0]) || !isAroundEqual(p[1], p0[1])) {\n        w += windingLine(p[0], p[1], p0[0], p0[1], x, y);\n    }\n    return w !== 0;\n}\n", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport * as polygonContain from 'zrender/lib/contain/polygon.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport { each } from 'zrender/lib/core/util.js';\nvar TMP_TRANSFORM = [];\n\nfunction transformPoints(points, transform) {\n  for (var p = 0; p < points.length; p++) {\n    vec2.applyTransform(points[p], points[p], transform);\n  }\n}\n\nfunction updateBBoxFromPoints(points, min, max, projection) {\n  for (var i = 0; i < points.length; i++) {\n    var p = points[i];\n\n    if (projection) {\n      // projection may return null point.\n      p = projection.project(p);\n    }\n\n    if (p && isFinite(p[0]) && isFinite(p[1])) {\n      vec2.min(min, min, p);\n      vec2.max(max, max, p);\n    }\n  }\n}\n\nfunction centroid(points) {\n  var signedArea = 0;\n  var cx = 0;\n  var cy = 0;\n  var len = points.length;\n  var x0 = points[len - 1][0];\n  var y0 = points[len - 1][1]; // Polygon should been closed.\n\n  for (var i = 0; i < len; i++) {\n    var x1 = points[i][0];\n    var y1 = points[i][1];\n    var a = x0 * y1 - x1 * y0;\n    signedArea += a;\n    cx += (x0 + x1) * a;\n    cy += (y0 + y1) * a;\n    x0 = x1;\n    y0 = y1;\n  }\n\n  return signedArea ? [cx / signedArea / 3, cy / signedArea / 3, signedArea] : [points[0][0] || 0, points[0][1] || 0];\n}\n\nvar Region =\n/** @class */\nfunction () {\n  function Region(name) {\n    this.name = name;\n  }\n\n  Region.prototype.setCenter = function (center) {\n    this._center = center;\n  };\n  /**\n   * Get center point in data unit. That is,\n   * for GeoJSONRegion, the unit is lat/lng,\n   * for GeoSVGRegion, the unit is SVG local coord.\n   */\n\n\n  Region.prototype.getCenter = function () {\n    var center = this._center;\n\n    if (!center) {\n      // In most cases there are no need to calculate this center.\n      // So calculate only when called.\n      center = this._center = this.calcCenter();\n    }\n\n    return center;\n  };\n\n  return Region;\n}();\n\nexport { Region };\n\nvar GeoJSONPolygonGeometry =\n/** @class */\nfunction () {\n  function GeoJSONPolygonGeometry(exterior, interiors) {\n    this.type = 'polygon';\n    this.exterior = exterior;\n    this.interiors = interiors;\n  }\n\n  return GeoJSONPolygonGeometry;\n}();\n\nexport { GeoJSONPolygonGeometry };\n\nvar GeoJSONLineStringGeometry =\n/** @class */\nfunction () {\n  function GeoJSONLineStringGeometry(points) {\n    this.type = 'linestring';\n    this.points = points;\n  }\n\n  return GeoJSONLineStringGeometry;\n}();\n\nexport { GeoJSONLineStringGeometry };\n\nvar GeoJSONRegion =\n/** @class */\nfunction (_super) {\n  __extends(GeoJSONRegion, _super);\n\n  function GeoJSONRegion(name, geometries, cp) {\n    var _this = _super.call(this, name) || this;\n\n    _this.type = 'geoJSON';\n    _this.geometries = geometries;\n    _this._center = cp && [cp[0], cp[1]];\n    return _this;\n  }\n\n  GeoJSONRegion.prototype.calcCenter = function () {\n    var geometries = this.geometries;\n    var largestGeo;\n    var largestGeoSize = 0;\n\n    for (var i = 0; i < geometries.length; i++) {\n      var geo = geometries[i];\n      var exterior = geo.exterior; // Simple trick to use points count instead of polygon area as region size.\n      // Ignore linestring\n\n      var size = exterior && exterior.length;\n\n      if (size > largestGeoSize) {\n        largestGeo = geo;\n        largestGeoSize = size;\n      }\n    }\n\n    if (largestGeo) {\n      return centroid(largestGeo.exterior);\n    } // from bounding rect by default.\n\n\n    var rect = this.getBoundingRect();\n    return [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  };\n\n  GeoJSONRegion.prototype.getBoundingRect = function (projection) {\n    var rect = this._rect; // Always recalculate if using projection.\n\n    if (rect && !projection) {\n      return rect;\n    }\n\n    var min = [Infinity, Infinity];\n    var max = [-Infinity, -Infinity];\n    var geometries = this.geometries;\n    each(geometries, function (geo) {\n      if (geo.type === 'polygon') {\n        // Doesn't consider hole\n        updateBBoxFromPoints(geo.exterior, min, max, projection);\n      } else {\n        each(geo.points, function (points) {\n          updateBBoxFromPoints(points, min, max, projection);\n        });\n      }\n    }); // Normalie invalid bounding.\n\n    if (!(isFinite(min[0]) && isFinite(min[1]) && isFinite(max[0]) && isFinite(max[1]))) {\n      min[0] = min[1] = max[0] = max[1] = 0;\n    }\n\n    rect = new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\n    if (!projection) {\n      this._rect = rect;\n    }\n\n    return rect;\n  };\n\n  GeoJSONRegion.prototype.contain = function (coord) {\n    var rect = this.getBoundingRect();\n    var geometries = this.geometries;\n\n    if (!rect.contain(coord[0], coord[1])) {\n      return false;\n    }\n\n    loopGeo: for (var i = 0, len = geometries.length; i < len; i++) {\n      var geo = geometries[i]; // Only support polygon.\n\n      if (geo.type !== 'polygon') {\n        continue;\n      }\n\n      var exterior = geo.exterior;\n      var interiors = geo.interiors;\n\n      if (polygonContain.contain(exterior, coord[0], coord[1])) {\n        // Not in the region if point is in the hole.\n        for (var k = 0; k < (interiors ? interiors.length : 0); k++) {\n          if (polygonContain.contain(interiors[k], coord[0], coord[1])) {\n            continue loopGeo;\n          }\n        }\n\n        return true;\n      }\n    }\n\n    return false;\n  };\n  /**\n   * Transform the raw coords to target bounding.\n   * @param x\n   * @param y\n   * @param width\n   * @param height\n   */\n\n\n  GeoJSONRegion.prototype.transformTo = function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var aspect = rect.width / rect.height;\n\n    if (!width) {\n      width = aspect * height;\n    } else if (!height) {\n      height = width / aspect;\n    }\n\n    var target = new BoundingRect(x, y, width, height);\n    var transform = rect.calculateTransform(target);\n    var geometries = this.geometries;\n\n    for (var i = 0; i < geometries.length; i++) {\n      var geo = geometries[i];\n\n      if (geo.type === 'polygon') {\n        transformPoints(geo.exterior, transform);\n        each(geo.interiors, function (interior) {\n          transformPoints(interior, transform);\n        });\n      } else {\n        each(geo.points, function (points) {\n          transformPoints(points, transform);\n        });\n      }\n    }\n\n    rect = this._rect;\n    rect.copy(target); // Update center\n\n    this._center = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  };\n\n  GeoJSONRegion.prototype.cloneShallow = function (name) {\n    name == null && (name = this.name);\n    var newRegion = new GeoJSONRegion(name, this.geometries, this._center);\n    newRegion._rect = this._rect;\n    newRegion.transformTo = null; // Simply avoid to be called.\n\n    return newRegion;\n  };\n\n  return GeoJSONRegion;\n}(Region);\n\nexport { GeoJSONRegion };\n\nvar GeoSVGRegion =\n/** @class */\nfunction (_super) {\n  __extends(GeoSVGRegion, _super);\n\n  function GeoSVGRegion(name, elOnlyForCalculate) {\n    var _this = _super.call(this, name) || this;\n\n    _this.type = 'geoSVG';\n    _this._elOnlyForCalculate = elOnlyForCalculate;\n    return _this;\n  }\n\n  GeoSVGRegion.prototype.calcCenter = function () {\n    var el = this._elOnlyForCalculate;\n    var rect = el.getBoundingRect();\n    var center = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n    var mat = matrix.identity(TMP_TRANSFORM);\n    var target = el;\n\n    while (target && !target.isGeoSVGGraphicRoot) {\n      matrix.mul(mat, target.getLocalTransform(), mat);\n      target = target.parent;\n    }\n\n    matrix.invert(mat, mat);\n    vec2.applyTransform(center, center, mat);\n    return center;\n  };\n\n  return GeoSVGRegion;\n}(Region);\n\nexport { GeoSVGRegion };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Parse and decode geo json\n */\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { GeoJSONLineStringGeometry, GeoJSONPolygonGeometry, GeoJSONRegion } from './Region.js';\n\nfunction decode(json) {\n  if (!json.UTF8Encoding) {\n    return json;\n  }\n\n  var jsonCompressed = json;\n  var encodeScale = jsonCompressed.UTF8Scale;\n\n  if (encodeScale == null) {\n    encodeScale = 1024;\n  }\n\n  var features = jsonCompressed.features;\n  zrUtil.each(features, function (feature) {\n    var geometry = feature.geometry;\n    var encodeOffsets = geometry.encodeOffsets;\n    var coordinates = geometry.coordinates; // Geometry may be appeded manually in the script after json loaded.\n    // In this case this geometry is usually not encoded.\n\n    if (!encodeOffsets) {\n      return;\n    }\n\n    switch (geometry.type) {\n      case 'LineString':\n        geometry.coordinates = decodeRing(coordinates, encodeOffsets, encodeScale);\n        break;\n\n      case 'Polygon':\n        decodeRings(coordinates, encodeOffsets, encodeScale);\n        break;\n\n      case 'MultiLineString':\n        decodeRings(coordinates, encodeOffsets, encodeScale);\n        break;\n\n      case 'MultiPolygon':\n        zrUtil.each(coordinates, function (rings, idx) {\n          return decodeRings(rings, encodeOffsets[idx], encodeScale);\n        });\n    }\n  }); // Has been decoded\n\n  jsonCompressed.UTF8Encoding = false;\n  return jsonCompressed;\n}\n\nfunction decodeRings(rings, encodeOffsets, encodeScale) {\n  for (var c = 0; c < rings.length; c++) {\n    rings[c] = decodeRing(rings[c], encodeOffsets[c], encodeScale);\n  }\n}\n\nfunction decodeRing(coordinate, encodeOffsets, encodeScale) {\n  var result = [];\n  var prevX = encodeOffsets[0];\n  var prevY = encodeOffsets[1];\n\n  for (var i = 0; i < coordinate.length; i += 2) {\n    var x = coordinate.charCodeAt(i) - 64;\n    var y = coordinate.charCodeAt(i + 1) - 64; // ZigZag decoding\n\n    x = x >> 1 ^ -(x & 1);\n    y = y >> 1 ^ -(y & 1); // Delta deocding\n\n    x += prevX;\n    y += prevY;\n    prevX = x;\n    prevY = y; // Dequantize\n\n    result.push([x / encodeScale, y / encodeScale]);\n  }\n\n  return result;\n}\n\nexport default function parseGeoJSON(geoJson, nameProperty) {\n  geoJson = decode(geoJson);\n  return zrUtil.map(zrUtil.filter(geoJson.features, function (featureObj) {\n    // Output of mapshaper may have geometry null\n    return featureObj.geometry && featureObj.properties && featureObj.geometry.coordinates.length > 0;\n  }), function (featureObj) {\n    var properties = featureObj.properties;\n    var geo = featureObj.geometry;\n    var geometries = [];\n\n    switch (geo.type) {\n      case 'Polygon':\n        var coordinates = geo.coordinates; // According to the GeoJSON specification.\n        // First must be exterior, and the rest are all interior(holes).\n\n        geometries.push(new GeoJSONPolygonGeometry(coordinates[0], coordinates.slice(1)));\n        break;\n\n      case 'MultiPolygon':\n        zrUtil.each(geo.coordinates, function (item) {\n          if (item[0]) {\n            geometries.push(new GeoJSONPolygonGeometry(item[0], item.slice(1)));\n          }\n        });\n        break;\n\n      case 'LineString':\n        geometries.push(new GeoJSONLineStringGeometry([geo.coordinates]));\n        break;\n\n      case 'MultiLineString':\n        geometries.push(new GeoJSONLineStringGeometry(geo.coordinates));\n    }\n\n    var region = new GeoJSONRegion(properties[nameProperty || 'name'], geometries, properties.cp);\n    region.properties = properties;\n    return region;\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as clazzUtil from '../util/clazz.js';\n\nvar Scale =\n/** @class */\nfunction () {\n  function Scale(setting) {\n    this._setting = setting || {};\n    this._extent = [Infinity, -Infinity];\n  }\n\n  Scale.prototype.getSetting = function (name) {\n    return this._setting[name];\n  };\n  /**\n   * Set extent from data\n   */\n\n\n  Scale.prototype.unionExtent = function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]); // not setExtent because in log axis it may transformed to power\n    // this.setExtent(extent[0], extent[1]);\n  };\n  /**\n   * Set extent from data\n   */\n\n\n  Scale.prototype.unionExtentFromData = function (data, dim) {\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * Get extent\n   *\n   * Extent is always in increase order.\n   */\n\n\n  Scale.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  /**\n   * Set extent\n   */\n\n\n  Scale.prototype.setExtent = function (start, end) {\n    var thisExtent = this._extent;\n\n    if (!isNaN(start)) {\n      thisExtent[0] = start;\n    }\n\n    if (!isNaN(end)) {\n      thisExtent[1] = end;\n    }\n  };\n  /**\n   * If value is in extent range\n   */\n\n\n  Scale.prototype.isInExtentRange = function (value) {\n    return this._extent[0] <= value && this._extent[1] >= value;\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n\n\n  Scale.prototype.isBlank = function () {\n    return this._isBlank;\n  };\n  /**\n   * When axis extent depends on data and no data exists,\n   * axis ticks should not be drawn, which is named 'blank'.\n   */\n\n\n  Scale.prototype.setBlank = function (isBlank) {\n    this._isBlank = isBlank;\n  };\n\n  return Scale;\n}();\n\nclazzUtil.enableClassManagement(Scale);\nexport default Scale;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { createHashMap, isObject, map, isString } from 'zrender/lib/core/util.js';\nvar uidBase = 0;\n\nvar OrdinalMeta =\n/** @class */\nfunction () {\n  function OrdinalMeta(opt) {\n    this.categories = opt.categories || [];\n    this._needCollect = opt.needCollect;\n    this._deduplication = opt.deduplication;\n    this.uid = ++uidBase;\n  }\n\n  OrdinalMeta.createByAxisModel = function (axisModel) {\n    var option = axisModel.option;\n    var data = option.data;\n    var categories = data && map(data, getName);\n    return new OrdinalMeta({\n      categories: categories,\n      needCollect: !categories,\n      // deduplication is default in axis.\n      deduplication: option.dedplication !== false\n    });\n  };\n\n  ;\n\n  OrdinalMeta.prototype.getOrdinal = function (category) {\n    // @ts-ignore\n    return this._getOrCreateMap().get(category);\n  };\n  /**\n   * @return The ordinal. If not found, return NaN.\n   */\n\n\n  OrdinalMeta.prototype.parseAndCollect = function (category) {\n    var index;\n    var needCollect = this._needCollect; // The value of category dim can be the index of the given category set.\n    // This feature is only supported when !needCollect, because we should\n    // consider a common case: a value is 2017, which is a number but is\n    // expected to be tread as a category. This case usually happen in dataset,\n    // where it happent to be no need of the index feature.\n\n    if (!isString(category) && !needCollect) {\n      return category;\n    } // Optimize for the scenario:\n    // category is ['2012-01-01', '2012-01-02', ...], where the input\n    // data has been ensured not duplicate and is large data.\n    // Notice, if a dataset dimension provide categroies, usually echarts\n    // should remove duplication except user tell echarts dont do that\n    // (set axis.deduplication = false), because echarts do not know whether\n    // the values in the category dimension has duplication (consider the\n    // parallel-aqi example)\n\n\n    if (needCollect && !this._deduplication) {\n      index = this.categories.length;\n      this.categories[index] = category;\n      return index;\n    }\n\n    var map = this._getOrCreateMap(); // @ts-ignore\n\n\n    index = map.get(category);\n\n    if (index == null) {\n      if (needCollect) {\n        index = this.categories.length;\n        this.categories[index] = category; // @ts-ignore\n\n        map.set(category, index);\n      } else {\n        index = NaN;\n      }\n    }\n\n    return index;\n  }; // Consider big data, do not create map until needed.\n\n\n  OrdinalMeta.prototype._getOrCreateMap = function () {\n    return this._map || (this._map = createHashMap(this.categories));\n  };\n\n  return OrdinalMeta;\n}();\n\nfunction getName(obj) {\n  if (isObject(obj) && obj.value != null) {\n    return obj.value;\n  } else {\n    return obj + '';\n  }\n}\n\nexport default OrdinalMeta;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getPrecision, round, nice, quantityExponent } from '../util/number.js';\nexport function isValueNice(val) {\n  var exp10 = Math.pow(10, quantityExponent(Math.abs(val)));\n  var f = Math.abs(val / exp10);\n  return f === 0 || f === 1 || f === 2 || f === 3 || f === 5;\n}\nexport function isIntervalOrLogScale(scale) {\n  return scale.type === 'interval' || scale.type === 'log';\n}\n/**\n * @param extent Both extent[0] and extent[1] should be valid number.\n *               Should be extent[0] < extent[1].\n * @param splitNumber splitNumber should be >= 1.\n */\n\nexport function intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval) {\n  var result = {};\n  var span = extent[1] - extent[0];\n  var interval = result.interval = nice(span / splitNumber, true);\n\n  if (minInterval != null && interval < minInterval) {\n    interval = result.interval = minInterval;\n  }\n\n  if (maxInterval != null && interval > maxInterval) {\n    interval = result.interval = maxInterval;\n  } // Tow more digital for tick.\n\n\n  var precision = result.intervalPrecision = getIntervalPrecision(interval); // Niced extent inside original extent\n\n  var niceTickExtent = result.niceTickExtent = [round(Math.ceil(extent[0] / interval) * interval, precision), round(Math.floor(extent[1] / interval) * interval, precision)];\n  fixExtent(niceTickExtent, extent);\n  return result;\n}\nexport function increaseInterval(interval) {\n  var exp10 = Math.pow(10, quantityExponent(interval)); // Increase interval\n\n  var f = interval / exp10;\n\n  if (!f) {\n    f = 1;\n  } else if (f === 2) {\n    f = 3;\n  } else if (f === 3) {\n    f = 5;\n  } else {\n    // f is 1 or 5\n    f *= 2;\n  }\n\n  return round(f * exp10);\n}\n/**\n * @return interval precision\n */\n\nexport function getIntervalPrecision(interval) {\n  // Tow more digital for tick.\n  return getPrecision(interval) + 2;\n}\n\nfunction clamp(niceTickExtent, idx, extent) {\n  niceTickExtent[idx] = Math.max(Math.min(niceTickExtent[idx], extent[1]), extent[0]);\n} // In some cases (e.g., splitNumber is 1), niceTickExtent may be out of extent.\n\n\nexport function fixExtent(niceTickExtent, extent) {\n  !isFinite(niceTickExtent[0]) && (niceTickExtent[0] = extent[0]);\n  !isFinite(niceTickExtent[1]) && (niceTickExtent[1] = extent[1]);\n  clamp(niceTickExtent, 0, extent);\n  clamp(niceTickExtent, 1, extent);\n\n  if (niceTickExtent[0] > niceTickExtent[1]) {\n    niceTickExtent[0] = niceTickExtent[1];\n  }\n}\nexport function contain(val, extent) {\n  return val >= extent[0] && val <= extent[1];\n}\nexport function normalize(val, extent) {\n  if (extent[1] === extent[0]) {\n    return 0.5;\n  }\n\n  return (val - extent[0]) / (extent[1] - extent[0]);\n}\nexport function scale(val, extent) {\n  return val * (extent[1] - extent[0]) + extent[0];\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Linear continuous scale\n * http://en.wikipedia.org/wiki/Level_of_measurement\n */\n// FIXME only one data\n\nimport Scale from './Scale.js';\nimport OrdinalMeta from '../data/OrdinalMeta.js';\nimport * as scaleHelper from './helper.js';\nimport { isArray, map, isObject, isString } from 'zrender/lib/core/util.js';\n\nvar OrdinalScale =\n/** @class */\nfunction (_super) {\n  __extends(OrdinalScale, _super);\n\n  function OrdinalScale(setting) {\n    var _this = _super.call(this, setting) || this;\n\n    _this.type = 'ordinal';\n\n    var ordinalMeta = _this.getSetting('ordinalMeta'); // Caution: Should not use instanceof, consider ec-extensions using\n    // import approach to get OrdinalMeta class.\n\n\n    if (!ordinalMeta) {\n      ordinalMeta = new OrdinalMeta({});\n    }\n\n    if (isArray(ordinalMeta)) {\n      ordinalMeta = new OrdinalMeta({\n        categories: map(ordinalMeta, function (item) {\n          return isObject(item) ? item.value : item;\n        })\n      });\n    }\n\n    _this._ordinalMeta = ordinalMeta;\n    _this._extent = _this.getSetting('extent') || [0, ordinalMeta.categories.length - 1];\n    return _this;\n  }\n\n  OrdinalScale.prototype.parse = function (val) {\n    return isString(val) ? this._ordinalMeta.getOrdinal(val) // val might be float.\n    : Math.round(val);\n  };\n\n  OrdinalScale.prototype.contain = function (rank) {\n    rank = this.parse(rank);\n    return scaleHelper.contain(rank, this._extent) && this._ordinalMeta.categories[rank] != null;\n  };\n  /**\n   * Normalize given rank or name to linear [0, 1]\n   * @param val raw ordinal number.\n   * @return normalized value in [0, 1].\n   */\n\n\n  OrdinalScale.prototype.normalize = function (val) {\n    val = this._getTickNumber(this.parse(val));\n    return scaleHelper.normalize(val, this._extent);\n  };\n  /**\n   * @param val normalized value in [0, 1].\n   * @return raw ordinal number.\n   */\n\n\n  OrdinalScale.prototype.scale = function (val) {\n    val = Math.round(scaleHelper.scale(val, this._extent));\n    return this.getRawOrdinalNumber(val);\n  };\n\n  OrdinalScale.prototype.getTicks = function () {\n    var ticks = [];\n    var extent = this._extent;\n    var rank = extent[0];\n\n    while (rank <= extent[1]) {\n      ticks.push({\n        value: rank\n      });\n      rank++;\n    }\n\n    return ticks;\n  };\n\n  OrdinalScale.prototype.getMinorTicks = function (splitNumber) {\n    // Not support.\n    return;\n  };\n  /**\n   * @see `Ordinal['_ordinalNumbersByTick']`\n   */\n\n\n  OrdinalScale.prototype.setSortInfo = function (info) {\n    if (info == null) {\n      this._ordinalNumbersByTick = this._ticksByOrdinalNumber = null;\n      return;\n    }\n\n    var infoOrdinalNumbers = info.ordinalNumbers;\n    var ordinalsByTick = this._ordinalNumbersByTick = [];\n    var ticksByOrdinal = this._ticksByOrdinalNumber = []; // Unnecessary support negative tick in `realtimeSort`.\n\n    var tickNum = 0;\n    var allCategoryLen = this._ordinalMeta.categories.length;\n\n    for (var len = Math.min(allCategoryLen, infoOrdinalNumbers.length); tickNum < len; ++tickNum) {\n      var ordinalNumber = infoOrdinalNumbers[tickNum];\n      ordinalsByTick[tickNum] = ordinalNumber;\n      ticksByOrdinal[ordinalNumber] = tickNum;\n    } // Handle that `series.data` only covers part of the `axis.category.data`.\n\n\n    var unusedOrdinal = 0;\n\n    for (; tickNum < allCategoryLen; ++tickNum) {\n      while (ticksByOrdinal[unusedOrdinal] != null) {\n        unusedOrdinal++;\n      }\n\n      ;\n      ordinalsByTick.push(unusedOrdinal);\n      ticksByOrdinal[unusedOrdinal] = tickNum;\n    }\n  };\n\n  OrdinalScale.prototype._getTickNumber = function (ordinal) {\n    var ticksByOrdinalNumber = this._ticksByOrdinalNumber; // also support ordinal out of range of `ordinalMeta.categories.length`,\n    // where ordinal numbers are used as tick value directly.\n\n    return ticksByOrdinalNumber && ordinal >= 0 && ordinal < ticksByOrdinalNumber.length ? ticksByOrdinalNumber[ordinal] : ordinal;\n  };\n  /**\n   * @usage\n   * ```js\n   * const ordinalNumber = ordinalScale.getRawOrdinalNumber(tickVal);\n   *\n   * // case0\n   * const rawOrdinalValue = axisModel.getCategories()[ordinalNumber];\n   * // case1\n   * const rawOrdinalValue = this._ordinalMeta.categories[ordinalNumber];\n   * // case2\n   * const coord = axis.dataToCoord(ordinalNumber);\n   * ```\n   *\n   * @param {OrdinalNumber} tickNumber index of display\n   */\n\n\n  OrdinalScale.prototype.getRawOrdinalNumber = function (tickNumber) {\n    var ordinalNumbersByTick = this._ordinalNumbersByTick; // tickNumber may be out of range, e.g., when axis max is larger than `ordinalMeta.categories.length`.,\n    // where ordinal numbers are used as tick value directly.\n\n    return ordinalNumbersByTick && tickNumber >= 0 && tickNumber < ordinalNumbersByTick.length ? ordinalNumbersByTick[tickNumber] : tickNumber;\n  };\n  /**\n   * Get item on tick\n   */\n\n\n  OrdinalScale.prototype.getLabel = function (tick) {\n    if (!this.isBlank()) {\n      var ordinalNumber = this.getRawOrdinalNumber(tick.value);\n      var cateogry = this._ordinalMeta.categories[ordinalNumber]; // Note that if no data, ordinalMeta.categories is an empty array.\n      // Return empty if it's not exist.\n\n      return cateogry == null ? '' : cateogry + '';\n    }\n  };\n\n  OrdinalScale.prototype.count = function () {\n    return this._extent[1] - this._extent[0] + 1;\n  };\n\n  OrdinalScale.prototype.unionExtentFromData = function (data, dim) {\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * @override\n   * If value is in extent range\n   */\n\n\n  OrdinalScale.prototype.isInExtentRange = function (value) {\n    value = this._getTickNumber(value);\n    return this._extent[0] <= value && this._extent[1] >= value;\n  };\n\n  OrdinalScale.prototype.getOrdinalMeta = function () {\n    return this._ordinalMeta;\n  };\n\n  OrdinalScale.prototype.calcNiceTicks = function () {};\n\n  OrdinalScale.prototype.calcNiceExtent = function () {};\n\n  OrdinalScale.type = 'ordinal';\n  return OrdinalScale;\n}(Scale);\n\nScale.registerClass(OrdinalScale);\nexport default OrdinalScale;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as numberUtil from '../util/number.js';\nimport * as formatUtil from '../util/format.js';\nimport Scale from './Scale.js';\nimport * as helper from './helper.js';\nvar roundNumber = numberUtil.round;\n\nvar IntervalScale =\n/** @class */\nfunction (_super) {\n  __extends(IntervalScale, _super);\n\n  function IntervalScale() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'interval'; // Step is calculated in adjustExtent.\n\n    _this._interval = 0;\n    _this._intervalPrecision = 2;\n    return _this;\n  }\n\n  IntervalScale.prototype.parse = function (val) {\n    return val;\n  };\n\n  IntervalScale.prototype.contain = function (val) {\n    return helper.contain(val, this._extent);\n  };\n\n  IntervalScale.prototype.normalize = function (val) {\n    return helper.normalize(val, this._extent);\n  };\n\n  IntervalScale.prototype.scale = function (val) {\n    return helper.scale(val, this._extent);\n  };\n\n  IntervalScale.prototype.setExtent = function (start, end) {\n    var thisExtent = this._extent; // start,end may be a Number like '25',so...\n\n    if (!isNaN(start)) {\n      thisExtent[0] = parseFloat(start);\n    }\n\n    if (!isNaN(end)) {\n      thisExtent[1] = parseFloat(end);\n    }\n  };\n\n  IntervalScale.prototype.unionExtent = function (other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]); // unionExtent may called by it's sub classes\n\n    this.setExtent(extent[0], extent[1]);\n  };\n\n  IntervalScale.prototype.getInterval = function () {\n    return this._interval;\n  };\n\n  IntervalScale.prototype.setInterval = function (interval) {\n    this._interval = interval; // Dropped auto calculated niceExtent and use user setted extent\n    // We assume user wan't to set both interval, min, max to get a better result\n\n    this._niceExtent = this._extent.slice();\n    this._intervalPrecision = helper.getIntervalPrecision(interval);\n  };\n  /**\n   * @param expandToNicedExtent Whether expand the ticks to niced extent.\n   */\n\n\n  IntervalScale.prototype.getTicks = function (expandToNicedExtent) {\n    var interval = this._interval;\n    var extent = this._extent;\n    var niceTickExtent = this._niceExtent;\n    var intervalPrecision = this._intervalPrecision;\n    var ticks = []; // If interval is 0, return [];\n\n    if (!interval) {\n      return ticks;\n    } // Consider this case: using dataZoom toolbox, zoom and zoom.\n\n\n    var safeLimit = 10000;\n\n    if (extent[0] < niceTickExtent[0]) {\n      if (expandToNicedExtent) {\n        ticks.push({\n          value: roundNumber(niceTickExtent[0] - interval, intervalPrecision)\n        });\n      } else {\n        ticks.push({\n          value: extent[0]\n        });\n      }\n    }\n\n    var tick = niceTickExtent[0];\n\n    while (tick <= niceTickExtent[1]) {\n      ticks.push({\n        value: tick\n      }); // Avoid rounding error\n\n      tick = roundNumber(tick + interval, intervalPrecision);\n\n      if (tick === ticks[ticks.length - 1].value) {\n        // Consider out of safe float point, e.g.,\n        // -3711126.9907707 + 2e-10 === -3711126.9907707\n        break;\n      }\n\n      if (ticks.length > safeLimit) {\n        return [];\n      }\n    } // Consider this case: the last item of ticks is smaller\n    // than niceTickExtent[1] and niceTickExtent[1] === extent[1].\n\n\n    var lastNiceTick = ticks.length ? ticks[ticks.length - 1].value : niceTickExtent[1];\n\n    if (extent[1] > lastNiceTick) {\n      if (expandToNicedExtent) {\n        ticks.push({\n          value: roundNumber(lastNiceTick + interval, intervalPrecision)\n        });\n      } else {\n        ticks.push({\n          value: extent[1]\n        });\n      }\n    }\n\n    return ticks;\n  };\n\n  IntervalScale.prototype.getMinorTicks = function (splitNumber) {\n    var ticks = this.getTicks(true);\n    var minorTicks = [];\n    var extent = this.getExtent();\n\n    for (var i = 1; i < ticks.length; i++) {\n      var nextTick = ticks[i];\n      var prevTick = ticks[i - 1];\n      var count = 0;\n      var minorTicksGroup = [];\n      var interval = nextTick.value - prevTick.value;\n      var minorInterval = interval / splitNumber;\n\n      while (count < splitNumber - 1) {\n        var minorTick = roundNumber(prevTick.value + (count + 1) * minorInterval); // For the first and last interval. The count may be less than splitNumber.\n\n        if (minorTick > extent[0] && minorTick < extent[1]) {\n          minorTicksGroup.push(minorTick);\n        }\n\n        count++;\n      }\n\n      minorTicks.push(minorTicksGroup);\n    }\n\n    return minorTicks;\n  };\n  /**\n   * @param opt.precision If 'auto', use nice presision.\n   * @param opt.pad returns 1.50 but not 1.5 if precision is 2.\n   */\n\n\n  IntervalScale.prototype.getLabel = function (data, opt) {\n    if (data == null) {\n      return '';\n    }\n\n    var precision = opt && opt.precision;\n\n    if (precision == null) {\n      precision = numberUtil.getPrecision(data.value) || 0;\n    } else if (precision === 'auto') {\n      // Should be more precise then tick.\n      precision = this._intervalPrecision;\n    } // (1) If `precision` is set, 12.005 should be display as '12.00500'.\n    // (2) Use roundNumber (toFixed) to avoid scientific notation like '3.5e-7'.\n\n\n    var dataNum = roundNumber(data.value, precision, true);\n    return formatUtil.addCommas(dataNum);\n  };\n  /**\n   * @param splitNumber By default `5`.\n   */\n\n\n  IntervalScale.prototype.calcNiceTicks = function (splitNumber, minInterval, maxInterval) {\n    splitNumber = splitNumber || 5;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n\n    if (!isFinite(span)) {\n      return;\n    } // User may set axis min 0 and data are all negative\n    // FIXME If it needs to reverse ?\n\n\n    if (span < 0) {\n      span = -span;\n      extent.reverse();\n    }\n\n    var result = helper.intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval);\n    this._intervalPrecision = result.intervalPrecision;\n    this._interval = result.interval;\n    this._niceExtent = result.niceTickExtent;\n  };\n\n  IntervalScale.prototype.calcNiceExtent = function (opt) {\n    var extent = this._extent; // If extent start and end are same, expand them\n\n    if (extent[0] === extent[1]) {\n      if (extent[0] !== 0) {\n        // Expand extent\n        var expandSize = extent[0]; // In the fowllowing case\n        //      Axis has been fixed max 100\n        //      Plus data are all 100 and axis extent are [100, 100].\n        // Extend to the both side will cause expanded max is larger than fixed max.\n        // So only expand to the smaller side.\n\n        if (!opt.fixMax) {\n          extent[1] += expandSize / 2;\n          extent[0] -= expandSize / 2;\n        } else {\n          extent[0] -= expandSize / 2;\n        }\n      } else {\n        extent[1] = 1;\n      }\n    }\n\n    var span = extent[1] - extent[0]; // If there are no data and extent are [Infinity, -Infinity]\n\n    if (!isFinite(span)) {\n      extent[0] = 0;\n      extent[1] = 1;\n    }\n\n    this.calcNiceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval); // let extent = this._extent;\n\n    var interval = this._interval;\n\n    if (!opt.fixMin) {\n      extent[0] = roundNumber(Math.floor(extent[0] / interval) * interval);\n    }\n\n    if (!opt.fixMax) {\n      extent[1] = roundNumber(Math.ceil(extent[1] / interval) * interval);\n    }\n  };\n\n  IntervalScale.prototype.setNiceExtent = function (min, max) {\n    this._niceExtent = [min, max];\n  };\n\n  IntervalScale.type = 'interval';\n  return IntervalScale;\n}(Scale);\n\nScale.registerClass(IntervalScale);\nexport default IntervalScale;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, isString } from 'zrender/lib/core/util.js';\nimport { isSeriesDataSchema } from './SeriesDataSchema.js';\n/**\n * Note that it is too complicated to support 3d stack by value\n * (have to create two-dimension inverted index), so in 3d case\n * we just support that stacked by index.\n *\n * @param seriesModel\n * @param dimensionsInput The same as the input of <module:echarts/data/SeriesData>.\n *        The input will be modified.\n * @param opt\n * @param opt.stackedCoordDimension Specify a coord dimension if needed.\n * @param opt.byIndex=false\n * @return calculationInfo\n * {\n *     stackedDimension: string\n *     stackedByDimension: string\n *     isStackedByIndex: boolean\n *     stackedOverDimension: string\n *     stackResultDimension: string\n * }\n */\n\nexport function enableDataStack(seriesModel, dimensionsInput, opt) {\n  opt = opt || {};\n  var byIndex = opt.byIndex;\n  var stackedCoordDimension = opt.stackedCoordDimension;\n  var dimensionDefineList;\n  var schema;\n  var store;\n\n  if (isLegacyDimensionsInput(dimensionsInput)) {\n    dimensionDefineList = dimensionsInput;\n  } else {\n    schema = dimensionsInput.schema;\n    dimensionDefineList = schema.dimensions;\n    store = dimensionsInput.store;\n  } // Compatibal: when `stack` is set as '', do not stack.\n\n\n  var mayStack = !!(seriesModel && seriesModel.get('stack'));\n  var stackedByDimInfo;\n  var stackedDimInfo;\n  var stackResultDimension;\n  var stackedOverDimension;\n  each(dimensionDefineList, function (dimensionInfo, index) {\n    if (isString(dimensionInfo)) {\n      dimensionDefineList[index] = dimensionInfo = {\n        name: dimensionInfo\n      };\n    }\n\n    if (mayStack && !dimensionInfo.isExtraCoord) {\n      // Find the first ordinal dimension as the stackedByDimInfo.\n      if (!byIndex && !stackedByDimInfo && dimensionInfo.ordinalMeta) {\n        stackedByDimInfo = dimensionInfo;\n      } // Find the first stackable dimension as the stackedDimInfo.\n\n\n      if (!stackedDimInfo && dimensionInfo.type !== 'ordinal' && dimensionInfo.type !== 'time' && (!stackedCoordDimension || stackedCoordDimension === dimensionInfo.coordDim)) {\n        stackedDimInfo = dimensionInfo;\n      }\n    }\n  });\n\n  if (stackedDimInfo && !byIndex && !stackedByDimInfo) {\n    // Compatible with previous design, value axis (time axis) only stack by index.\n    // It may make sense if the user provides elaborately constructed data.\n    byIndex = true;\n  } // Add stack dimension, they can be both calculated by coordinate system in `unionExtent`.\n  // That put stack logic in List is for using conveniently in echarts extensions, but it\n  // might not be a good way.\n\n\n  if (stackedDimInfo) {\n    // Use a weird name that not duplicated with other names.\n    // Also need to use seriesModel.id as postfix because different\n    // series may share same data store. The stack dimension needs to be distinguished.\n    stackResultDimension = '__\\0ecstackresult_' + seriesModel.id;\n    stackedOverDimension = '__\\0ecstackedover_' + seriesModel.id; // Create inverted index to fast query index by value.\n\n    if (stackedByDimInfo) {\n      stackedByDimInfo.createInvertedIndices = true;\n    }\n\n    var stackedDimCoordDim_1 = stackedDimInfo.coordDim;\n    var stackedDimType = stackedDimInfo.type;\n    var stackedDimCoordIndex_1 = 0;\n    each(dimensionDefineList, function (dimensionInfo) {\n      if (dimensionInfo.coordDim === stackedDimCoordDim_1) {\n        stackedDimCoordIndex_1++;\n      }\n    });\n    var stackedOverDimensionDefine = {\n      name: stackResultDimension,\n      coordDim: stackedDimCoordDim_1,\n      coordDimIndex: stackedDimCoordIndex_1,\n      type: stackedDimType,\n      isExtraCoord: true,\n      isCalculationCoord: true,\n      storeDimIndex: dimensionDefineList.length\n    };\n    var stackResultDimensionDefine = {\n      name: stackedOverDimension,\n      // This dimension contains stack base (generally, 0), so do not set it as\n      // `stackedDimCoordDim` to avoid extent calculation, consider log scale.\n      coordDim: stackedOverDimension,\n      coordDimIndex: stackedDimCoordIndex_1 + 1,\n      type: stackedDimType,\n      isExtraCoord: true,\n      isCalculationCoord: true,\n      storeDimIndex: dimensionDefineList.length + 1\n    };\n\n    if (schema) {\n      if (store) {\n        stackedOverDimensionDefine.storeDimIndex = store.ensureCalculationDimension(stackedOverDimension, stackedDimType);\n        stackResultDimensionDefine.storeDimIndex = store.ensureCalculationDimension(stackResultDimension, stackedDimType);\n      }\n\n      schema.appendCalculationDimension(stackedOverDimensionDefine);\n      schema.appendCalculationDimension(stackResultDimensionDefine);\n    } else {\n      dimensionDefineList.push(stackedOverDimensionDefine);\n      dimensionDefineList.push(stackResultDimensionDefine);\n    }\n  }\n\n  return {\n    stackedDimension: stackedDimInfo && stackedDimInfo.name,\n    stackedByDimension: stackedByDimInfo && stackedByDimInfo.name,\n    isStackedByIndex: byIndex,\n    stackedOverDimension: stackedOverDimension,\n    stackResultDimension: stackResultDimension\n  };\n}\n\nfunction isLegacyDimensionsInput(dimensionsInput) {\n  return !isSeriesDataSchema(dimensionsInput.schema);\n}\n\nexport function isDimensionStacked(data, stackedDim) {\n  // Each single series only maps to one pair of axis. So we do not need to\n  // check stackByDim, whatever stacked by a dimension or stacked by index.\n  return !!stackedDim && stackedDim === data.getCalculationInfo('stackedDimension');\n}\nexport function getStackedDimension(data, targetDim) {\n  return isDimensionStacked(data, targetDim) ? data.getCalculationInfo('stackResultDimension') : targetDim;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isArray } from 'zrender/lib/core/util.js';\n/* global Float32Array */\n\nvar supportFloat32Array = typeof Float32Array !== 'undefined';\nvar Float32ArrayCtor = !supportFloat32Array ? Array : Float32Array;\nexport function createFloat32Array(arg) {\n  if (isArray(arg)) {\n    // Return self directly if don't support TypedArray.\n    return supportFloat32Array ? new Float32Array(arg) : arg;\n  } // Else is number\n\n\n  return new Float32ArrayCtor(arg);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, defaults, keys } from 'zrender/lib/core/util.js';\nimport { parsePercent } from '../util/number.js';\nimport { isDimensionStacked } from '../data/helper/dataStackHelper.js';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner.js';\nimport { createFloat32Array } from '../util/vendor.js';\nvar STACK_PREFIX = '__ec_stack_';\n\nfunction getSeriesStackId(seriesModel) {\n  return seriesModel.get('stack') || STACK_PREFIX + seriesModel.seriesIndex;\n}\n\nfunction getAxisKey(axis) {\n  return axis.dim + axis.index;\n}\n/**\n * @return {Object} {width, offset, offsetCenter} If axis.type is not 'category', return undefined.\n */\n\n\nexport function getLayoutOnAxis(opt) {\n  var params = [];\n  var baseAxis = opt.axis;\n  var axisKey = 'axis0';\n\n  if (baseAxis.type !== 'category') {\n    return;\n  }\n\n  var bandWidth = baseAxis.getBandWidth();\n\n  for (var i = 0; i < opt.count || 0; i++) {\n    params.push(defaults({\n      bandWidth: bandWidth,\n      axisKey: axisKey,\n      stackId: STACK_PREFIX + i\n    }, opt));\n  }\n\n  var widthAndOffsets = doCalBarWidthAndOffset(params);\n  var result = [];\n\n  for (var i = 0; i < opt.count; i++) {\n    var item = widthAndOffsets[axisKey][STACK_PREFIX + i];\n    item.offsetCenter = item.offset + item.width / 2;\n    result.push(item);\n  }\n\n  return result;\n}\nexport function prepareLayoutBarSeries(seriesType, ecModel) {\n  var seriesModels = [];\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    // Check series coordinate, do layout for cartesian2d only\n    if (isOnCartesian(seriesModel)) {\n      seriesModels.push(seriesModel);\n    }\n  });\n  return seriesModels;\n}\n/**\n * Map from (baseAxis.dim + '_' + baseAxis.index) to min gap of two adjacent\n * values.\n * This works for time axes, value axes, and log axes.\n * For a single time axis, return value is in the form like\n * {'x_0': [1000000]}.\n * The value of 1000000 is in milliseconds.\n */\n\nfunction getValueAxesMinGaps(barSeries) {\n  /**\n   * Map from axis.index to values.\n   * For a single time axis, axisValues is in the form like\n   * {'x_0': [1495555200000, 1495641600000, 1495728000000]}.\n   * Items in axisValues[x], e.g. 1495555200000, are time values of all\n   * series.\n   */\n  var axisValues = {};\n  each(barSeries, function (seriesModel) {\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n\n    if (baseAxis.type !== 'time' && baseAxis.type !== 'value') {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var key = baseAxis.dim + '_' + baseAxis.index;\n    var dimIdx = data.getDimensionIndex(data.mapDimension(baseAxis.dim));\n    var store = data.getStore();\n\n    for (var i = 0, cnt = store.count(); i < cnt; ++i) {\n      var value = store.get(dimIdx, i);\n\n      if (!axisValues[key]) {\n        // No previous data for the axis\n        axisValues[key] = [value];\n      } else {\n        // No value in previous series\n        axisValues[key].push(value);\n      } // Ignore duplicated time values in the same axis\n\n    }\n  });\n  var axisMinGaps = {};\n\n  for (var key in axisValues) {\n    if (axisValues.hasOwnProperty(key)) {\n      var valuesInAxis = axisValues[key];\n\n      if (valuesInAxis) {\n        // Sort axis values into ascending order to calculate gaps\n        valuesInAxis.sort(function (a, b) {\n          return a - b;\n        });\n        var min = null;\n\n        for (var j = 1; j < valuesInAxis.length; ++j) {\n          var delta = valuesInAxis[j] - valuesInAxis[j - 1];\n\n          if (delta > 0) {\n            // Ignore 0 delta because they are of the same axis value\n            min = min === null ? delta : Math.min(min, delta);\n          }\n        } // Set to null if only have one data\n\n\n        axisMinGaps[key] = min;\n      }\n    }\n  }\n\n  return axisMinGaps;\n}\n\nexport function makeColumnLayout(barSeries) {\n  var axisMinGaps = getValueAxesMinGaps(barSeries);\n  var seriesInfoList = [];\n  each(barSeries, function (seriesModel) {\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var axisExtent = baseAxis.getExtent();\n    var bandWidth;\n\n    if (baseAxis.type === 'category') {\n      bandWidth = baseAxis.getBandWidth();\n    } else if (baseAxis.type === 'value' || baseAxis.type === 'time') {\n      var key = baseAxis.dim + '_' + baseAxis.index;\n      var minGap = axisMinGaps[key];\n      var extentSpan = Math.abs(axisExtent[1] - axisExtent[0]);\n      var scale = baseAxis.scale.getExtent();\n      var scaleSpan = Math.abs(scale[1] - scale[0]);\n      bandWidth = minGap ? extentSpan / scaleSpan * minGap : extentSpan; // When there is only one data value\n    } else {\n      var data = seriesModel.getData();\n      bandWidth = Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n    }\n\n    var barWidth = parsePercent(seriesModel.get('barWidth'), bandWidth);\n    var barMaxWidth = parsePercent(seriesModel.get('barMaxWidth'), bandWidth);\n    var barMinWidth = parsePercent( // barMinWidth by default is 0.5 / 1 in cartesian. Because in value axis,\n    // the auto-calculated bar width might be less than 0.5 / 1.\n    seriesModel.get('barMinWidth') || (isInLargeMode(seriesModel) ? 0.5 : 1), bandWidth);\n    var barGap = seriesModel.get('barGap');\n    var barCategoryGap = seriesModel.get('barCategoryGap');\n    seriesInfoList.push({\n      bandWidth: bandWidth,\n      barWidth: barWidth,\n      barMaxWidth: barMaxWidth,\n      barMinWidth: barMinWidth,\n      barGap: barGap,\n      barCategoryGap: barCategoryGap,\n      axisKey: getAxisKey(baseAxis),\n      stackId: getSeriesStackId(seriesModel)\n    });\n  });\n  return doCalBarWidthAndOffset(seriesInfoList);\n}\n\nfunction doCalBarWidthAndOffset(seriesInfoList) {\n  // Columns info on each category axis. Key is cartesian name\n  var columnsMap = {};\n  each(seriesInfoList, function (seriesInfo, idx) {\n    var axisKey = seriesInfo.axisKey;\n    var bandWidth = seriesInfo.bandWidth;\n    var columnsOnAxis = columnsMap[axisKey] || {\n      bandWidth: bandWidth,\n      remainedWidth: bandWidth,\n      autoWidthCount: 0,\n      categoryGap: null,\n      gap: '20%',\n      stacks: {}\n    };\n    var stacks = columnsOnAxis.stacks;\n    columnsMap[axisKey] = columnsOnAxis;\n    var stackId = seriesInfo.stackId;\n\n    if (!stacks[stackId]) {\n      columnsOnAxis.autoWidthCount++;\n    }\n\n    stacks[stackId] = stacks[stackId] || {\n      width: 0,\n      maxWidth: 0\n    }; // Caution: In a single coordinate system, these barGrid attributes\n    // will be shared by series. Consider that they have default values,\n    // only the attributes set on the last series will work.\n    // Do not change this fact unless there will be a break change.\n\n    var barWidth = seriesInfo.barWidth;\n\n    if (barWidth && !stacks[stackId].width) {\n      // See #6312, do not restrict width.\n      stacks[stackId].width = barWidth;\n      barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n      columnsOnAxis.remainedWidth -= barWidth;\n    }\n\n    var barMaxWidth = seriesInfo.barMaxWidth;\n    barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n    var barMinWidth = seriesInfo.barMinWidth;\n    barMinWidth && (stacks[stackId].minWidth = barMinWidth);\n    var barGap = seriesInfo.barGap;\n    barGap != null && (columnsOnAxis.gap = barGap);\n    var barCategoryGap = seriesInfo.barCategoryGap;\n    barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n  });\n  var result = {};\n  each(columnsMap, function (columnsOnAxis, coordSysName) {\n    result[coordSysName] = {};\n    var stacks = columnsOnAxis.stacks;\n    var bandWidth = columnsOnAxis.bandWidth;\n    var categoryGapPercent = columnsOnAxis.categoryGap;\n\n    if (categoryGapPercent == null) {\n      var columnCount = keys(stacks).length; // More columns in one group\n      // the spaces between group is smaller. Or the column will be too thin.\n\n      categoryGapPercent = Math.max(35 - columnCount * 4, 15) + '%';\n    }\n\n    var categoryGap = parsePercent(categoryGapPercent, bandWidth);\n    var barGapPercent = parsePercent(columnsOnAxis.gap, 1);\n    var remainedWidth = columnsOnAxis.remainedWidth;\n    var autoWidthCount = columnsOnAxis.autoWidthCount;\n    var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0); // Find if any auto calculated bar exceeded maxBarWidth\n\n    each(stacks, function (column) {\n      var maxWidth = column.maxWidth;\n      var minWidth = column.minWidth;\n\n      if (!column.width) {\n        var finalWidth = autoWidth;\n\n        if (maxWidth && maxWidth < finalWidth) {\n          finalWidth = Math.min(maxWidth, remainedWidth);\n        } // `minWidth` has higher priority. `minWidth` decide that wheter the\n        // bar is able to be visible. So `minWidth` should not be restricted\n        // by `maxWidth` or `remainedWidth` (which is from `bandWidth`). In\n        // the extreme cases for `value` axis, bars are allowed to overlap\n        // with each other if `minWidth` specified.\n\n\n        if (minWidth && minWidth > finalWidth) {\n          finalWidth = minWidth;\n        }\n\n        if (finalWidth !== autoWidth) {\n          column.width = finalWidth;\n          remainedWidth -= finalWidth + barGapPercent * finalWidth;\n          autoWidthCount--;\n        }\n      } else {\n        // `barMinWidth/barMaxWidth` has higher priority than `barWidth`, as\n        // CSS does. Becuase barWidth can be a percent value, where\n        // `barMaxWidth` can be used to restrict the final width.\n        var finalWidth = column.width;\n\n        if (maxWidth) {\n          finalWidth = Math.min(finalWidth, maxWidth);\n        } // `minWidth` has higher priority, as described above\n\n\n        if (minWidth) {\n          finalWidth = Math.max(finalWidth, minWidth);\n        }\n\n        column.width = finalWidth;\n        remainedWidth -= finalWidth + barGapPercent * finalWidth;\n        autoWidthCount--;\n      }\n    }); // Recalculate width again\n\n    autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    var widthSum = 0;\n    var lastColumn;\n    each(stacks, function (column, idx) {\n      if (!column.width) {\n        column.width = autoWidth;\n      }\n\n      lastColumn = column;\n      widthSum += column.width * (1 + barGapPercent);\n    });\n\n    if (lastColumn) {\n      widthSum -= lastColumn.width * barGapPercent;\n    }\n\n    var offset = -widthSum / 2;\n    each(stacks, function (column, stackId) {\n      result[coordSysName][stackId] = result[coordSysName][stackId] || {\n        bandWidth: bandWidth,\n        offset: offset,\n        width: column.width\n      };\n      offset += column.width * (1 + barGapPercent);\n    });\n  });\n  return result;\n}\n\nfunction retrieveColumnLayout(barWidthAndOffset, axis, seriesModel) {\n  if (barWidthAndOffset && axis) {\n    var result = barWidthAndOffset[getAxisKey(axis)];\n\n    if (result != null && seriesModel != null) {\n      return result[getSeriesStackId(seriesModel)];\n    }\n\n    return result;\n  }\n}\n\nexport { retrieveColumnLayout };\nexport function layout(seriesType, ecModel) {\n  var seriesModels = prepareLayoutBarSeries(seriesType, ecModel);\n  var barWidthAndOffset = makeColumnLayout(seriesModels);\n  each(seriesModels, function (seriesModel) {\n    var data = seriesModel.getData();\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var stackId = getSeriesStackId(seriesModel);\n    var columnLayoutInfo = barWidthAndOffset[getAxisKey(baseAxis)][stackId];\n    var columnOffset = columnLayoutInfo.offset;\n    var columnWidth = columnLayoutInfo.width;\n    data.setLayout({\n      bandWidth: columnLayoutInfo.bandWidth,\n      offset: columnOffset,\n      size: columnWidth\n    });\n  });\n} // TODO: Do not support stack in large mode yet.\n\nexport function createProgressiveLayout(seriesType) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      if (!isOnCartesian(seriesModel)) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      var cartesian = seriesModel.coordinateSystem;\n      var baseAxis = cartesian.getBaseAxis();\n      var valueAxis = cartesian.getOtherAxis(baseAxis);\n      var valueDimIdx = data.getDimensionIndex(data.mapDimension(valueAxis.dim));\n      var baseDimIdx = data.getDimensionIndex(data.mapDimension(baseAxis.dim));\n      var drawBackground = seriesModel.get('showBackground', true);\n      var valueDim = data.mapDimension(valueAxis.dim);\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n      var stacked = isDimensionStacked(data, valueDim) && !!data.getCalculationInfo('stackedOnSeries');\n      var isValueAxisH = valueAxis.isHorizontal();\n      var valueAxisStart = getValueAxisStart(baseAxis, valueAxis);\n      var isLarge = isInLargeMode(seriesModel);\n      var barMinHeight = seriesModel.get('barMinHeight') || 0;\n      var stackedDimIdx = stackResultDim && data.getDimensionIndex(stackResultDim); // Layout info.\n\n      var columnWidth = data.getLayout('size');\n      var columnOffset = data.getLayout('offset');\n      return {\n        progress: function (params, data) {\n          var count = params.count;\n          var largePoints = isLarge && createFloat32Array(count * 3);\n          var largeBackgroundPoints = isLarge && drawBackground && createFloat32Array(count * 3);\n          var largeDataIndices = isLarge && createFloat32Array(count);\n          var coordLayout = cartesian.master.getRect();\n          var bgSize = isValueAxisH ? coordLayout.width : coordLayout.height;\n          var dataIndex;\n          var store = data.getStore();\n          var idxOffset = 0;\n\n          while ((dataIndex = params.next()) != null) {\n            var value = store.get(stacked ? stackedDimIdx : valueDimIdx, dataIndex);\n            var baseValue = store.get(baseDimIdx, dataIndex);\n            var baseCoord = valueAxisStart;\n            var startValue = void 0; // Because of the barMinHeight, we can not use the value in\n            // stackResultDimension directly.\n\n            if (stacked) {\n              startValue = +value - store.get(valueDimIdx, dataIndex);\n            }\n\n            var x = void 0;\n            var y = void 0;\n            var width = void 0;\n            var height = void 0;\n\n            if (isValueAxisH) {\n              var coord = cartesian.dataToPoint([value, baseValue]);\n\n              if (stacked) {\n                var startCoord = cartesian.dataToPoint([startValue, baseValue]);\n                baseCoord = startCoord[0];\n              }\n\n              x = baseCoord;\n              y = coord[1] + columnOffset;\n              width = coord[0] - baseCoord;\n              height = columnWidth;\n\n              if (Math.abs(width) < barMinHeight) {\n                width = (width < 0 ? -1 : 1) * barMinHeight;\n              }\n            } else {\n              var coord = cartesian.dataToPoint([baseValue, value]);\n\n              if (stacked) {\n                var startCoord = cartesian.dataToPoint([baseValue, startValue]);\n                baseCoord = startCoord[1];\n              }\n\n              x = coord[0] + columnOffset;\n              y = baseCoord;\n              width = columnWidth;\n              height = coord[1] - baseCoord;\n\n              if (Math.abs(height) < barMinHeight) {\n                // Include zero to has a positive bar\n                height = (height <= 0 ? -1 : 1) * barMinHeight;\n              }\n            }\n\n            if (!isLarge) {\n              data.setItemLayout(dataIndex, {\n                x: x,\n                y: y,\n                width: width,\n                height: height\n              });\n            } else {\n              largePoints[idxOffset] = x;\n              largePoints[idxOffset + 1] = y;\n              largePoints[idxOffset + 2] = isValueAxisH ? width : height;\n\n              if (largeBackgroundPoints) {\n                largeBackgroundPoints[idxOffset] = isValueAxisH ? coordLayout.x : x;\n                largeBackgroundPoints[idxOffset + 1] = isValueAxisH ? y : coordLayout.y;\n                largeBackgroundPoints[idxOffset + 2] = bgSize;\n              }\n\n              largeDataIndices[dataIndex] = dataIndex;\n            }\n\n            idxOffset += 3;\n          }\n\n          if (isLarge) {\n            data.setLayout({\n              largePoints: largePoints,\n              largeDataIndices: largeDataIndices,\n              largeBackgroundPoints: largeBackgroundPoints,\n              valueAxisHorizontal: isValueAxisH\n            });\n          }\n        }\n      };\n    }\n  };\n}\n\nfunction isOnCartesian(seriesModel) {\n  return seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'cartesian2d';\n}\n\nfunction isInLargeMode(seriesModel) {\n  return seriesModel.pipelineContext && seriesModel.pipelineContext.large;\n} // See cases in `test/bar-start.html` and `#7412`, `#8747`.\n\n\nfunction getValueAxisStart(baseAxis, valueAxis) {\n  return valueAxis.toGlobalCoord(valueAxis.dataToCoord(valueAxis.type === 'log' ? 1 : 0));\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/*\n* A third-party license is embeded for some of the code in this file:\n* The \"scaleLevels\" was originally copied from \"d3.js\" with some\n* modifications made for this project.\n* (See more details in the comment on the definition of \"scaleLevels\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\n// [About UTC and local time zone]:\n// In most cases, `number.parseDate` will treat input data string as local time\n// (except time zone is specified in time string). And `format.formateTime` returns\n// local time by default. option.useUTC is false by default. This design have\n// concidered these common case:\n// (1) Time that is persistent in server is in UTC, but it is needed to be diplayed\n// in local time by default.\n// (2) By default, the input data string (e.g., '2011-01-02') should be displayed\n// as its original time, without any time difference.\n\nimport * as numberUtil from '../util/number.js';\nimport { ONE_SECOND, ONE_MINUTE, ONE_HOUR, ONE_DAY, ONE_YEAR, format, leveledFormat, getUnitValue, timeUnits, fullLeveledFormatter, getPrimaryTimeUnit, isPrimaryTimeUnit, getDefaultFormatPrecisionOfInterval, fullYearGetterName, monthSetterName, fullYearSetterName, dateSetterName, hoursGetterName, hoursSetterName, minutesSetterName, secondsSetterName, millisecondsSetterName, monthGetterName, dateGetterName, minutesGetterName, secondsGetterName, millisecondsGetterName } from '../util/time.js';\nimport * as scaleHelper from './helper.js';\nimport IntervalScale from './Interval.js';\nimport Scale from './Scale.js';\nimport { warn } from '../util/log.js';\nimport { filter, isNumber, map } from 'zrender/lib/core/util.js'; // FIXME \u516C\u7528\uFF1F\n\nvar bisect = function (a, x, lo, hi) {\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n\n    if (a[mid][1] < x) {\n      lo = mid + 1;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return lo;\n};\n\nvar TimeScale =\n/** @class */\nfunction (_super) {\n  __extends(TimeScale, _super);\n\n  function TimeScale(settings) {\n    var _this = _super.call(this, settings) || this;\n\n    _this.type = 'time';\n    return _this;\n  }\n  /**\n   * Get label is mainly for other components like dataZoom, tooltip.\n   */\n\n\n  TimeScale.prototype.getLabel = function (tick) {\n    var useUTC = this.getSetting('useUTC');\n    return format(tick.value, fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))] || fullLeveledFormatter.second, useUTC, this.getSetting('locale'));\n  };\n\n  TimeScale.prototype.getFormattedLabel = function (tick, idx, labelFormatter) {\n    var isUTC = this.getSetting('useUTC');\n    var lang = this.getSetting('locale');\n    return leveledFormat(tick, idx, labelFormatter, lang, isUTC);\n  };\n  /**\n   * @override\n   */\n\n\n  TimeScale.prototype.getTicks = function () {\n    var interval = this._interval;\n    var extent = this._extent;\n    var ticks = []; // If interval is 0, return [];\n\n    if (!interval) {\n      return ticks;\n    }\n\n    ticks.push({\n      value: extent[0],\n      level: 0\n    });\n    var useUTC = this.getSetting('useUTC');\n    var innerTicks = getIntervalTicks(this._minLevelUnit, this._approxInterval, useUTC, extent);\n    ticks = ticks.concat(innerTicks);\n    ticks.push({\n      value: extent[1],\n      level: 0\n    });\n    return ticks;\n  };\n\n  TimeScale.prototype.calcNiceExtent = function (opt) {\n    var extent = this._extent; // If extent start and end are same, expand them\n\n    if (extent[0] === extent[1]) {\n      // Expand extent\n      extent[0] -= ONE_DAY;\n      extent[1] += ONE_DAY;\n    } // If there are no data and extent are [Infinity, -Infinity]\n\n\n    if (extent[1] === -Infinity && extent[0] === Infinity) {\n      var d = new Date();\n      extent[1] = +new Date(d.getFullYear(), d.getMonth(), d.getDate());\n      extent[0] = extent[1] - ONE_DAY;\n    }\n\n    this.calcNiceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval);\n  };\n\n  TimeScale.prototype.calcNiceTicks = function (approxTickNum, minInterval, maxInterval) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n    this._approxInterval = span / approxTickNum;\n\n    if (minInterval != null && this._approxInterval < minInterval) {\n      this._approxInterval = minInterval;\n    }\n\n    if (maxInterval != null && this._approxInterval > maxInterval) {\n      this._approxInterval = maxInterval;\n    }\n\n    var scaleIntervalsLen = scaleIntervals.length;\n    var idx = Math.min(bisect(scaleIntervals, this._approxInterval, 0, scaleIntervalsLen), scaleIntervalsLen - 1); // Interval that can be used to calculate ticks\n\n    this._interval = scaleIntervals[idx][1]; // Min level used when picking ticks from top down.\n    // We check one more level to avoid the ticks are to sparse in some case.\n\n    this._minLevelUnit = scaleIntervals[Math.max(idx - 1, 0)][0];\n  };\n\n  TimeScale.prototype.parse = function (val) {\n    // val might be float.\n    return isNumber(val) ? val : +numberUtil.parseDate(val);\n  };\n\n  TimeScale.prototype.contain = function (val) {\n    return scaleHelper.contain(this.parse(val), this._extent);\n  };\n\n  TimeScale.prototype.normalize = function (val) {\n    return scaleHelper.normalize(this.parse(val), this._extent);\n  };\n\n  TimeScale.prototype.scale = function (val) {\n    return scaleHelper.scale(val, this._extent);\n  };\n\n  TimeScale.type = 'time';\n  return TimeScale;\n}(IntervalScale);\n/**\n * This implementation was originally copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/time/scale.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n */\n\n\nvar scaleIntervals = [// Format                           interval\n['second', ONE_SECOND], ['minute', ONE_MINUTE], ['hour', ONE_HOUR], ['quarter-day', ONE_HOUR * 6], ['half-day', ONE_HOUR * 12], ['day', ONE_DAY * 1.2], ['half-week', ONE_DAY * 3.5], ['week', ONE_DAY * 7], ['month', ONE_DAY * 31], ['quarter', ONE_DAY * 95], ['half-year', ONE_YEAR / 2], ['year', ONE_YEAR] // 1Y\n];\n\nfunction isUnitValueSame(unit, valueA, valueB, isUTC) {\n  var dateA = numberUtil.parseDate(valueA);\n  var dateB = numberUtil.parseDate(valueB);\n\n  var isSame = function (unit) {\n    return getUnitValue(dateA, unit, isUTC) === getUnitValue(dateB, unit, isUTC);\n  };\n\n  var isSameYear = function () {\n    return isSame('year');\n  }; // const isSameHalfYear = () => isSameYear() && isSame('half-year');\n  // const isSameQuater = () => isSameYear() && isSame('quarter');\n\n\n  var isSameMonth = function () {\n    return isSameYear() && isSame('month');\n  };\n\n  var isSameDay = function () {\n    return isSameMonth() && isSame('day');\n  }; // const isSameHalfDay = () => isSameDay() && isSame('half-day');\n\n\n  var isSameHour = function () {\n    return isSameDay() && isSame('hour');\n  };\n\n  var isSameMinute = function () {\n    return isSameHour() && isSame('minute');\n  };\n\n  var isSameSecond = function () {\n    return isSameMinute() && isSame('second');\n  };\n\n  var isSameMilliSecond = function () {\n    return isSameSecond() && isSame('millisecond');\n  };\n\n  switch (unit) {\n    case 'year':\n      return isSameYear();\n\n    case 'month':\n      return isSameMonth();\n\n    case 'day':\n      return isSameDay();\n\n    case 'hour':\n      return isSameHour();\n\n    case 'minute':\n      return isSameMinute();\n\n    case 'second':\n      return isSameSecond();\n\n    case 'millisecond':\n      return isSameMilliSecond();\n  }\n} // const primaryUnitGetters = {\n//     year: fullYearGetterName(),\n//     month: monthGetterName(),\n//     day: dateGetterName(),\n//     hour: hoursGetterName(),\n//     minute: minutesGetterName(),\n//     second: secondsGetterName(),\n//     millisecond: millisecondsGetterName()\n// };\n// const primaryUnitUTCGetters = {\n//     year: fullYearGetterName(true),\n//     month: monthGetterName(true),\n//     day: dateGetterName(true),\n//     hour: hoursGetterName(true),\n//     minute: minutesGetterName(true),\n//     second: secondsGetterName(true),\n//     millisecond: millisecondsGetterName(true)\n// };\n// function moveTick(date: Date, unitName: TimeUnit, step: number, isUTC: boolean) {\n//     step = step || 1;\n//     switch (getPrimaryTimeUnit(unitName)) {\n//         case 'year':\n//             date[fullYearSetterName(isUTC)](date[fullYearGetterName(isUTC)]() + step);\n//             break;\n//         case 'month':\n//             date[monthSetterName(isUTC)](date[monthGetterName(isUTC)]() + step);\n//             break;\n//         case 'day':\n//             date[dateSetterName(isUTC)](date[dateGetterName(isUTC)]() + step);\n//             break;\n//         case 'hour':\n//             date[hoursSetterName(isUTC)](date[hoursGetterName(isUTC)]() + step);\n//             break;\n//         case 'minute':\n//             date[minutesSetterName(isUTC)](date[minutesGetterName(isUTC)]() + step);\n//             break;\n//         case 'second':\n//             date[secondsSetterName(isUTC)](date[secondsGetterName(isUTC)]() + step);\n//             break;\n//         case 'millisecond':\n//             date[millisecondsSetterName(isUTC)](date[millisecondsGetterName(isUTC)]() + step);\n//             break;\n//     }\n//     return date.getTime();\n// }\n// const DATE_INTERVALS = [[8, 7.5], [4, 3.5], [2, 1.5]];\n// const MONTH_INTERVALS = [[6, 5.5], [3, 2.5], [2, 1.5]];\n// const MINUTES_SECONDS_INTERVALS = [[30, 30], [20, 20], [15, 15], [10, 10], [5, 5], [2, 2]];\n\n\nfunction getDateInterval(approxInterval, daysInMonth) {\n  approxInterval /= ONE_DAY;\n  return approxInterval > 16 ? 16 // Math.floor(daysInMonth / 2) + 1  // In this case we only want one tick betwen two month.\n  : approxInterval > 7.5 ? 7 // TODO week 7 or day 8?\n  : approxInterval > 3.5 ? 4 : approxInterval > 1.5 ? 2 : 1;\n}\n\nfunction getMonthInterval(approxInterval) {\n  var APPROX_ONE_MONTH = 30 * ONE_DAY;\n  approxInterval /= APPROX_ONE_MONTH;\n  return approxInterval > 6 ? 6 : approxInterval > 3 ? 3 : approxInterval > 2 ? 2 : 1;\n}\n\nfunction getHourInterval(approxInterval) {\n  approxInterval /= ONE_HOUR;\n  return approxInterval > 12 ? 12 : approxInterval > 6 ? 6 : approxInterval > 3.5 ? 4 : approxInterval > 2 ? 2 : 1;\n}\n\nfunction getMinutesAndSecondsInterval(approxInterval, isMinutes) {\n  approxInterval /= isMinutes ? ONE_MINUTE : ONE_SECOND;\n  return approxInterval > 30 ? 30 : approxInterval > 20 ? 20 : approxInterval > 15 ? 15 : approxInterval > 10 ? 10 : approxInterval > 5 ? 5 : approxInterval > 2 ? 2 : 1;\n}\n\nfunction getMillisecondsInterval(approxInterval) {\n  return numberUtil.nice(approxInterval, true);\n}\n\nfunction getFirstTimestampOfUnit(date, unitName, isUTC) {\n  var outDate = new Date(date);\n\n  switch (getPrimaryTimeUnit(unitName)) {\n    case 'year':\n    case 'month':\n      outDate[monthSetterName(isUTC)](0);\n\n    case 'day':\n      outDate[dateSetterName(isUTC)](1);\n\n    case 'hour':\n      outDate[hoursSetterName(isUTC)](0);\n\n    case 'minute':\n      outDate[minutesSetterName(isUTC)](0);\n\n    case 'second':\n      outDate[secondsSetterName(isUTC)](0);\n      outDate[millisecondsSetterName(isUTC)](0);\n  }\n\n  return outDate.getTime();\n}\n\nfunction getIntervalTicks(bottomUnitName, approxInterval, isUTC, extent) {\n  var safeLimit = 10000;\n  var unitNames = timeUnits;\n  var iter = 0;\n\n  function addTicksInSpan(interval, minTimestamp, maxTimestamp, getMethodName, setMethodName, isDate, out) {\n    var date = new Date(minTimestamp);\n    var dateTime = minTimestamp;\n    var d = date[getMethodName](); // if (isDate) {\n    //     d -= 1; // Starts with 0;   PENDING\n    // }\n\n    while (dateTime < maxTimestamp && dateTime <= extent[1]) {\n      out.push({\n        value: dateTime\n      });\n      d += interval;\n      date[setMethodName](d);\n      dateTime = date.getTime();\n    } // This extra tick is for calcuating ticks of next level. Will not been added to the final result\n\n\n    out.push({\n      value: dateTime,\n      notAdd: true\n    });\n  }\n\n  function addLevelTicks(unitName, lastLevelTicks, levelTicks) {\n    var newAddedTicks = [];\n    var isFirstLevel = !lastLevelTicks.length;\n\n    if (isUnitValueSame(getPrimaryTimeUnit(unitName), extent[0], extent[1], isUTC)) {\n      return;\n    }\n\n    if (isFirstLevel) {\n      lastLevelTicks = [{\n        // TODO Optimize. Not include so may ticks.\n        value: getFirstTimestampOfUnit(new Date(extent[0]), unitName, isUTC)\n      }, {\n        value: extent[1]\n      }];\n    }\n\n    for (var i = 0; i < lastLevelTicks.length - 1; i++) {\n      var startTick = lastLevelTicks[i].value;\n      var endTick = lastLevelTicks[i + 1].value;\n\n      if (startTick === endTick) {\n        continue;\n      }\n\n      var interval = void 0;\n      var getterName = void 0;\n      var setterName = void 0;\n      var isDate = false;\n\n      switch (unitName) {\n        case 'year':\n          interval = Math.max(1, Math.round(approxInterval / ONE_DAY / 365));\n          getterName = fullYearGetterName(isUTC);\n          setterName = fullYearSetterName(isUTC);\n          break;\n\n        case 'half-year':\n        case 'quarter':\n        case 'month':\n          interval = getMonthInterval(approxInterval);\n          getterName = monthGetterName(isUTC);\n          setterName = monthSetterName(isUTC);\n          break;\n\n        case 'week': // PENDING If week is added. Ignore day.\n\n        case 'half-week':\n        case 'day':\n          interval = getDateInterval(approxInterval, 31); // Use 32 days and let interval been 16\n\n          getterName = dateGetterName(isUTC);\n          setterName = dateSetterName(isUTC);\n          isDate = true;\n          break;\n\n        case 'half-day':\n        case 'quarter-day':\n        case 'hour':\n          interval = getHourInterval(approxInterval);\n          getterName = hoursGetterName(isUTC);\n          setterName = hoursSetterName(isUTC);\n          break;\n\n        case 'minute':\n          interval = getMinutesAndSecondsInterval(approxInterval, true);\n          getterName = minutesGetterName(isUTC);\n          setterName = minutesSetterName(isUTC);\n          break;\n\n        case 'second':\n          interval = getMinutesAndSecondsInterval(approxInterval, false);\n          getterName = secondsGetterName(isUTC);\n          setterName = secondsSetterName(isUTC);\n          break;\n\n        case 'millisecond':\n          interval = getMillisecondsInterval(approxInterval);\n          getterName = millisecondsGetterName(isUTC);\n          setterName = millisecondsSetterName(isUTC);\n          break;\n      }\n\n      addTicksInSpan(interval, startTick, endTick, getterName, setterName, isDate, newAddedTicks);\n\n      if (unitName === 'year' && levelTicks.length > 1 && i === 0) {\n        // Add nearest years to the left extent.\n        levelTicks.unshift({\n          value: levelTicks[0].value - interval\n        });\n      }\n    }\n\n    for (var i = 0; i < newAddedTicks.length; i++) {\n      levelTicks.push(newAddedTicks[i]);\n    } // newAddedTicks.length && console.log(unitName, newAddedTicks);\n\n\n    return newAddedTicks;\n  }\n\n  var levelsTicks = [];\n  var currentLevelTicks = [];\n  var tickCount = 0;\n  var lastLevelTickCount = 0;\n\n  for (var i = 0; i < unitNames.length && iter++ < safeLimit; ++i) {\n    var primaryTimeUnit = getPrimaryTimeUnit(unitNames[i]);\n\n    if (!isPrimaryTimeUnit(unitNames[i])) {\n      // TODO\n      continue;\n    }\n\n    addLevelTicks(unitNames[i], levelsTicks[levelsTicks.length - 1] || [], currentLevelTicks);\n    var nextPrimaryTimeUnit = unitNames[i + 1] ? getPrimaryTimeUnit(unitNames[i + 1]) : null;\n\n    if (primaryTimeUnit !== nextPrimaryTimeUnit) {\n      if (currentLevelTicks.length) {\n        lastLevelTickCount = tickCount; // Remove the duplicate so the tick count can be precisely.\n\n        currentLevelTicks.sort(function (a, b) {\n          return a.value - b.value;\n        });\n        var levelTicksRemoveDuplicated = [];\n\n        for (var i_1 = 0; i_1 < currentLevelTicks.length; ++i_1) {\n          var tickValue = currentLevelTicks[i_1].value;\n\n          if (i_1 === 0 || currentLevelTicks[i_1 - 1].value !== tickValue) {\n            levelTicksRemoveDuplicated.push(currentLevelTicks[i_1]);\n\n            if (tickValue >= extent[0] && tickValue <= extent[1]) {\n              tickCount++;\n            }\n          }\n        }\n\n        var targetTickNum = (extent[1] - extent[0]) / approxInterval; // Added too much in this level and not too less in last level\n\n        if (tickCount > targetTickNum * 1.5 && lastLevelTickCount > targetTickNum / 1.5) {\n          break;\n        } // Only treat primary time unit as one level.\n\n\n        levelsTicks.push(levelTicksRemoveDuplicated);\n\n        if (tickCount > targetTickNum || bottomUnitName === unitNames[i]) {\n          break;\n        }\n      } // Reset if next unitName is primary\n\n\n      currentLevelTicks = [];\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (iter >= safeLimit) {\n      warn('Exceed safe limit.');\n    }\n  }\n\n  var levelsTicksInExtent = filter(map(levelsTicks, function (levelTicks) {\n    return filter(levelTicks, function (tick) {\n      return tick.value >= extent[0] && tick.value <= extent[1] && !tick.notAdd;\n    });\n  }), function (levelTicks) {\n    return levelTicks.length > 0;\n  });\n  var ticks = [];\n  var maxLevel = levelsTicksInExtent.length - 1;\n\n  for (var i = 0; i < levelsTicksInExtent.length; ++i) {\n    var levelTicks = levelsTicksInExtent[i];\n\n    for (var k = 0; k < levelTicks.length; ++k) {\n      ticks.push({\n        value: levelTicks[k].value,\n        level: maxLevel - i\n      });\n    }\n  }\n\n  ticks.sort(function (a, b) {\n    return a.value - b.value;\n  }); // Remove duplicates\n\n  var result = [];\n\n  for (var i = 0; i < ticks.length; ++i) {\n    if (i === 0 || ticks[i].value !== ticks[i - 1].value) {\n      result.push(ticks[i]);\n    }\n  }\n\n  return result;\n}\n\nScale.registerClass(TimeScale);\nexport default TimeScale;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Scale from './Scale.js';\nimport * as numberUtil from '../util/number.js';\nimport * as scaleHelper from './helper.js'; // Use some method of IntervalScale\n\nimport IntervalScale from './Interval.js';\nvar scaleProto = Scale.prototype; // FIXME:TS refactor: not good to call it directly with `this`?\n\nvar intervalScaleProto = IntervalScale.prototype;\nvar roundingErrorFix = numberUtil.round;\nvar mathFloor = Math.floor;\nvar mathCeil = Math.ceil;\nvar mathPow = Math.pow;\nvar mathLog = Math.log;\n\nvar LogScale =\n/** @class */\nfunction (_super) {\n  __extends(LogScale, _super);\n\n  function LogScale() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'log';\n    _this.base = 10;\n    _this._originalScale = new IntervalScale(); // FIXME:TS actually used by `IntervalScale`\n\n    _this._interval = 0;\n    return _this;\n  }\n  /**\n   * @param Whether expand the ticks to niced extent.\n   */\n\n\n  LogScale.prototype.getTicks = function (expandToNicedExtent) {\n    var originalScale = this._originalScale;\n    var extent = this._extent;\n    var originalExtent = originalScale.getExtent();\n    var ticks = intervalScaleProto.getTicks.call(this, expandToNicedExtent);\n    return zrUtil.map(ticks, function (tick) {\n      var val = tick.value;\n      var powVal = numberUtil.round(mathPow(this.base, val)); // Fix #4158\n\n      powVal = val === extent[0] && this._fixMin ? fixRoundingError(powVal, originalExtent[0]) : powVal;\n      powVal = val === extent[1] && this._fixMax ? fixRoundingError(powVal, originalExtent[1]) : powVal;\n      return {\n        value: powVal\n      };\n    }, this);\n  };\n\n  LogScale.prototype.setExtent = function (start, end) {\n    var base = this.base;\n    start = mathLog(start) / mathLog(base);\n    end = mathLog(end) / mathLog(base);\n    intervalScaleProto.setExtent.call(this, start, end);\n  };\n  /**\n   * @return {number} end\n   */\n\n\n  LogScale.prototype.getExtent = function () {\n    var base = this.base;\n    var extent = scaleProto.getExtent.call(this);\n    extent[0] = mathPow(base, extent[0]);\n    extent[1] = mathPow(base, extent[1]); // Fix #4158\n\n    var originalScale = this._originalScale;\n    var originalExtent = originalScale.getExtent();\n    this._fixMin && (extent[0] = fixRoundingError(extent[0], originalExtent[0]));\n    this._fixMax && (extent[1] = fixRoundingError(extent[1], originalExtent[1]));\n    return extent;\n  };\n\n  LogScale.prototype.unionExtent = function (extent) {\n    this._originalScale.unionExtent(extent);\n\n    var base = this.base;\n    extent[0] = mathLog(extent[0]) / mathLog(base);\n    extent[1] = mathLog(extent[1]) / mathLog(base);\n    scaleProto.unionExtent.call(this, extent);\n  };\n\n  LogScale.prototype.unionExtentFromData = function (data, dim) {\n    // TODO\n    // filter value that <= 0\n    this.unionExtent(data.getApproximateExtent(dim));\n  };\n  /**\n   * Update interval and extent of intervals for nice ticks\n   * @param approxTickNum default 10 Given approx tick number\n   */\n\n\n  LogScale.prototype.calcNiceTicks = function (approxTickNum) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n\n    if (span === Infinity || span <= 0) {\n      return;\n    }\n\n    var interval = numberUtil.quantity(span);\n    var err = approxTickNum / span * interval; // Filter ticks to get closer to the desired count.\n\n    if (err <= 0.5) {\n      interval *= 10;\n    } // Interval should be integer\n\n\n    while (!isNaN(interval) && Math.abs(interval) < 1 && Math.abs(interval) > 0) {\n      interval *= 10;\n    }\n\n    var niceExtent = [numberUtil.round(mathCeil(extent[0] / interval) * interval), numberUtil.round(mathFloor(extent[1] / interval) * interval)];\n    this._interval = interval;\n    this._niceExtent = niceExtent;\n  };\n\n  LogScale.prototype.calcNiceExtent = function (opt) {\n    intervalScaleProto.calcNiceExtent.call(this, opt);\n    this._fixMin = opt.fixMin;\n    this._fixMax = opt.fixMax;\n  };\n\n  LogScale.prototype.parse = function (val) {\n    return val;\n  };\n\n  LogScale.prototype.contain = function (val) {\n    val = mathLog(val) / mathLog(this.base);\n    return scaleHelper.contain(val, this._extent);\n  };\n\n  LogScale.prototype.normalize = function (val) {\n    val = mathLog(val) / mathLog(this.base);\n    return scaleHelper.normalize(val, this._extent);\n  };\n\n  LogScale.prototype.scale = function (val) {\n    val = scaleHelper.scale(val, this._extent);\n    return mathPow(this.base, val);\n  };\n\n  LogScale.type = 'log';\n  return LogScale;\n}(Scale);\n\nvar proto = LogScale.prototype;\nproto.getMinorTicks = intervalScaleProto.getMinorTicks;\nproto.getLabel = intervalScaleProto.getLabel;\n\nfunction fixRoundingError(val, originalVal) {\n  return roundingErrorFix(val, numberUtil.getPrecision(originalVal));\n}\n\nScale.registerClass(LogScale);\nexport default LogScale;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { assert, isArray, eqNaN, isFunction } from 'zrender/lib/core/util.js';\nimport { parsePercent } from 'zrender/lib/contain/text.js';\n\nvar ScaleRawExtentInfo =\n/** @class */\nfunction () {\n  function ScaleRawExtentInfo(scale, model, // Usually: data extent from all series on this axis.\n  originalExtent) {\n    this._prepareParams(scale, model, originalExtent);\n  }\n  /**\n   * Parameters depending on ouside (like model, user callback)\n   * are prepared and fixed here.\n   */\n\n\n  ScaleRawExtentInfo.prototype._prepareParams = function (scale, model, // Usually: data extent from all series on this axis.\n  dataExtent) {\n    if (dataExtent[1] < dataExtent[0]) {\n      dataExtent = [NaN, NaN];\n    }\n\n    this._dataMin = dataExtent[0];\n    this._dataMax = dataExtent[1];\n    var isOrdinal = this._isOrdinal = scale.type === 'ordinal';\n    this._needCrossZero = scale.type === 'interval' && model.getNeedCrossZero && model.getNeedCrossZero();\n    var modelMinRaw = this._modelMinRaw = model.get('min', true);\n\n    if (isFunction(modelMinRaw)) {\n      // This callback alway provide users the full data extent (before data filtered).\n      this._modelMinNum = parseAxisModelMinMax(scale, modelMinRaw({\n        min: dataExtent[0],\n        max: dataExtent[1]\n      }));\n    } else if (modelMinRaw !== 'dataMin') {\n      this._modelMinNum = parseAxisModelMinMax(scale, modelMinRaw);\n    }\n\n    var modelMaxRaw = this._modelMaxRaw = model.get('max', true);\n\n    if (isFunction(modelMaxRaw)) {\n      // This callback alway provide users the full data extent (before data filtered).\n      this._modelMaxNum = parseAxisModelMinMax(scale, modelMaxRaw({\n        min: dataExtent[0],\n        max: dataExtent[1]\n      }));\n    } else if (modelMaxRaw !== 'dataMax') {\n      this._modelMaxNum = parseAxisModelMinMax(scale, modelMaxRaw);\n    }\n\n    if (isOrdinal) {\n      // FIXME: there is a flaw here: if there is no \"block\" data processor like `dataZoom`,\n      // and progressive rendering is using, here the category result might just only contain\n      // the processed chunk rather than the entire result.\n      this._axisDataLen = model.getCategories().length;\n    } else {\n      var boundaryGap = model.get('boundaryGap');\n      var boundaryGapArr = isArray(boundaryGap) ? boundaryGap : [boundaryGap || 0, boundaryGap || 0];\n\n      if (typeof boundaryGapArr[0] === 'boolean' || typeof boundaryGapArr[1] === 'boolean') {\n        if (process.env.NODE_ENV !== 'production') {\n          console.warn('Boolean type for boundaryGap is only ' + 'allowed for ordinal axis. Please use string in ' + 'percentage instead, e.g., \"20%\". Currently, ' + 'boundaryGap is set to be 0.');\n        }\n\n        this._boundaryGapInner = [0, 0];\n      } else {\n        this._boundaryGapInner = [parsePercent(boundaryGapArr[0], 1), parsePercent(boundaryGapArr[1], 1)];\n      }\n    }\n  };\n  /**\n   * Calculate extent by prepared parameters.\n   * This method has no external dependency and can be called duplicatedly,\n   * getting the same result.\n   * If parameters changed, should call this method to recalcuate.\n   */\n\n\n  ScaleRawExtentInfo.prototype.calculate = function () {\n    // Notice: When min/max is not set (that is, when there are null/undefined,\n    // which is the most common case), these cases should be ensured:\n    // (1) For 'ordinal', show all axis.data.\n    // (2) For others:\n    //      + `boundaryGap` is applied (if min/max set, boundaryGap is\n    //      disabled).\n    //      + If `needCrossZero`, min/max should be zero, otherwise, min/max should\n    //      be the result that originalExtent enlarged by boundaryGap.\n    // (3) If no data, it should be ensured that `scale.setBlank` is set.\n    var isOrdinal = this._isOrdinal;\n    var dataMin = this._dataMin;\n    var dataMax = this._dataMax;\n    var axisDataLen = this._axisDataLen;\n    var boundaryGapInner = this._boundaryGapInner;\n    var span = !isOrdinal ? dataMax - dataMin || Math.abs(dataMin) : null; // Currently if a `'value'` axis model min is specified as 'dataMin'/'dataMax',\n    // `boundaryGap` will not be used. It's the different from specifying as `null`/`undefined`.\n\n    var min = this._modelMinRaw === 'dataMin' ? dataMin : this._modelMinNum;\n    var max = this._modelMaxRaw === 'dataMax' ? dataMax : this._modelMaxNum; // If `_modelMinNum`/`_modelMaxNum` is `null`/`undefined`, should not be fixed.\n\n    var minFixed = min != null;\n    var maxFixed = max != null;\n\n    if (min == null) {\n      min = isOrdinal ? axisDataLen ? 0 : NaN : dataMin - boundaryGapInner[0] * span;\n    }\n\n    if (max == null) {\n      max = isOrdinal ? axisDataLen ? axisDataLen - 1 : NaN : dataMax + boundaryGapInner[1] * span;\n    }\n\n    (min == null || !isFinite(min)) && (min = NaN);\n    (max == null || !isFinite(max)) && (max = NaN);\n    var isBlank = eqNaN(min) || eqNaN(max) || isOrdinal && !axisDataLen; // If data extent modified, need to recalculated to ensure cross zero.\n\n    if (this._needCrossZero) {\n      // Axis is over zero and min is not set\n      if (min > 0 && max > 0 && !minFixed) {\n        min = 0; // minFixed = true;\n      } // Axis is under zero and max is not set\n\n\n      if (min < 0 && max < 0 && !maxFixed) {\n        max = 0; // maxFixed = true;\n      } // PENDING:\n      // When `needCrossZero` and all data is positive/negative, should it be ensured\n      // that the results processed by boundaryGap are positive/negative?\n      // If so, here `minFixed`/`maxFixed` need to be set.\n\n    }\n\n    var determinedMin = this._determinedMin;\n    var determinedMax = this._determinedMax;\n\n    if (determinedMin != null) {\n      min = determinedMin;\n      minFixed = true;\n    }\n\n    if (determinedMax != null) {\n      max = determinedMax;\n      maxFixed = true;\n    } // Ensure min/max be finite number or NaN here. (not to be null/undefined)\n    // `NaN` means min/max axis is blank.\n\n\n    return {\n      min: min,\n      max: max,\n      minFixed: minFixed,\n      maxFixed: maxFixed,\n      isBlank: isBlank\n    };\n  };\n\n  ScaleRawExtentInfo.prototype.modifyDataMinMax = function (minMaxName, val) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this.frozen);\n    }\n\n    this[DATA_MIN_MAX_ATTR[minMaxName]] = val;\n  };\n\n  ScaleRawExtentInfo.prototype.setDeterminedMinMax = function (minMaxName, val) {\n    var attr = DETERMINED_MIN_MAX_ATTR[minMaxName];\n\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this.frozen // Earse them usually means logic flaw.\n      && this[attr] == null);\n    }\n\n    this[attr] = val;\n  };\n\n  ScaleRawExtentInfo.prototype.freeze = function () {\n    // @ts-ignore\n    this.frozen = true;\n  };\n\n  return ScaleRawExtentInfo;\n}();\n\nexport { ScaleRawExtentInfo };\nvar DETERMINED_MIN_MAX_ATTR = {\n  min: '_determinedMin',\n  max: '_determinedMax'\n};\nvar DATA_MIN_MAX_ATTR = {\n  min: '_dataMin',\n  max: '_dataMax'\n};\n/**\n * Get scale min max and related info only depends on model settings.\n * This method can be called after coordinate system created.\n * For example, in data processing stage.\n *\n * Scale extent info probably be required multiple times during a workflow.\n * For example:\n * (1) `dataZoom` depends it to get the axis extent in \"100%\" state.\n * (2) `processor/extentCalculator` depends it to make sure whether axis extent is specified.\n * (3) `coordSys.update` use it to finally decide the scale extent.\n * But the callback of `min`/`max` should not be called multiple times.\n * The code below should not be implemented repeatedly either.\n * So we cache the result in the scale instance, which will be recreated at the begining\n * of the workflow (because `scale` instance will be recreated each round of the workflow).\n */\n\nexport function ensureScaleRawExtentInfo(scale, model, // Usually: data extent from all series on this axis.\noriginalExtent) {\n  // Do not permit to recreate.\n  var rawExtentInfo = scale.rawExtentInfo;\n\n  if (rawExtentInfo) {\n    return rawExtentInfo;\n  }\n\n  rawExtentInfo = new ScaleRawExtentInfo(scale, model, originalExtent); // @ts-ignore\n\n  scale.rawExtentInfo = rawExtentInfo;\n  return rawExtentInfo;\n}\nexport function parseAxisModelMinMax(scale, minMax) {\n  return minMax == null ? null : eqNaN(minMax) ? NaN : scale.parse(minMax);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport OrdinalScale from '../scale/Ordinal.js';\nimport IntervalScale from '../scale/Interval.js';\nimport Scale from '../scale/Scale.js';\nimport { prepareLayoutBarSeries, makeColumnLayout, retrieveColumnLayout } from '../layout/barGrid.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport TimeScale from '../scale/Time.js';\nimport LogScale from '../scale/Log.js';\nimport { getStackedDimension } from '../data/helper/dataStackHelper.js';\nimport { ensureScaleRawExtentInfo } from './scaleRawExtentInfo.js';\n/**\n * Get axis scale extent before niced.\n * Item of returned array can only be number (including Infinity and NaN).\n *\n * Caution:\n * Precondition of calling this method:\n * The scale extent has been initialized using series data extent via\n * `scale.setExtent` or `scale.unionExtentFromData`;\n */\n\nexport function getScaleExtent(scale, model) {\n  var scaleType = scale.type;\n  var rawExtentResult = ensureScaleRawExtentInfo(scale, model, scale.getExtent()).calculate();\n  scale.setBlank(rawExtentResult.isBlank);\n  var min = rawExtentResult.min;\n  var max = rawExtentResult.max; // If bars are placed on a base axis of type time or interval account for axis boundary overflow and current axis\n  // is base axis\n  // FIXME\n  // (1) Consider support value axis, where below zero and axis `onZero` should be handled properly.\n  // (2) Refactor the logic with `barGrid`. Is it not need to `makeBarWidthAndOffsetInfo` twice with different extent?\n  //     Should not depend on series type `bar`?\n  // (3) Fix that might overlap when using dataZoom.\n  // (4) Consider other chart types using `barGrid`?\n  // See #6728, #4862, `test/bar-overflow-time-plot.html`\n\n  var ecModel = model.ecModel;\n\n  if (ecModel && scaleType === 'time'\n  /*|| scaleType === 'interval' */\n  ) {\n    var barSeriesModels = prepareLayoutBarSeries('bar', ecModel);\n    var isBaseAxisAndHasBarSeries_1 = false;\n    zrUtil.each(barSeriesModels, function (seriesModel) {\n      isBaseAxisAndHasBarSeries_1 = isBaseAxisAndHasBarSeries_1 || seriesModel.getBaseAxis() === model.axis;\n    });\n\n    if (isBaseAxisAndHasBarSeries_1) {\n      // Calculate placement of bars on axis. TODO should be decoupled\n      // with barLayout\n      var barWidthAndOffset = makeColumnLayout(barSeriesModels); // Adjust axis min and max to account for overflow\n\n      var adjustedScale = adjustScaleForOverflow(min, max, model, barWidthAndOffset);\n      min = adjustedScale.min;\n      max = adjustedScale.max;\n    }\n  }\n\n  return {\n    extent: [min, max],\n    // \"fix\" means \"fixed\", the value should not be\n    // changed in the subsequent steps.\n    fixMin: rawExtentResult.minFixed,\n    fixMax: rawExtentResult.maxFixed\n  };\n}\n\nfunction adjustScaleForOverflow(min, max, model, // Only support cartesian coord yet.\nbarWidthAndOffset) {\n  // Get Axis Length\n  var axisExtent = model.axis.getExtent();\n  var axisLength = axisExtent[1] - axisExtent[0]; // Get bars on current base axis and calculate min and max overflow\n\n  var barsOnCurrentAxis = retrieveColumnLayout(barWidthAndOffset, model.axis);\n\n  if (barsOnCurrentAxis === undefined) {\n    return {\n      min: min,\n      max: max\n    };\n  }\n\n  var minOverflow = Infinity;\n  zrUtil.each(barsOnCurrentAxis, function (item) {\n    minOverflow = Math.min(item.offset, minOverflow);\n  });\n  var maxOverflow = -Infinity;\n  zrUtil.each(barsOnCurrentAxis, function (item) {\n    maxOverflow = Math.max(item.offset + item.width, maxOverflow);\n  });\n  minOverflow = Math.abs(minOverflow);\n  maxOverflow = Math.abs(maxOverflow);\n  var totalOverFlow = minOverflow + maxOverflow; // Calculate required buffer based on old range and overflow\n\n  var oldRange = max - min;\n  var oldRangePercentOfNew = 1 - (minOverflow + maxOverflow) / axisLength;\n  var overflowBuffer = oldRange / oldRangePercentOfNew - oldRange;\n  max += overflowBuffer * (maxOverflow / totalOverFlow);\n  min -= overflowBuffer * (minOverflow / totalOverFlow);\n  return {\n    min: min,\n    max: max\n  };\n} // Precondition of calling this method:\n// The scale extent has been initailized using series data extent via\n// `scale.setExtent` or `scale.unionExtentFromData`;\n\n\nexport function niceScaleExtent(scale, inModel) {\n  var model = inModel;\n  var extentInfo = getScaleExtent(scale, model);\n  var extent = extentInfo.extent;\n  var splitNumber = model.get('splitNumber');\n\n  if (scale instanceof LogScale) {\n    scale.base = model.get('logBase');\n  }\n\n  var scaleType = scale.type;\n  var interval = model.get('interval');\n  var isIntervalOrTime = scaleType === 'interval' || scaleType === 'time';\n  scale.setExtent(extent[0], extent[1]);\n  scale.calcNiceExtent({\n    splitNumber: splitNumber,\n    fixMin: extentInfo.fixMin,\n    fixMax: extentInfo.fixMax,\n    minInterval: isIntervalOrTime ? model.get('minInterval') : null,\n    maxInterval: isIntervalOrTime ? model.get('maxInterval') : null\n  }); // If some one specified the min, max. And the default calculated interval\n  // is not good enough. He can specify the interval. It is often appeared\n  // in angle axis with angle 0 - 360. Interval calculated in interval scale is hard\n  // to be 60.\n  // FIXME\n\n  if (interval != null) {\n    scale.setInterval && scale.setInterval(interval);\n  }\n}\n/**\n * @param axisType Default retrieve from model.type\n */\n\nexport function createScaleByModel(model, axisType) {\n  axisType = axisType || model.get('type');\n\n  if (axisType) {\n    switch (axisType) {\n      // Buildin scale\n      case 'category':\n        return new OrdinalScale({\n          ordinalMeta: model.getOrdinalMeta ? model.getOrdinalMeta() : model.getCategories(),\n          extent: [Infinity, -Infinity]\n        });\n\n      case 'time':\n        return new TimeScale({\n          locale: model.ecModel.getLocaleModel(),\n          useUTC: model.ecModel.get('useUTC')\n        });\n\n      default:\n        // case 'value'/'interval', 'log', or others.\n        return new (Scale.getClass(axisType) || IntervalScale)();\n    }\n  }\n}\n/**\n * Check if the axis cross 0\n */\n\nexport function ifAxisCrossZero(axis) {\n  var dataExtent = axis.scale.getExtent();\n  var min = dataExtent[0];\n  var max = dataExtent[1];\n  return !(min > 0 && max > 0 || min < 0 && max < 0);\n}\n/**\n * @param axis\n * @return Label formatter function.\n *         param: {number} tickValue,\n *         param: {number} idx, the index in all ticks.\n *                         If category axis, this param is not required.\n *         return: {string} label string.\n */\n\nexport function makeLabelFormatter(axis) {\n  var labelFormatter = axis.getLabelModel().get('formatter');\n  var categoryTickStart = axis.type === 'category' ? axis.scale.getExtent()[0] : null;\n\n  if (axis.scale.type === 'time') {\n    return function (tpl) {\n      return function (tick, idx) {\n        return axis.scale.getFormattedLabel(tick, idx, tpl);\n      };\n    }(labelFormatter);\n  } else if (zrUtil.isString(labelFormatter)) {\n    return function (tpl) {\n      return function (tick) {\n        // For category axis, get raw value; for numeric axis,\n        // get formatted label like '1,333,444'.\n        var label = axis.scale.getLabel(tick);\n        var text = tpl.replace('{value}', label != null ? label : '');\n        return text;\n      };\n    }(labelFormatter);\n  } else if (zrUtil.isFunction(labelFormatter)) {\n    return function (cb) {\n      return function (tick, idx) {\n        // The original intention of `idx` is \"the index of the tick in all ticks\".\n        // But the previous implementation of category axis do not consider the\n        // `axisLabel.interval`, which cause that, for example, the `interval` is\n        // `1`, then the ticks \"name5\", \"name7\", \"name9\" are displayed, where the\n        // corresponding `idx` are `0`, `2`, `4`, but not `0`, `1`, `2`. So we keep\n        // the definition here for back compatibility.\n        if (categoryTickStart != null) {\n          idx = tick.value - categoryTickStart;\n        }\n\n        return cb(getAxisRawValue(axis, tick), idx, tick.level != null ? {\n          level: tick.level\n        } : null);\n      };\n    }(labelFormatter);\n  } else {\n    return function (tick) {\n      return axis.scale.getLabel(tick);\n    };\n  }\n}\nexport function getAxisRawValue(axis, tick) {\n  // In category axis with data zoom, tick is not the original\n  // index of axis.data. So tick should not be exposed to user\n  // in category axis.\n  return axis.type === 'category' ? axis.scale.getLabel(tick) : tick.value;\n}\n/**\n * @param axis\n * @return Be null/undefined if no labels.\n */\n\nexport function estimateLabelUnionRect(axis) {\n  var axisModel = axis.model;\n  var scale = axis.scale;\n\n  if (!axisModel.get(['axisLabel', 'show']) || scale.isBlank()) {\n    return;\n  }\n\n  var realNumberScaleTicks;\n  var tickCount;\n  var categoryScaleExtent = scale.getExtent(); // Optimize for large category data, avoid call `getTicks()`.\n\n  if (scale instanceof OrdinalScale) {\n    tickCount = scale.count();\n  } else {\n    realNumberScaleTicks = scale.getTicks();\n    tickCount = realNumberScaleTicks.length;\n  }\n\n  var axisLabelModel = axis.getLabelModel();\n  var labelFormatter = makeLabelFormatter(axis);\n  var rect;\n  var step = 1; // Simple optimization for large amount of labels\n\n  if (tickCount > 40) {\n    step = Math.ceil(tickCount / 40);\n  }\n\n  for (var i = 0; i < tickCount; i += step) {\n    var tick = realNumberScaleTicks ? realNumberScaleTicks[i] : {\n      value: categoryScaleExtent[0] + i\n    };\n    var label = labelFormatter(tick, i);\n    var unrotatedSingleRect = axisLabelModel.getTextRect(label);\n    var singleRect = rotateTextRect(unrotatedSingleRect, axisLabelModel.get('rotate') || 0);\n    rect ? rect.union(singleRect) : rect = singleRect;\n  }\n\n  return rect;\n}\n\nfunction rotateTextRect(textRect, rotate) {\n  var rotateRadians = rotate * Math.PI / 180;\n  var beforeWidth = textRect.width;\n  var beforeHeight = textRect.height;\n  var afterWidth = beforeWidth * Math.abs(Math.cos(rotateRadians)) + Math.abs(beforeHeight * Math.sin(rotateRadians));\n  var afterHeight = beforeWidth * Math.abs(Math.sin(rotateRadians)) + Math.abs(beforeHeight * Math.cos(rotateRadians));\n  var rotatedRect = new BoundingRect(textRect.x, textRect.y, afterWidth, afterHeight);\n  return rotatedRect;\n}\n/**\n * @param model axisLabelModel or axisTickModel\n * @return {number|String} Can be null|'auto'|number|function\n */\n\n\nexport function getOptionCategoryInterval(model) {\n  var interval = model.get('interval');\n  return interval == null ? 'auto' : interval;\n}\n/**\n * Set `categoryInterval` as 0 implicitly indicates that\n * show all labels reguardless of overlap.\n * @param {Object} axis axisModel.axis\n */\n\nexport function shouldShowAllLabels(axis) {\n  return axis.type === 'category' && getOptionCategoryInterval(axis.getLabelModel()) === 0;\n}\nexport function getDataDimensionsOnAxis(data, axisDim) {\n  // Remove duplicated dat dimensions caused by `getStackedDimension`.\n  var dataDimMap = {}; // Currently `mapDimensionsAll` will contain stack result dimension ('__\\0ecstackresult').\n  // PENDING: is it reasonable? Do we need to remove the original dim from \"coord dim\" since\n  // there has been stacked result dim?\n\n  zrUtil.each(data.mapDimensionsAll(axisDim), function (dataDim) {\n    // For example, the extent of the original dimension\n    // is [0.1, 0.5], the extent of the `stackResultDimension`\n    // is [7, 9], the final extent should NOT include [0.1, 0.5],\n    // because there is no graphic corresponding to [0.1, 0.5].\n    // See the case in `test/area-stack.html` `main1`, where area line\n    // stack needs `yAxis` not start from 0.\n    dataDimMap[getStackedDimension(data, dataDim)] = true;\n  });\n  return zrUtil.keys(dataDimMap);\n}\nexport function unionAxisExtentFromData(dataExtent, data, axisDim) {\n  if (data) {\n    zrUtil.each(getDataDimensionsOnAxis(data, axisDim), function (dim) {\n      var seriesExtent = data.getApproximateExtent(dim);\n      seriesExtent[0] < dataExtent[0] && (dataExtent[0] = seriesExtent[0]);\n      seriesExtent[1] > dataExtent[1] && (dataExtent[1] = seriesExtent[1]);\n    });\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as textContain from 'zrender/lib/contain/text.js';\nimport { makeInner } from '../util/model.js';\nimport { makeLabelFormatter, getOptionCategoryInterval, shouldShowAllLabels } from './axisHelper.js';\nvar inner = makeInner();\nexport function createAxisLabels(axis) {\n  // Only ordinal scale support tick interval\n  return axis.type === 'category' ? makeCategoryLabels(axis) : makeRealNumberLabels(axis);\n}\n/**\n * @param {module:echats/coord/Axis} axis\n * @param {module:echarts/model/Model} tickModel For example, can be axisTick, splitLine, splitArea.\n * @return {Object} {\n *     ticks: Array.<number>\n *     tickCategoryInterval: number\n * }\n */\n\nexport function createAxisTicks(axis, tickModel) {\n  // Only ordinal scale support tick interval\n  return axis.type === 'category' ? makeCategoryTicks(axis, tickModel) : {\n    ticks: zrUtil.map(axis.scale.getTicks(), function (tick) {\n      return tick.value;\n    })\n  };\n}\n\nfunction makeCategoryLabels(axis) {\n  var labelModel = axis.getLabelModel();\n  var result = makeCategoryLabelsActually(axis, labelModel);\n  return !labelModel.get('show') || axis.scale.isBlank() ? {\n    labels: [],\n    labelCategoryInterval: result.labelCategoryInterval\n  } : result;\n}\n\nfunction makeCategoryLabelsActually(axis, labelModel) {\n  var labelsCache = getListCache(axis, 'labels');\n  var optionLabelInterval = getOptionCategoryInterval(labelModel);\n  var result = listCacheGet(labelsCache, optionLabelInterval);\n\n  if (result) {\n    return result;\n  }\n\n  var labels;\n  var numericLabelInterval;\n\n  if (zrUtil.isFunction(optionLabelInterval)) {\n    labels = makeLabelsByCustomizedCategoryInterval(axis, optionLabelInterval);\n  } else {\n    numericLabelInterval = optionLabelInterval === 'auto' ? makeAutoCategoryInterval(axis) : optionLabelInterval;\n    labels = makeLabelsByNumericCategoryInterval(axis, numericLabelInterval);\n  } // Cache to avoid calling interval function repeatly.\n\n\n  return listCacheSet(labelsCache, optionLabelInterval, {\n    labels: labels,\n    labelCategoryInterval: numericLabelInterval\n  });\n}\n\nfunction makeCategoryTicks(axis, tickModel) {\n  var ticksCache = getListCache(axis, 'ticks');\n  var optionTickInterval = getOptionCategoryInterval(tickModel);\n  var result = listCacheGet(ticksCache, optionTickInterval);\n\n  if (result) {\n    return result;\n  }\n\n  var ticks;\n  var tickCategoryInterval; // Optimize for the case that large category data and no label displayed,\n  // we should not return all ticks.\n\n  if (!tickModel.get('show') || axis.scale.isBlank()) {\n    ticks = [];\n  }\n\n  if (zrUtil.isFunction(optionTickInterval)) {\n    ticks = makeLabelsByCustomizedCategoryInterval(axis, optionTickInterval, true);\n  } // Always use label interval by default despite label show. Consider this\n  // scenario, Use multiple grid with the xAxis sync, and only one xAxis shows\n  // labels. `splitLine` and `axisTick` should be consistent in this case.\n  else if (optionTickInterval === 'auto') {\n      var labelsResult = makeCategoryLabelsActually(axis, axis.getLabelModel());\n      tickCategoryInterval = labelsResult.labelCategoryInterval;\n      ticks = zrUtil.map(labelsResult.labels, function (labelItem) {\n        return labelItem.tickValue;\n      });\n    } else {\n      tickCategoryInterval = optionTickInterval;\n      ticks = makeLabelsByNumericCategoryInterval(axis, tickCategoryInterval, true);\n    } // Cache to avoid calling interval function repeatly.\n\n\n  return listCacheSet(ticksCache, optionTickInterval, {\n    ticks: ticks,\n    tickCategoryInterval: tickCategoryInterval\n  });\n}\n\nfunction makeRealNumberLabels(axis) {\n  var ticks = axis.scale.getTicks();\n  var labelFormatter = makeLabelFormatter(axis);\n  return {\n    labels: zrUtil.map(ticks, function (tick, idx) {\n      return {\n        level: tick.level,\n        formattedLabel: labelFormatter(tick, idx),\n        rawLabel: axis.scale.getLabel(tick),\n        tickValue: tick.value\n      };\n    })\n  };\n}\n\nfunction getListCache(axis, prop) {\n  // Because key can be funciton, and cache size always be small, we use array cache.\n  return inner(axis)[prop] || (inner(axis)[prop] = []);\n}\n\nfunction listCacheGet(cache, key) {\n  for (var i = 0; i < cache.length; i++) {\n    if (cache[i].key === key) {\n      return cache[i].value;\n    }\n  }\n}\n\nfunction listCacheSet(cache, key, value) {\n  cache.push({\n    key: key,\n    value: value\n  });\n  return value;\n}\n\nfunction makeAutoCategoryInterval(axis) {\n  var result = inner(axis).autoInterval;\n  return result != null ? result : inner(axis).autoInterval = axis.calculateCategoryInterval();\n}\n/**\n * Calculate interval for category axis ticks and labels.\n * To get precise result, at least one of `getRotate` and `isHorizontal`\n * should be implemented in axis.\n */\n\n\nexport function calculateCategoryInterval(axis) {\n  var params = fetchAutoCategoryIntervalCalculationParams(axis);\n  var labelFormatter = makeLabelFormatter(axis);\n  var rotation = (params.axisRotate - params.labelRotate) / 180 * Math.PI;\n  var ordinalScale = axis.scale;\n  var ordinalExtent = ordinalScale.getExtent(); // Providing this method is for optimization:\n  // avoid generating a long array by `getTicks`\n  // in large category data case.\n\n  var tickCount = ordinalScale.count();\n\n  if (ordinalExtent[1] - ordinalExtent[0] < 1) {\n    return 0;\n  }\n\n  var step = 1; // Simple optimization. Empirical value: tick count should less than 40.\n\n  if (tickCount > 40) {\n    step = Math.max(1, Math.floor(tickCount / 40));\n  }\n\n  var tickValue = ordinalExtent[0];\n  var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);\n  var unitW = Math.abs(unitSpan * Math.cos(rotation));\n  var unitH = Math.abs(unitSpan * Math.sin(rotation));\n  var maxW = 0;\n  var maxH = 0; // Caution: Performance sensitive for large category data.\n  // Consider dataZoom, we should make appropriate step to avoid O(n) loop.\n\n  for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n    var width = 0;\n    var height = 0; // Not precise, do not consider align and vertical align\n    // and each distance from axis line yet.\n\n    var rect = textContain.getBoundingRect(labelFormatter({\n      value: tickValue\n    }), params.font, 'center', 'top'); // Magic number\n\n    width = rect.width * 1.3;\n    height = rect.height * 1.3; // Min size, void long loop.\n\n    maxW = Math.max(maxW, width, 7);\n    maxH = Math.max(maxH, height, 7);\n  }\n\n  var dw = maxW / unitW;\n  var dh = maxH / unitH; // 0/0 is NaN, 1/0 is Infinity.\n\n  isNaN(dw) && (dw = Infinity);\n  isNaN(dh) && (dh = Infinity);\n  var interval = Math.max(0, Math.floor(Math.min(dw, dh)));\n  var cache = inner(axis.model);\n  var axisExtent = axis.getExtent();\n  var lastAutoInterval = cache.lastAutoInterval;\n  var lastTickCount = cache.lastTickCount; // Use cache to keep interval stable while moving zoom window,\n  // otherwise the calculated interval might jitter when the zoom\n  // window size is close to the interval-changing size.\n  // For example, if all of the axis labels are `a, b, c, d, e, f, g`.\n  // The jitter will cause that sometimes the displayed labels are\n  // `a, d, g` (interval: 2) sometimes `a, c, e`(interval: 1).\n\n  if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1 // Always choose the bigger one, otherwise the critical\n  // point is not the same when zooming in or zooming out.\n  && lastAutoInterval > interval // If the axis change is caused by chart resize, the cache should not\n  // be used. Otherwise some hiden labels might not be shown again.\n  && cache.axisExtent0 === axisExtent[0] && cache.axisExtent1 === axisExtent[1]) {\n    interval = lastAutoInterval;\n  } // Only update cache if cache not used, otherwise the\n  // changing of interval is too insensitive.\n  else {\n      cache.lastTickCount = tickCount;\n      cache.lastAutoInterval = interval;\n      cache.axisExtent0 = axisExtent[0];\n      cache.axisExtent1 = axisExtent[1];\n    }\n\n  return interval;\n}\n\nfunction fetchAutoCategoryIntervalCalculationParams(axis) {\n  var labelModel = axis.getLabelModel();\n  return {\n    axisRotate: axis.getRotate ? axis.getRotate() : axis.isHorizontal && !axis.isHorizontal() ? 90 : 0,\n    labelRotate: labelModel.get('rotate') || 0,\n    font: labelModel.getFont()\n  };\n}\n\nfunction makeLabelsByNumericCategoryInterval(axis, categoryInterval, onlyTick) {\n  var labelFormatter = makeLabelFormatter(axis);\n  var ordinalScale = axis.scale;\n  var ordinalExtent = ordinalScale.getExtent();\n  var labelModel = axis.getLabelModel();\n  var result = []; // TODO: axisType: ordinalTime, pick the tick from each month/day/year/...\n\n  var step = Math.max((categoryInterval || 0) + 1, 1);\n  var startTick = ordinalExtent[0];\n  var tickCount = ordinalScale.count(); // Calculate start tick based on zero if possible to keep label consistent\n  // while zooming and moving while interval > 0. Otherwise the selection\n  // of displayable ticks and symbols probably keep changing.\n  // 3 is empirical value.\n\n  if (startTick !== 0 && step > 1 && tickCount / step > 2) {\n    startTick = Math.round(Math.ceil(startTick / step) * step);\n  } // (1) Only add min max label here but leave overlap checking\n  // to render stage, which also ensure the returned list\n  // suitable for splitLine and splitArea rendering.\n  // (2) Scales except category always contain min max label so\n  // do not need to perform this process.\n\n\n  var showAllLabel = shouldShowAllLabels(axis);\n  var includeMinLabel = labelModel.get('showMinLabel') || showAllLabel;\n  var includeMaxLabel = labelModel.get('showMaxLabel') || showAllLabel;\n\n  if (includeMinLabel && startTick !== ordinalExtent[0]) {\n    addItem(ordinalExtent[0]);\n  } // Optimize: avoid generating large array by `ordinalScale.getTicks()`.\n\n\n  var tickValue = startTick;\n\n  for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n    addItem(tickValue);\n  }\n\n  if (includeMaxLabel && tickValue - step !== ordinalExtent[1]) {\n    addItem(ordinalExtent[1]);\n  }\n\n  function addItem(tickValue) {\n    var tickObj = {\n      value: tickValue\n    };\n    result.push(onlyTick ? tickValue : {\n      formattedLabel: labelFormatter(tickObj),\n      rawLabel: ordinalScale.getLabel(tickObj),\n      tickValue: tickValue\n    });\n  }\n\n  return result;\n}\n\nfunction makeLabelsByCustomizedCategoryInterval(axis, categoryInterval, onlyTick) {\n  var ordinalScale = axis.scale;\n  var labelFormatter = makeLabelFormatter(axis);\n  var result = [];\n  zrUtil.each(ordinalScale.getTicks(), function (tick) {\n    var rawLabel = ordinalScale.getLabel(tick);\n    var tickValue = tick.value;\n\n    if (categoryInterval(tick.value, rawLabel)) {\n      result.push(onlyTick ? tickValue : {\n        formattedLabel: labelFormatter(tick),\n        rawLabel: rawLabel,\n        tickValue: tickValue\n      });\n    }\n  });\n  return result;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each, map } from 'zrender/lib/core/util.js';\nimport { linearMap, getPixelPrecision, round } from '../util/number.js';\nimport { createAxisTicks, createAxisLabels, calculateCategoryInterval } from './axisTickLabelBuilder.js';\nvar NORMALIZED_EXTENT = [0, 1];\n/**\n * Base class of Axis.\n */\n\nvar Axis =\n/** @class */\nfunction () {\n  function Axis(dim, scale, extent) {\n    this.onBand = false;\n    this.inverse = false;\n    this.dim = dim;\n    this.scale = scale;\n    this._extent = extent || [0, 0];\n  }\n  /**\n   * If axis extent contain given coord\n   */\n\n\n  Axis.prototype.contain = function (coord) {\n    var extent = this._extent;\n    var min = Math.min(extent[0], extent[1]);\n    var max = Math.max(extent[0], extent[1]);\n    return coord >= min && coord <= max;\n  };\n  /**\n   * If axis extent contain given data\n   */\n\n\n  Axis.prototype.containData = function (data) {\n    return this.scale.contain(data);\n  };\n  /**\n   * Get coord extent.\n   */\n\n\n  Axis.prototype.getExtent = function () {\n    return this._extent.slice();\n  };\n  /**\n   * Get precision used for formatting\n   */\n\n\n  Axis.prototype.getPixelPrecision = function (dataExtent) {\n    return getPixelPrecision(dataExtent || this.scale.getExtent(), this._extent);\n  };\n  /**\n   * Set coord extent\n   */\n\n\n  Axis.prototype.setExtent = function (start, end) {\n    var extent = this._extent;\n    extent[0] = start;\n    extent[1] = end;\n  };\n  /**\n   * Convert data to coord. Data is the rank if it has an ordinal scale\n   */\n\n\n  Axis.prototype.dataToCoord = function (data, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n    data = scale.normalize(data);\n\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n\n    return linearMap(data, NORMALIZED_EXTENT, extent, clamp);\n  };\n  /**\n   * Convert coord to data. Data is the rank if it has an ordinal scale\n   */\n\n\n  Axis.prototype.coordToData = function (coord, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n\n    var t = linearMap(coord, extent, NORMALIZED_EXTENT, clamp);\n    return this.scale.scale(t);\n  };\n  /**\n   * Convert pixel point to data in axis\n   */\n\n\n  Axis.prototype.pointToData = function (point, clamp) {\n    // Should be implemented in derived class if necessary.\n    return;\n  };\n  /**\n   * Different from `zrUtil.map(axis.getTicks(), axis.dataToCoord, axis)`,\n   * `axis.getTicksCoords` considers `onBand`, which is used by\n   * `boundaryGap:true` of category axis and splitLine and splitArea.\n   * @param opt.tickModel default: axis.model.getModel('axisTick')\n   * @param opt.clamp If `true`, the first and the last\n   *        tick must be at the axis end points. Otherwise, clip ticks\n   *        that outside the axis extent.\n   */\n\n\n  Axis.prototype.getTicksCoords = function (opt) {\n    opt = opt || {};\n    var tickModel = opt.tickModel || this.getTickModel();\n    var result = createAxisTicks(this, tickModel);\n    var ticks = result.ticks;\n    var ticksCoords = map(ticks, function (tickVal) {\n      return {\n        coord: this.dataToCoord(this.scale.type === 'ordinal' ? this.scale.getRawOrdinalNumber(tickVal) : tickVal),\n        tickValue: tickVal\n      };\n    }, this);\n    var alignWithLabel = tickModel.get('alignWithLabel');\n    fixOnBandTicksCoords(this, ticksCoords, alignWithLabel, opt.clamp);\n    return ticksCoords;\n  };\n\n  Axis.prototype.getMinorTicksCoords = function () {\n    if (this.scale.type === 'ordinal') {\n      // Category axis doesn't support minor ticks\n      return [];\n    }\n\n    var minorTickModel = this.model.getModel('minorTick');\n    var splitNumber = minorTickModel.get('splitNumber'); // Protection.\n\n    if (!(splitNumber > 0 && splitNumber < 100)) {\n      splitNumber = 5;\n    }\n\n    var minorTicks = this.scale.getMinorTicks(splitNumber);\n    var minorTicksCoords = map(minorTicks, function (minorTicksGroup) {\n      return map(minorTicksGroup, function (minorTick) {\n        return {\n          coord: this.dataToCoord(minorTick),\n          tickValue: minorTick\n        };\n      }, this);\n    }, this);\n    return minorTicksCoords;\n  };\n\n  Axis.prototype.getViewLabels = function () {\n    return createAxisLabels(this).labels;\n  };\n\n  Axis.prototype.getLabelModel = function () {\n    return this.model.getModel('axisLabel');\n  };\n  /**\n   * Notice here we only get the default tick model. For splitLine\n   * or splitArea, we should pass the splitLineModel or splitAreaModel\n   * manually when calling `getTicksCoords`.\n   * In GL, this method may be overrided to:\n   * `axisModel.getModel('axisTick', grid3DModel.getModel('axisTick'));`\n   */\n\n\n  Axis.prototype.getTickModel = function () {\n    return this.model.getModel('axisTick');\n  };\n  /**\n   * Get width of band\n   */\n\n\n  Axis.prototype.getBandWidth = function () {\n    var axisExtent = this._extent;\n    var dataExtent = this.scale.getExtent();\n    var len = dataExtent[1] - dataExtent[0] + (this.onBand ? 1 : 0); // Fix #2728, avoid NaN when only one data.\n\n    len === 0 && (len = 1);\n    var size = Math.abs(axisExtent[1] - axisExtent[0]);\n    return Math.abs(size) / len;\n  };\n  /**\n   * Only be called in category axis.\n   * Can be overrided, consider other axes like in 3D.\n   * @return Auto interval for cateogry axis tick and label\n   */\n\n\n  Axis.prototype.calculateCategoryInterval = function () {\n    return calculateCategoryInterval(this);\n  };\n\n  return Axis;\n}();\n\nfunction fixExtentWithBands(extent, nTick) {\n  var size = extent[1] - extent[0];\n  var len = nTick;\n  var margin = size / len / 2;\n  extent[0] += margin;\n  extent[1] -= margin;\n} // If axis has labels [1, 2, 3, 4]. Bands on the axis are\n// |---1---|---2---|---3---|---4---|.\n// So the displayed ticks and splitLine/splitArea should between\n// each data item, otherwise cause misleading (e.g., split tow bars\n// of a single data item when there are two bar series).\n// Also consider if tickCategoryInterval > 0 and onBand, ticks and\n// splitLine/spliteArea should layout appropriately corresponding\n// to displayed labels. (So we should not use `getBandWidth` in this\n// case).\n\n\nfunction fixOnBandTicksCoords(axis, ticksCoords, alignWithLabel, clamp) {\n  var ticksLen = ticksCoords.length;\n\n  if (!axis.onBand || alignWithLabel || !ticksLen) {\n    return;\n  }\n\n  var axisExtent = axis.getExtent();\n  var last;\n  var diffSize;\n\n  if (ticksLen === 1) {\n    ticksCoords[0].coord = axisExtent[0];\n    last = ticksCoords[1] = {\n      coord: axisExtent[0]\n    };\n  } else {\n    var crossLen = ticksCoords[ticksLen - 1].tickValue - ticksCoords[0].tickValue;\n    var shift_1 = (ticksCoords[ticksLen - 1].coord - ticksCoords[0].coord) / crossLen;\n    each(ticksCoords, function (ticksItem) {\n      ticksItem.coord -= shift_1 / 2;\n    });\n    var dataExtent = axis.scale.getExtent();\n    diffSize = 1 + dataExtent[1] - ticksCoords[ticksLen - 1].tickValue;\n    last = {\n      coord: ticksCoords[ticksLen - 1].coord + shift_1 * diffSize\n    };\n    ticksCoords.push(last);\n  }\n\n  var inverse = axisExtent[0] > axisExtent[1]; // Handling clamp.\n\n  if (littleThan(ticksCoords[0].coord, axisExtent[0])) {\n    clamp ? ticksCoords[0].coord = axisExtent[0] : ticksCoords.shift();\n  }\n\n  if (clamp && littleThan(axisExtent[0], ticksCoords[0].coord)) {\n    ticksCoords.unshift({\n      coord: axisExtent[0]\n    });\n  }\n\n  if (littleThan(axisExtent[1], last.coord)) {\n    clamp ? last.coord = axisExtent[1] : ticksCoords.pop();\n  }\n\n  if (clamp && littleThan(last.coord, axisExtent[1])) {\n    ticksCoords.push({\n      coord: axisExtent[1]\n    });\n  }\n\n  function littleThan(a, b) {\n    // Avoid rounding error cause calculated tick coord different with extent.\n    // It may cause an extra unecessary tick added.\n    a = round(a);\n    b = round(b);\n    return inverse ? a > b : a < b;\n  }\n}\n\nexport default Axis;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar AxisModelCommonMixin =\n/** @class */\nfunction () {\n  function AxisModelCommonMixin() {}\n\n  AxisModelCommonMixin.prototype.getNeedCrossZero = function () {\n    var option = this.option;\n    return !option.scale;\n  };\n  /**\n   * Should be implemented by each axis model if necessary.\n   * @return coordinate system model\n   */\n\n\n  AxisModelCommonMixin.prototype.getCoordSysModel = function () {\n    return;\n  };\n\n  return AxisModelCommonMixin;\n}();\n\nexport { AxisModelCommonMixin };"],
  "mappings": "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",
  "names": []
}
