
/**
 * @cypress/vue v0.0.0-development
 * (c) 2021 Cypress.io
 * Released under the MIT License
 */

'use strict';

var require$$0 = require('@cypress/webpack-dev-server');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var require$$0__default = /*#__PURE__*/_interopDefaultLegacy(require$$0);

/// <reference types="cypress" />
const { startDevServer } = require$$0__default['default'];

/**
 * Registers Cypress preprocessor for Vue component testing.
 * IMPORTANT to return the config object with
 * with the any changed environment variables.
 *
 * @param {Cypress.PluginConfigOptions} config Cypress config object.
 * @example
 *  // in your project's plugins/index.js file
 *  const preprocessor = require('@cypress/vue/dist/plugins/webpack')
 *  module.exports = (on, config) => {
 *    preprocessor(on, config)
 *    // IMPORTANT return the config object
 *    return config
 *  }
 */
const cypressPluginsFn = (on, config, webpackConfig) => {
  on('dev-server:start', (options) => startDevServer({ options, webpackConfig }));

  return config
};

var webpack = cypressPluginsFn;

module.exports = webpack;
